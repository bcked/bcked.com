import{S as dn,i as pn,s as gn,k as yt,l as St,m as It,h as nt,n as it,ae as Lm,b as si,af as Fm,I as sn,w as Om,q as Ss,a as Ce,r as Cs,c as Te,H as bt,u as Ts,C as Rs,D as Ps,E as Ds,F as Ns,g as Lt,d as kt,e as Ie,v as vn,f as mn,x as Es,y as Is,z as va,A as Ls,B as Fs,G as wu}from"./index.6847575b.js";import{b as Am}from"./string-formatting.ca7775a2.js";import{t as Mu}from"./tw-merge.4942d90a.js";var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(l){var t=l.width,e=l.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Qi(l,t){return l.width===t.width&&l.height===t.height}var Vm=function(){function l(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return l.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(l.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),l.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==s})}}},l.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},l.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},l.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},l.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},l}();function zm(l){return new Vm(l)}var Bm=function(){function l(t,e,s){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=lt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(o){return o},this._allowResizeObserver=(r=s==null?void 0:s.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return l.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(l.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bitmapSize",{get:function(){return lt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),l.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=lt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},l.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},l.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(l.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),l.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},l.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},l.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},l.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Qi(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},l.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,e)})},l.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=lt(this._transformBitmapSize(t,this._canvasElementClientSize)),r=Qi(this.bitmapSize,s)?null:s;e===null&&r===null||e!==null&&r!==null&&Qi(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},l.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,e)})},l.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Pm().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},l.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=xu(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=zm(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},l.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=xu(this._canvasElement);if(s!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,o=this._canvasElement.getClientRects(),u=o[0]!==void 0?Dm(o[0],r):lt({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(u)}}},l.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(u){return u.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var r=s.devicePixelContentBoxSize[0],o=lt({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},l}();function Rm(l,t){if(t.type==="device-pixel-content-box")return new Bm(l,t.transform,t.options);throw new Error("Unsupported binding target")}function xu(l){return l.ownerDocument.defaultView}function Pm(){return new Promise(function(l){var t=new ResizeObserver(function(e){l(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Dm(l,t){return lt({width:Math.round(l.left*t+l.width*t)-Math.round(l.left*t),height:Math.round(l.top*t+l.height*t)-Math.round(l.top*t)})}var Nm=function(){function l(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return l.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},l.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(l.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),l}();function ji(l,t){var e=l.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=l.bitmapSize;if(s.width===0||s.height===0)return null;var r=l.canvasElement.getContext("2d",t);return r===null?null:new Nm(r,e,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.0.0
 * Copyright (c) 2023 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var yu,Su;function te(l,t){const e={0:[],1:[l.lineWidth,l.lineWidth],2:[2*l.lineWidth,2*l.lineWidth],3:[6*l.lineWidth,6*l.lineWidth],4:[l.lineWidth,4*l.lineWidth]}[t];l.setLineDash(e)}function ma(l,t,e,s){l.beginPath();const r=l.lineWidth%2?.5:0;l.moveTo(e,t+r),l.lineTo(s,t+r),l.stroke()}function ee(l,t){if(!l)throw new Error("Assertion failed"+(t?": "+t:""))}function ni(l){if(l===void 0)throw new Error("Value is undefined");return l}function A(l){if(l===null)throw new Error("Value is null");return l}function nn(l){return A(ni(l))}(function(l){l[l.Simple=0]="Simple",l[l.WithSteps=1]="WithSteps",l[l.Curved=2]="Curved"})(yu||(yu={})),function(l){l[l.Solid=0]="Solid",l[l.Dotted=1]="Dotted",l[l.Dashed=2]="Dashed",l[l.LargeDashed=3]="LargeDashed",l[l.SparseDotted=4]="SparseDotted"}(Su||(Su={}));const Cu={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ei(l){return l<0?0:l>255?255:Math.round(l)||0}function _a(l){return l<=0||l>0?l<0?0:l>1?1:Math.round(1e4*l)/1e4:0}const km=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Um=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Wm=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Gm=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function Os(l){(l=l.toLowerCase())in Cu&&(l=Cu[l]);{const t=Gm.exec(l)||Wm.exec(l);if(t)return[ei(parseInt(t[1],10)),ei(parseInt(t[2],10)),ei(parseInt(t[3],10)),_a(t.length<5?1:parseFloat(t[4]))]}{const t=Um.exec(l);if(t)return[ei(parseInt(t[1],16)),ei(parseInt(t[2],16)),ei(parseInt(t[3],16)),1]}{const t=km.exec(l);if(t)return[ei(17*parseInt(t[1],16)),ei(17*parseInt(t[2],16)),ei(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${l}`)}function ks(l){const t=Os(l);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class Ct{constructor(){this.h=[]}l(t,e,s){const r={o:t,_:e,u:s===!0};this.h.push(r)}p(t){const e=this.h.findIndex(s=>t===s.o);e>-1&&this.h.splice(e,1)}v(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,s){const r=[...this.h];this.h=this.h.filter(o=>!o.u),r.forEach(o=>o.o(t,e,s))}g(){return this.h.length>0}M(){this.h=[]}}function mi(l,...t){for(const e of t)for(const s in e)e[s]!==void 0&&(typeof e[s]!="object"||l[s]===void 0?l[s]=e[s]:mi(l[s],e[s]));return l}function vi(l){return typeof l=="number"&&isFinite(l)}function un(l){return typeof l=="number"&&l%1==0}function Ah(l){return typeof l=="string"}function ps(l){return typeof l=="boolean"}function Ii(l){const t=l;if(!t||typeof t!="object")return t;let e,s,r;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(r=t[s],e[s]=r&&typeof r=="object"?Ii(r):r);return e}function Hm(l){return l!==null}function As(l){return l===null?void 0:l}const Vh="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Le(l,t,e){return t===void 0&&(t=Vh),`${e=e!==void 0?`${e} `:""}${l}px ${t}`}class Ym{constructor(t){this.S={k:1,C:5,T:NaN,P:"",R:"",D:"",B:"",O:0,A:0,L:0,I:0,V:0},this.N=t}F(){const t=this.S,e=this.W(),s=this.j();return t.T===e&&t.R===s||(t.T=e,t.R=s,t.P=Le(e,s),t.I=2.5/12*e,t.O=t.I,t.A=e/12*t.C,t.L=e/12*t.C,t.V=0),t.D=this.$(),t.B=this.H(),this.S}$(){return this.N.F().layout.textColor}H(){return this.N.U()}W(){return this.N.F().layout.fontSize}j(){return this.N.F().layout.fontFamily}}class zh{constructor(){this.q=[]}Y(t){this.q=t}X(t,e,s){this.q.forEach(r=>{r.X(t,e,s)})}}class _n{X(t,e,s){t.useMediaCoordinateSpace(r=>this.Z(r,e,s))}K(t,e,s){t.useMediaCoordinateSpace(r=>this.G(r,e,s))}G(t,e,s){}}class Km extends _n{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z({context:t}){if(this.J===null||this.J.it===null)return;const e=this.J.it,s=this.J,r=o=>{t.beginPath();for(let u=e.to-1;u>=e.from;--u){const c=s.nt[u];t.moveTo(c.st,c.et),t.arc(c.st,c.et,o,0,2*Math.PI)}t.fill()};s.rt>0&&(t.fillStyle=s.ht,r(s.lt+s.rt)),t.fillStyle=s.ot,r(s.lt)}}function $m(){return{nt:[{st:0,et:0,_t:0,ut:0}],ot:"",ht:"",lt:0,rt:0,it:null}}const qm={from:0,to:1};class Xm{constructor(t,e){this.ct=new zh,this.dt=[],this.ft=[],this.vt=!0,this.N=t,this.bt=e,this.ct.Y(this.dt)}gt(t){const e=this.N.wt();e.length!==this.dt.length&&(this.ft=e.map($m),this.dt=this.ft.map(s=>{const r=new Km;return r.tt(s),r}),this.ct.Y(this.dt)),this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.ct}St(){const t=this.N.wt(),e=this.bt.xt(),s=this.N.yt();t.forEach((r,o)=>{var u;const c=this.ft[o],d=r.kt(e);if(d===null||!r.Ct())return void(c.it=null);const v=A(r.Tt());c.ot=d.Pt,c.lt=d.lt,c.rt=d.Rt,c.nt[0].ut=d.ut,c.nt[0].et=r.Bt().Dt(d.ut,v.Ot),c.ht=(u=d.At)!==null&&u!==void 0?u:this.N.Lt(c.nt[0].et/r.Bt().It()),c.nt[0]._t=e,c.nt[0].st=s.Et(e),c.it=qm})}}class ne{X(t,e,s){t.useBitmapCoordinateSpace(r=>this.Z(r,e,s))}}class Zm extends ne{constructor(t){super(),this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Vt===null)return;const o=this.Vt.zt.Ct,u=this.Vt.Nt.Ct;if(!o&&!u)return;const c=Math.round(this.Vt.st*s),d=Math.round(this.Vt.et*r);t.lineCap="butt",o&&c>=0&&(t.lineWidth=Math.floor(this.Vt.zt.rt*s),t.strokeStyle=this.Vt.zt.D,t.fillStyle=this.Vt.zt.D,te(t,this.Vt.zt.Ft),function(v,m,b,x){v.beginPath();const S=v.lineWidth%2?.5:0;v.moveTo(m+S,b),v.lineTo(m+S,x),v.stroke()}(t,c,0,e.height)),u&&d>=0&&(t.lineWidth=Math.floor(this.Vt.Nt.rt*r),t.strokeStyle=this.Vt.Nt.D,t.fillStyle=this.Vt.Nt.D,te(t,this.Vt.Nt.Ft),ma(t,d,0,e.width))}}class Jm{constructor(t){this.vt=!0,this.Wt={zt:{rt:1,Ft:0,D:"",Ct:!1},Nt:{rt:1,Ft:0,D:"",Ct:!1},st:0,et:0},this.jt=new Zm(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.Ct(),e=A(this.$t.Ht()),s=e.Ut().F().crosshair,r=this.Wt;r.Nt.Ct=t&&this.$t.qt(e),r.zt.Ct=t&&this.$t.Yt(),r.Nt.rt=s.horzLine.width,r.Nt.Ft=s.horzLine.style,r.Nt.D=s.horzLine.color,r.zt.rt=s.vertLine.width,r.zt.Ft=s.vertLine.style,r.zt.D=s.vertLine.color,r.st=this.$t.Xt(),r.et=this.$t.Zt()}}function Qm(l,t,e,s,r,o){l.fillRect(t+o,e,s-2*o,o),l.fillRect(t+o,e+r-o,s-2*o,o),l.fillRect(t,e,o,r),l.fillRect(t+s-o,e,o,r)}function Us(l,t,e,s,r,o){l.save(),l.globalCompositeOperation="copy",l.fillStyle=o,l.fillRect(t,e,s,r),l.restore()}function Tu(l,t){return Array.isArray(l)?l.map(e=>e===0?e:e+t):l+t}function dh(l,t,e,s,r,o){let u,c,d,v;if(Array.isArray(o))if(o.length===2){const m=Math.max(0,o[0]),b=Math.max(0,o[1]);u=m,c=m,d=b,v=b}else{if(o.length!==4)throw new Error("Wrong border radius - it should be like css border radius");u=Math.max(0,o[0]),c=Math.max(0,o[1]),d=Math.max(0,o[2]),v=Math.max(0,o[3])}else{const m=Math.max(0,o);u=m,c=m,d=m,v=m}l.beginPath(),l.moveTo(t+u,e),l.lineTo(t+s-c,e),c!==0&&l.arcTo(t+s,e,t+s,e+c,c),l.lineTo(t+s,e+r-d),d!==0&&l.arcTo(t+s,e+r,t+s-d,e+r,d),l.lineTo(t+v,e+r),v!==0&&l.arcTo(t,e+r,t,e+r-v,v),l.lineTo(t,e+u),u!==0&&l.arcTo(t,e,t+u,e,u)}function Eu(l,t,e,s,r,o,u=0,c=0,d=""){if(l.save(),!u||!d||d===o)return dh(l,t,e,s,r,c),l.fillStyle=o,l.fill(),void l.restore();const v=u/2;o!=="transparent"&&(dh(l,t+u,e+u,s-2*u,r-2*u,Tu(c,-u)),l.fillStyle=o,l.fill()),d!=="transparent"&&(dh(l,t+v,e+v,s-u,r-u,Tu(c,-v)),l.lineWidth=u,l.strokeStyle=d,l.closePath(),l.stroke()),l.restore()}function ba(l,t,e,s,r,o,u){l.save(),l.globalCompositeOperation="copy";const c=l.createLinearGradient(0,0,0,r);c.addColorStop(0,o),c.addColorStop(1,u),l.fillStyle=c,l.fillRect(t,e,s,r),l.restore()}class Iu{constructor(t,e){this.tt(t,e)}tt(t,e){this.Vt=t,this.Kt=e}It(t,e){return this.Vt.Ct?t.T+t.I+t.O:0}X(t,e,s,r){if(!this.Vt.Ct||this.Vt.Gt.length===0)return;const o=this.Vt.D||this.Kt.D,u=this.Kt.t,c=t.useBitmapCoordinateSpace(d=>{const v=d.context;v.font=e.P;const m=this.Jt(d,e,s,r),b=m.Qt,x=(S,L)=>{m.ti?Eu(v,b.ii,b.ni,b.si,b.ei,S,b.ri,[b.lt,0,0,b.lt],L):Eu(v,b.hi,b.ni,b.si,b.ei,S,b.ri,[0,b.lt,b.lt,0],L)};return x(u,"transparent"),this.Vt.li&&(v.fillStyle=o,v.fillRect(b.hi,b.ai,b.oi-b.hi,b._i)),x("transparent",u),this.Vt.ui&&(v.fillStyle=e.B,v.fillRect(m.ti?b.ci-b.ri:0,b.ni,b.ri,b.di-b.ni)),m});t.useMediaCoordinateSpace(({context:d})=>{const v=c.fi;d.font=e.P,d.textAlign=c.ti?"right":"left",d.textBaseline="middle",d.fillStyle=o,d.fillText(this.Vt.Gt,v.pi,(v.ni+v.di)/2+v.vi)})}Jt(t,e,s,r){var o;const{context:u,bitmapSize:c,mediaSize:d,horizontalPixelRatio:v,verticalPixelRatio:m}=t,b=this.Vt.li||!this.Vt.mi?e.C:0,x=this.Vt.bi?e.k:0,S=e.I+this.Kt.gi,L=e.O+this.Kt.wi,O=e.A,z=e.L,R=this.Vt.Gt,et=e.T,P=s.Mi(u,R),D=Math.ceil(s.Si(u,R)),G=et+S+L,gt=e.k+O+z+D+b,ut=Math.max(1,Math.floor(m));let at=Math.round(G*m);at%2!=ut%2&&(at+=1);const Vt=x>0?Math.max(1,Math.floor(x*v)):0,Fi=Math.round(gt*v),Wi=Math.round(b*v),Ys=(o=this.Kt.xi)!==null&&o!==void 0?o:this.Kt.yi,wn=Math.round(Ys*m)-Math.floor(.5*m),se=Math.floor(wn+ut/2-at/2),Mn=se+at,re=r==="right",ci=re?d.width-x:x,zt=re?c.width-Vt:Vt;let Oe,Oi,Bt;return re?(Oe=zt-Fi,Oi=zt-Wi,Bt=ci-b-O-x):(Oe=zt+Fi,Oi=zt+Wi,Bt=ci+b+O),{ti:re,Qt:{ni:se,ai:wn,di:Mn,si:Fi,ei:at,lt:2*v,ri:Vt,ii:Oe,hi:zt,oi:Oi,_i:ut,ci:c.width},fi:{ni:se/m,di:Mn/m,pi:Bt,vi:P}}}}class Bh{constructor(t){this.ki={yi:0,D:"#FFF",t:"#000",wi:0,gi:0},this.Ci={Gt:"",Ct:!1,li:!0,mi:!1,At:"",D:"#FFF",ui:!1,bi:!1},this.Ti={Gt:"",Ct:!1,li:!1,mi:!0,At:"",D:"#FFF",ui:!0,bi:!0},this.vt=!0,this.Pi=new(t||Iu)(this.Ci,this.ki),this.Ri=new(t||Iu)(this.Ti,this.ki)}Gt(){return this.Di(),this.Ci.Gt}yi(){return this.Di(),this.ki.yi}gt(){this.vt=!0}It(t,e=!1){return Math.max(this.Pi.It(t,e),this.Ri.It(t,e))}Bi(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Di(),this.Ci.Ct||this.Ti.Ct}Li(){return this.Di(),this.Ci.Ct}Mt(t){return this.Di(),this.Ci.li=this.Ci.li&&t.F().ticksVisible,this.Ti.li=this.Ti.li&&t.F().ticksVisible,this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Pi}Ii(){return this.Di(),this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Ri}Di(){this.vt&&(this.Ci.li=!0,this.Ti.li=!1,this.Ei(this.Ci,this.Ti,this.ki))}}class jm extends Bh{constructor(t,e,s){super(),this.$t=t,this.Vi=e,this.zi=s}Ei(t,e,s){t.Ct=!1;const r=this.$t.F().horzLine;if(!r.labelVisible)return;const o=this.Vi.Tt();if(!this.$t.Ct()||this.Vi.Ni()||o===null)return;const u=ks(r.labelBackgroundColor);s.t=u.t,s.D=u.i;const c=2/12*this.Vi.T();s.gi=c,s.wi=c;const d=this.zi(this.Vi);s.yi=d.yi,t.Gt=this.Vi.Fi(d.ut,o),t.Ct=!0}}const t_=/[1-9]/g;class i_{constructor(){this.Vt=null}tt(t){this.Vt=t}X(t,e){if(this.Vt===null||this.Vt.Ct===!1||this.Vt.Gt.length===0)return;const s=t.useMediaCoordinateSpace(({context:x})=>(x.font=e.P,Math.round(e.Wi.Si(x,A(this.Vt).Gt,t_))));if(s<=0)return;const r=e.ji,o=s+2*r,u=o/2,c=this.Vt.$i;let d=this.Vt.yi,v=Math.floor(d-u)+.5;v<0?(d+=Math.abs(0-v),v=Math.floor(d-u)+.5):v+o>c&&(d-=Math.abs(c-(v+o)),v=Math.floor(d-u)+.5);const m=v+o,b=Math.ceil(0+e.k+e.C+e.I+e.T+e.O);t.useBitmapCoordinateSpace(({context:x,horizontalPixelRatio:S,verticalPixelRatio:L})=>{const O=A(this.Vt);x.fillStyle=O.t;const z=Math.round(v*S),R=Math.round(0*L),et=Math.round(m*S),P=Math.round(b*L),D=Math.round(2*S);if(x.beginPath(),x.moveTo(z,R),x.lineTo(z,P-D),x.arcTo(z,P,z+D,P,D),x.lineTo(et-D,P),x.arcTo(et,P,et,P-D,D),x.lineTo(et,R),x.fill(),O.li){const G=Math.round(O.yi*S),gt=R,ut=Math.round((gt+e.C)*L);x.fillStyle=O.D;const at=Math.max(1,Math.floor(S)),Vt=Math.floor(.5*S);x.fillRect(G-Vt,gt,at,ut-gt)}}),t.useMediaCoordinateSpace(({context:x})=>{const S=A(this.Vt),L=0+e.k+e.C+e.I+e.T/2;x.font=e.P,x.textAlign="left",x.textBaseline="middle",x.fillStyle=S.D;const O=e.Wi.Mi(x,"Apr0");x.translate(v+r,L+O),x.fillText(S.Gt,0,0)})}}class e_{constructor(t,e,s){this.vt=!0,this.jt=new i_,this.Wt={Ct:!1,t:"#4c525e",D:"white",Gt:"",$i:0,yi:NaN,li:!0},this.bt=t,this.Hi=e,this.zi=s}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt.tt(this.Wt),this.jt}St(){const t=this.Wt;t.Ct=!1;const e=this.bt.F().vertLine;if(!e.labelVisible)return;const s=this.Hi.yt();if(s.Ni())return;t.$i=s.$i();const r=this.zi();if(r===null)return;t.yi=r.yi;const o=s.Ui(this.bt.xt());t.Gt=s.qi(A(o)),t.Ct=!0;const u=ks(e.labelBackgroundColor);t.t=u.t,t.D=u.i,t.li=s.F().ticksVisible}}class Rh{constructor(){this.Yi=null,this.Xi=0}Zi(){return this.Xi}Ki(t){this.Xi=t}Bt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}Ct(){return!0}}var Lu;(function(l){l[l.Normal=0]="Normal",l[l.Magnet=1]="Magnet"})(Lu||(Lu={}));class n_ extends Rh{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this.on=NaN,this._n=NaN,this.Hi=t,this.un=e,this.cn=new Xm(t,this),this.dn=((r,o)=>u=>{const c=o(),d=r();if(u===A(this.tn).fn())return{ut:d,yi:c};{const v=A(u.Tt());return{ut:u.pn(c,v),yi:c}}})(()=>this.nn,()=>this.an);const s=((r,o)=>()=>{const u=this.Hi.yt().vn(r()),c=o();return u&&Number.isFinite(c)?{_t:u,yi:c}:null})(()=>this.sn,()=>this.Xt());this.mn=new e_(this,t,s),this.bn=new Jm(this)}F(){return this.un}gn(t,e){this.on=t,this._n=e}wn(){this.on=NaN,this._n=NaN}Mn(){return this.on}Sn(){return this._n}xn(t,e,s){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,s)}xt(){return this.sn}Xt(){return this.ln}Zt(){return this.an}Ct(){return this.en}kn(){this.en=!1,this.Cn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.wn()}Tn(t){return this.tn!==null?[this.bn,this.cn]:[]}qt(t){return t===this.tn&&this.un.horzLine.visible}Yt(){return this.un.vertLine.visible}Pn(t,e){this.en&&this.tn===t||this.rn.clear();const s=[];return this.tn===t&&s.push(this.Rn(this.rn,e,this.dn)),s}Qi(){return this.en?[this.mn]:[]}Ht(){return this.tn}Dn(){this.bn.gt(),this.rn.forEach(t=>t.gt()),this.mn.gt(),this.cn.gt()}Bn(t){return t&&!t.fn().Ni()?t.fn():null}yn(t,e,s){this.On(t,e,s)&&this.Dn()}On(t,e,s){const r=this.ln,o=this.an,u=this.nn,c=this.sn,d=this.tn,v=this.Bn(s);this.sn=t,this.ln=isNaN(t)?NaN:this.Hi.yt().Et(t),this.tn=s;const m=v!==null?v.Tt():null;return v!==null&&m!==null?(this.nn=e,this.an=v.Dt(e,m)):(this.nn=NaN,this.an=NaN),r!==this.ln||o!==this.an||c!==this.sn||u!==this.nn||d!==this.tn}Cn(){const t=this.Hi.wt().map(s=>s.Ln().An()).filter(Hm),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Rn(t,e,s){let r=t.get(e);return r===void 0&&(r=new jm(this,e,s),t.set(e,r)),r}}function Ws(l){return l==="left"||l==="right"}class xt{constructor(t){this.In=new Map,this.En=[],this.Vn=t}zn(t,e){const s=function(r,o){return r===void 0?o:{Nn:Math.max(r.Nn,o.Nn),Fn:r.Fn||o.Fn}}(this.In.get(t),e);this.In.set(t,s)}Wn(){return this.Vn}jn(t){const e=this.In.get(t);return e===void 0?{Nn:this.Vn}:{Nn:Math.max(this.Vn,e.Nn),Fn:e.Fn}}$n(){this.Hn(),this.En=[{Un:0}]}qn(t){this.Hn(),this.En=[{Un:1,Ot:t}]}Yn(t){this.Xn(),this.En.push({Un:5,Ot:t})}Hn(){this.Xn(),this.En.push({Un:6})}Zn(){this.Hn(),this.En=[{Un:4}]}Kn(t){this.Hn(),this.En.push({Un:2,Ot:t})}Gn(t){this.Hn(),this.En.push({Un:3,Ot:t})}Jn(){return this.En}Qn(t){for(const e of t.En)this.ts(e);this.Vn=Math.max(this.Vn,t.Vn),t.In.forEach((e,s)=>{this.zn(s,e)})}static ns(){return new xt(2)}static ss(){return new xt(3)}ts(t){switch(t.Un){case 0:this.$n();break;case 1:this.qn(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Gn(t.Ot);break;case 4:this.Zn();break;case 5:this.Yn(t.Ot);break;case 6:this.Xn()}}Xn(){const t=this.En.findIndex(e=>e.Un===5);t!==-1&&this.En.splice(t,1)}}const Fu=".";function Li(l,t){if(!vi(l))return"n/a";if(!un(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?l.toString():("0000000000000000"+l.toString()).slice(-t)}class Gs{constructor(t,e){if(e||(e=1),vi(t)&&un(t)||(t=100),t<0)throw new TypeError("invalid base");this.Vi=t,this.es=e,this.rs()}format(t){const e=t<0?"âˆ’":"";return t=Math.abs(t),e+this.hs(t)}rs(){if(this.ls=0,this.Vi>0&&this.es>0){let t=this.Vi;for(;t>1;)t/=10,this.ls++}}hs(t){const e=this.Vi/this.es;let s=Math.floor(t),r="";const o=this.ls!==void 0?this.ls:NaN;if(e>1){let u=+(Math.round(t*e)-s*e).toFixed(this.ls);u>=e&&(u-=e,s+=1),r=Fu+Li(+u.toFixed(this.ls)*this.es,o)}else s=Math.round(s*e)/e,o>0&&(r=Fu+Li(0,o));return s.toFixed(0)+r}}class wa extends Gs{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class s_{constructor(t){this.os=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this._s(t):t<999995?e+this._s(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._s(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._s(t/1e9)+"B")}_s(t){let e;const s=Math.pow(10,this.os);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.os).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(r,o)=>o)}}function Ma(l,t,e,s,r,o,u){if(t.length===0||s.from>=t.length)return;const c=l.context,d=t[s.from];let v=o(l,d),m=d;if(s.to-s.from<2){const S=r/2;c.beginPath();const L={st:d.st-S,et:d.et},O={st:d.st+S,et:d.et};return c.moveTo(L.st,L.et),c.lineTo(O.st,O.et),void u(c,v,L,O)}const b=(S,L)=>{u(c,v,m,L),c.beginPath(),v=S,m=L};let x=m;c.beginPath(),c.moveTo(d.st,d.et);for(let S=s.from+1;S<s.to;++S){x=t[S];const L=o(l,x);switch(e){case 0:c.lineTo(x.st,x.et);break;case 1:c.lineTo(x.st,t[S-1].et),L!==v&&(b(L,x),c.lineTo(x.st,t[S-1].et)),c.lineTo(x.st,x.et);break;case 2:{const[O,z]=r_(t,S-1,S);c.bezierCurveTo(O.st,O.et,z.st,z.et,x.st,x.et);break}}e!==1&&L!==v&&(b(L,x),c.moveTo(x.st,x.et))}(m!==x||m===x&&e===1)&&u(c,v,m,x)}function ph(l,t){return{st:l.st-t.st,et:l.et-t.et}}function Ou(l,t){return{st:l.st/t,et:l.et/t}}function r_(l,t,e){const s=Math.max(0,t-1),r=Math.min(l.length-1,e+1);var o,u;return[(o=l[t],u=Ou(ph(l[e],l[s]),6),{st:o.st+u.st,et:o.et+u.et}),ph(l[e],Ou(ph(l[r],l[t]),6))]}function h_(l,t,e,s,r){t.lineTo(r.st,l),t.lineTo(s.st,l),t.closePath(),t.fillStyle=e,t.fill()}class xa extends _n{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){var e;if(this.J===null)return;const{nt:s,it:r,us:o,rt:u,Ft:c,cs:d}=this.J,v=(e=this.J.ds)!==null&&e!==void 0?e:this.J.fs?0:t.mediaSize.height;if(r===null)return;const m=t.context;m.lineCap="butt",m.lineJoin="round",m.lineWidth=u,te(m,c),m.lineWidth=1,Ma(t,s,d,r,o,this.ps.bind(this),h_.bind(null,v))}}class l_ extends xa{constructor(){super(...arguments),this.vs=null}ps(t,e){const{context:s,mediaSize:r}=t,{bs:o,gs:u}=e,c=r.height;if(this.vs!==null&&this.vs.topColor===o&&this.vs.bottomColor===u&&this.vs.bottom===c)return this.vs.fillStyle;const d=s.createLinearGradient(0,0,0,c);return d.addColorStop(0,o),d.addColorStop(1,u),this.vs={topColor:o,bottomColor:u,fillStyle:d,bottom:c},d}}function o_(l,t){l.strokeStyle=t,l.stroke()}class ya extends _n{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){if(this.J===null)return;const{nt:e,it:s,us:r,cs:o,rt:u,Ft:c}=this.J;if(s===null)return;const d=t.context;d.lineCap="butt",d.lineWidth=u,te(d,c),d.lineJoin="round",Ma(t,e,o,s,r,this.ws.bind(this),o_)}}class Sa extends ya{ws(t,e){return e.ot}}function bn(l,t,e,s=0,r=l.length){let o=r-s;for(;0<o;){const u=o>>1,c=s+u;e(l[c],t)?(s=c+1,o-=u+1):o=u}return s}function Ca(l,t,e,s=0,r=l.length){let o=r-s;for(;0<o;){const u=o>>1,c=s+u;e(t,l[c])?o=u:(s=c+1,o-=u+1)}return s}function u_(l,t){return l._t<t}function a_(l,t){return l<t._t}function Ta(l,t,e){const s=t.Ms(),r=t.ci(),o=bn(l,s,u_),u=Ca(l,r,a_);if(!e)return{from:o,to:u};let c=o,d=u;return o>0&&o<l.length&&l[o]._t>=s&&(c=o-1),u>0&&u<l.length&&l[u-1]._t<=r&&(d=u+1),{from:c,to:d}}class Ea{constructor(t,e,s){this.Ss=!0,this.xs=!0,this.ys=!0,this.ks=[],this.Cs=null,this.Ts=t,this.Ps=e,this.Rs=s}gt(t){this.Ss=!0,t==="data"&&(this.xs=!0),t==="options"&&(this.ys=!0)}Mt(){return this.Ts.Ct()?(this.Ds(),this.Cs===null?null:this.Bs):null}Os(){this.ks=this.ks.map(t=>Object.assign(Object.assign({},t),this.Ts.Ls().As(t._t)))}Is(){this.Cs=null}Ds(){this.xs&&(this.Es(),this.xs=!1),this.ys&&(this.Os(),this.ys=!1),this.Ss&&(this.Vs(),this.Ss=!1)}Vs(){const t=this.Ts.Bt(),e=this.Ps.yt();if(this.Is(),e.Ni()||t.Ni())return;const s=e.zs();if(s===null||this.Ts.Ln().Ns()===0)return;const r=this.Ts.Tt();r!==null&&(this.Cs=Ta(this.ks,s,this.Rs),this.Fs(t,e,r.Ot),this.Ws())}}class Hs extends Ea{constructor(t,e){super(t,e,!0)}Fs(t,e,s){e.js(this.ks,As(this.Cs)),t.$s(this.ks,s,As(this.Cs))}Hs(t,e){return{_t:t,ut:e,st:NaN,et:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>{const s=e.Ot[3];return this.qs(e.Ys,s,t)})}}class c_ extends Hs{constructor(t,e){super(t,e),this.Bs=new zh,this.Xs=new l_,this.Zs=new Sa,this.Bs.Y([this.Xs,this.Zs])}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.F();this.Xs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,ds:null,fs:t.invertFilledArea,it:this.Cs,us:this.Ps.yt().Ks()}),this.Zs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()})}}class f_ extends ne{constructor(){super(...arguments),this.Vt=null,this.Gs=0,this.Js=0}tt(t){this.Vt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;this.Gs=this.Qs(e),this.Gs>=2&&Math.max(1,Math.floor(e))%2!=this.Gs%2&&this.Gs--,this.Js=this.Vt.te?Math.min(this.Gs,Math.floor(e)):this.Gs;let r=null;const o=this.Js<=this.Gs&&this.Vt.Ks>=Math.floor(1.5*e);for(let u=this.Vt.it.from;u<this.Vt.it.to;++u){const c=this.Vt.Ln[u];r!==c.ie&&(t.fillStyle=c.ie,r=c.ie);const d=Math.floor(.5*this.Js),v=Math.round(c.st*e),m=v-d,b=this.Js,x=m+b-1,S=Math.min(c.ne,c.se),L=Math.max(c.ne,c.se),O=Math.round(S*s)-d,z=Math.round(L*s)+d,R=Math.max(z-O,this.Js);t.fillRect(m,O,b,R);const et=Math.ceil(1.5*this.Gs);if(o){if(this.Vt.ee){const gt=v-et;let ut=Math.max(O,Math.round(c.re*s)-d),at=ut+b-1;at>O+R-1&&(at=O+R-1,ut=at-b+1),t.fillRect(gt,ut,m-gt,at-ut+1)}const P=v+et;let D=Math.max(O,Math.round(c.he*s)-d),G=D+b-1;G>O+R-1&&(G=O+R-1,D=G-b+1),t.fillRect(x+1,D,P-x,G-D+1)}}}Qs(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,r){return Math.floor(.3*s*r)}(A(this.Vt).Ks,t)))}}class Ia extends Ea{constructor(t,e){super(t,e,!1)}Fs(t,e,s){e.js(this.ks,As(this.Cs)),t.le(this.ks,s,As(this.Cs))}ae(t,e,s){return{_t:t,oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3],st:NaN,re:NaN,ne:NaN,se:NaN,he:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>this.qs(e.Ys,e,t))}}class d_ extends Ia{constructor(){super(...arguments),this.Bs=new f_}qs(t,e,s){return Object.assign(Object.assign({},this.ae(t,e,s)),s.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),ee:t.openVisible,te:t.thinBars,it:this.Cs})}}function Vs(l,t,e){return Math.min(Math.max(l,t),e)}function gs(l,t,e){return t-l<=e}function La(l){return l<=0?NaN:Math.log(l)/Math.log(10)}function Fa(l){const t=Math.ceil(l);return t%2==0?t-1:t}class p_ extends xa{constructor(){super(...arguments),this.vs=null}ps(t,e){var s;const{context:r,mediaSize:o}=t,u=this.J,{de:c,fe:d,pe:v,ve:m}=e,b=(s=u.ds)!==null&&s!==void 0?s:o.height,x=o.height;if(this.vs!==null&&this.vs.topFillColor1===c&&this.vs.topFillColor2===d&&this.vs.bottomFillColor1===v&&this.vs.bottomFillColor2===m&&this.vs.baseLevelCoordinate===b&&this.vs.bottom===x)return this.vs.fillStyle;const S=r.createLinearGradient(0,0,0,x),L=Vs(b/x,0,1);return S.addColorStop(0,c),S.addColorStop(L,d),S.addColorStop(L,v),S.addColorStop(1,m),this.vs={topFillColor1:c,topFillColor2:d,bottomFillColor1:v,bottomFillColor2:m,fillStyle:S,baseLevelCoordinate:b,bottom:x},S}}class g_ extends ya{constructor(){super(...arguments),this.me=null}ws(t,e){const{context:s,mediaSize:r}=t,o=this.J,{be:u,ge:c}=e,{ds:d}=o,v=r.height;if(this.me!==null&&this.me.topLineColor===u&&this.me.bottomLineColor===c&&this.me.baseLevelCoordinate===d&&this.me.bottom===v)return this.me.strokeStyle;const m=s.createLinearGradient(0,0,0,v),b=Vs(d/v,0,1);return m.addColorStop(0,u),m.addColorStop(b,u),m.addColorStop(b,c),m.addColorStop(1,c),this.me={topLineColor:u,bottomLineColor:c,strokeStyle:m,baseLevelCoordinate:d,bottom:v},m}}class v_ extends Hs{constructor(t,e){super(t,e),this.Bs=new zh,this.we=new p_,this.Me=new g_,this.Bs.Y([this.we,this.Me])}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.Tt();if(t===null)return;const e=this.Ts.F(),s=this.Ts.Bt().Dt(e.baseValue.price,t.Ot),r=this.Ps.yt().Ks();this.we.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:s,fs:!1,it:this.Cs,us:r}),this.Me.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:s,it:this.Cs,us:r})}}class m_ extends ne{constructor(){super(...arguments),this.Vt=null,this.Gs=0}tt(t){this.Vt=t}Z(t){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;const{horizontalPixelRatio:e}=t;this.Gs=function(o,u){if(o>=2.5&&o<=4)return Math.floor(3*u);const c=1-.2*Math.atan(Math.max(4,o)-4)/(.5*Math.PI),d=Math.floor(o*c*u),v=Math.floor(o*u),m=Math.min(d,v);return Math.max(Math.floor(u),m)}(this.Vt.Ks,e),this.Gs>=2&&Math.floor(e)%2!=this.Gs%2&&this.Gs--;const s=this.Vt.Ln;this.Vt.Se&&this.xe(t,s,this.Vt.it),this.Vt.ui&&this.ye(t,s,this.Vt.it);const r=this.ke(e);(!this.Vt.ui||this.Gs>2*r)&&this.Ce(t,s,this.Vt.it)}xe(t,e,s){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:u}=t;let c="",d=Math.min(Math.floor(o),Math.floor(this.Vt.Ks*o));d=Math.max(Math.floor(o),Math.min(d,this.Gs));const v=Math.floor(.5*d);let m=null;for(let b=s.from;b<s.to;b++){const x=e[b];x.Te!==c&&(r.fillStyle=x.Te,c=x.Te);const S=Math.round(Math.min(x.re,x.he)*u),L=Math.round(Math.max(x.re,x.he)*u),O=Math.round(x.ne*u),z=Math.round(x.se*u);let R=Math.round(o*x.st)-v;const et=R+d-1;m!==null&&(R=Math.max(m+1,R),R=Math.min(R,et));const P=et-R+1;r.fillRect(R,O,P,S-O),r.fillRect(R,L+1,P,z-L),m=et}}ke(t){let e=Math.floor(1*t);this.Gs<=2*e&&(e=Math.floor(.5*(this.Gs-1)));const s=Math.max(Math.floor(t),e);return this.Gs<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}ye(t,e,s){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:u}=t;let c="";const d=this.ke(o);let v=null;for(let m=s.from;m<s.to;m++){const b=e[m];b.Pe!==c&&(r.fillStyle=b.Pe,c=b.Pe);let x=Math.round(b.st*o)-Math.floor(.5*this.Gs);const S=x+this.Gs-1,L=Math.round(Math.min(b.re,b.he)*u),O=Math.round(Math.max(b.re,b.he)*u);if(v!==null&&(x=Math.max(v+1,x),x=Math.min(x,S)),this.Vt.Ks*o>2*d)Qm(r,x,L,S-x+1,O-L+1,d);else{const z=S-x+1;r.fillRect(x,L,z,O-L+1)}v=S}}Ce(t,e,s){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:u}=t;let c="";const d=this.ke(o);for(let v=s.from;v<s.to;v++){const m=e[v];let b=Math.round(Math.min(m.re,m.he)*u),x=Math.round(Math.max(m.re,m.he)*u),S=Math.round(m.st*o)-Math.floor(.5*this.Gs),L=S+this.Gs-1;if(m.ie!==c){const O=m.ie;r.fillStyle=O,c=O}this.Vt.ui&&(S+=d,b+=d,L-=d,x-=d),b>x||r.fillRect(S,b,L-S+1,x-b+1)}}}class __ extends Ia{constructor(){super(...arguments),this.Bs=new m_}qs(t,e,s){return Object.assign(Object.assign({},this.ae(t,e,s)),s.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),Se:t.wickVisible,ui:t.borderVisible,it:this.Cs})}}class b_ extends ne{constructor(){super(...arguments),this.Vt=null,this.Re=[]}tt(t){this.Vt=t,this.Re=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return;this.Re.length||this.De(e);const r=Math.max(1,Math.floor(s)),o=Math.round(this.Vt.Be*s)-Math.floor(r/2),u=o+r;for(let c=this.Vt.it.from;c<this.Vt.it.to;c++){const d=this.Vt.nt[c],v=this.Re[c-this.Vt.it.from],m=Math.round(d.et*s);let b,x;t.fillStyle=d.ie,m<=o?(b=m,x=u):(b=o,x=m-Math.floor(r/2)+r),t.fillRect(v.Ms,b,v.ci-v.Ms+1,x-b)}}De(t){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return void(this.Re=[]);const e=Math.ceil(this.Vt.Ks*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.Vt.Ks*t)-e;this.Re=new Array(this.Vt.it.to-this.Vt.it.from);for(let o=this.Vt.it.from;o<this.Vt.it.to;o++){const u=this.Vt.nt[o],c=Math.round(u.st*t);let d,v;if(s%2){const m=(s-1)/2;d=c-m,v=c+m}else{const m=s/2;d=c-m,v=c+m-1}this.Re[o-this.Vt.it.from]={Ms:d,ci:v,Oe:c,Ae:u.st*t,_t:u._t}}for(let o=this.Vt.it.from+1;o<this.Vt.it.to;o++){const u=this.Re[o-this.Vt.it.from],c=this.Re[o-this.Vt.it.from-1];u._t===c._t+1&&u.Ms-c.ci!==e+1&&(c.Oe>c.Ae?c.ci=u.Ms-e-1:u.Ms=c.ci+e+1)}let r=Math.ceil(this.Vt.Ks*t);for(let o=this.Vt.it.from;o<this.Vt.it.to;o++){const u=this.Re[o-this.Vt.it.from];u.ci<u.Ms&&(u.ci=u.Ms);const c=u.ci-u.Ms+1;r=Math.min(c,r)}if(e>0&&r<4)for(let o=this.Vt.it.from;o<this.Vt.it.to;o++){const u=this.Re[o-this.Vt.it.from];u.ci-u.Ms+1>r&&(u.Oe>u.Ae?u.ci-=1:u.Ms+=1)}}}class w_ extends Hs{constructor(){super(...arguments),this.Bs=new b_}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t={nt:this.ks,Ks:this.Ps.yt().Ks(),it:this.Cs,Be:this.Ts.Bt().Dt(this.Ts.F().base,A(this.Ts.Tt()).Ot)};this.Bs.tt(t)}}class M_ extends Hs{constructor(){super(...arguments),this.Bs=new Sa}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.F(),e={nt:this.ks,Ft:t.lineStyle,cs:t.lineType,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()};this.Bs.tt(e)}}const x_=/[2-9]/g;class an{constructor(t=50){this.Le=0,this.Ie=1,this.Ee=1,this.Ve={},this.ze=new Map,this.Ne=t}Fe(){this.Le=0,this.ze.clear(),this.Ie=1,this.Ee=1,this.Ve={}}Si(t,e,s){return this.We(t,e,s).width}Mi(t,e,s){const r=this.We(t,e,s);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}We(t,e,s){const r=s||x_,o=String(e).replace(r,"0");if(this.ze.has(o))return ni(this.ze.get(o)).je;if(this.Le===this.Ne){const c=this.Ve[this.Ee];delete this.Ve[this.Ee],this.ze.delete(c),this.Ee++,this.Le--}t.save(),t.textBaseline="middle";const u=t.measureText(o);return t.restore(),u.width===0&&e.length||(this.ze.set(o,{je:u,$e:this.Ie}),this.Ve[this.Ie]=o,this.Le++,this.Ie++),u}}class y_{constructor(t){this.He=null,this.S=null,this.Ue="right",this.qe=t}Ye(t,e,s){this.He=t,this.S=e,this.Ue=s}X(t){this.S!==null&&this.He!==null&&this.He.X(t,this.S,this.qe,this.Ue)}}class Oa{constructor(t,e,s){this.Xe=t,this.qe=new an(50),this.Ze=e,this.N=s,this.W=-1,this.jt=new y_(this.qe)}Mt(){const t=this.N.Ke(this.Ze);if(t===null)return null;const e=t.Ge(this.Ze)?t.Je():this.Ze.Bt();if(e===null)return null;const s=t.Qe(e);if(s==="overlay")return null;const r=this.N.tr();return r.T!==this.W&&(this.W=r.T,this.qe.Fe()),this.jt.Ye(this.Xe.Ii(),r,s),this.jt}}class S_ extends ne{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ir(t,e){var s;if(!(!((s=this.Vt)===null||s===void 0)&&s.Ct))return null;const{et:r,rt:o,nr:u}=this.Vt;return e>=r-o-7&&e<=r+o+7?{sr:this.Vt,nr:u}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Vt===null||this.Vt.Ct===!1)return;const o=Math.round(this.Vt.et*r);o<0||o>e.height||(t.lineCap="butt",t.strokeStyle=this.Vt.D,t.lineWidth=Math.floor(this.Vt.rt*s),te(t,this.Vt.Ft),ma(t,o,0,e.width))}}class Ph{constructor(t){this.er={et:0,D:"rgba(0, 0, 0, 0)",rt:1,Ft:0,Ct:!1},this.rr=new S_,this.vt=!0,this.Ts=t,this.Ps=t.Ut(),this.rr.tt(this.er)}gt(){this.vt=!0}Mt(){return this.Ts.Ct()?(this.vt&&(this.hr(),this.vt=!1),this.rr):null}}class C_ extends Ph{constructor(t){super(t)}hr(){this.er.Ct=!1;const t=this.Ts.Bt(),e=t.lr().lr;if(e!==2&&e!==3)return;const s=this.Ts.F();if(!s.baseLineVisible||!this.Ts.Ct())return;const r=this.Ts.Tt();r!==null&&(this.er.Ct=!0,this.er.et=t.Dt(r.Ot,r.Ot),this.er.D=s.baseLineColor,this.er.rt=s.baseLineWidth,this.er.Ft=s.baseLineStyle)}}class T_ extends ne{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ar(){return this.Vt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const r=this.Vt;if(r===null)return;const o=Math.max(1,Math.floor(e)),u=o%2/2,c=Math.round(r.Ae.x*e)+u,d=r.Ae.y*s;t.fillStyle=r._r,t.beginPath();const v=Math.max(2,1.5*r.ur)*e;t.arc(c,d,v,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.cr,t.beginPath(),t.arc(c,d,r.lt*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=r.dr,t.beginPath(),t.arc(c,d,r.lt*e+o/2,0,2*Math.PI,!1),t.stroke()}}const E_=[{pr:0,vr:.25,mr:4,br:10,gr:.25,wr:0,Mr:.4,Sr:.8},{pr:.25,vr:.525,mr:10,br:14,gr:0,wr:0,Mr:.8,Sr:0},{pr:.525,vr:1,mr:14,br:14,gr:0,wr:0,Mr:0,Sr:0}];function Au(l,t,e,s){return function(r,o){if(r==="transparent")return r;const u=Os(r),c=u[3];return`rgba(${u[0]}, ${u[1]}, ${u[2]}, ${o*c})`}(l,e+(s-e)*t)}function Vu(l,t){const e=l%2600/2600;let s;for(const d of E_)if(e>=d.pr&&e<=d.vr){s=d;break}ee(s!==void 0,"Last price animation internal logic error");const r=(e-s.pr)/(s.vr-s.pr);return{cr:Au(t,r,s.gr,s.wr),dr:Au(t,r,s.Mr,s.Sr),lt:(o=r,u=s.mr,c=s.br,u+(c-u)*o)};var o,u,c}class I_{constructor(t){this.jt=new T_,this.vt=!0,this.yr=!0,this.kr=performance.now(),this.Cr=this.kr-1,this.Tr=t}Pr(){this.Cr=this.kr-1,this.gt()}Rr(){if(this.gt(),this.Tr.F().lastPriceAnimation===2){const t=performance.now(),e=this.Cr-t;if(e>0)return void(e<650&&(this.Cr+=2600));this.kr=t,this.Cr=t+2600}}gt(){this.vt=!0}Dr(){this.yr=!0}Ct(){return this.Tr.F().lastPriceAnimation!==0}Br(){switch(this.Tr.F().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Cr}}Mt(){return this.vt?(this.St(),this.vt=!1,this.yr=!1):this.yr&&(this.Or(),this.yr=!1),this.jt}St(){this.jt.tt(null);const t=this.Tr.Ut().yt(),e=t.zs(),s=this.Tr.Tt();if(e===null||s===null)return;const r=this.Tr.Ar(!0);if(r.Lr||!e.Ir(r.Ys))return;const o={x:t.Et(r.Ys),y:this.Tr.Bt().Dt(r.ut,s.Ot)},u=r.D,c=this.Tr.F().lineWidth,d=Vu(this.Er(),u);this.jt.tt({_r:u,ur:c,cr:d.cr,dr:d.dr,lt:d.lt,Ae:o})}Or(){const t=this.jt.ar();if(t!==null){const e=Vu(this.Er(),t._r);t.cr=e.cr,t.dr=e.dr,t.lt=e.lt}}Er(){return this.Br()?performance.now()-this.kr:2599}}function rn(l,t){return Fa(Math.min(Math.max(l,12),30)*t)}function cn(l,t){switch(l){case"arrowDown":case"arrowUp":return rn(t,1);case"circle":return rn(t,.8);case"square":return rn(t,.7)}}function Aa(l){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(rn(l,1))}function zu(l){return Math.max(rn(l,.1),3)}function Va(l,t,e,s,r){const o=cn("square",e),u=(o-1)/2,c=l-u,d=t-u;return s>=c&&s<=c+o&&r>=d&&r<=d+o}function Bu(l,t,e,s,r){const o=(cn("arrowUp",r)-1)/2,u=(Fa(r/2)-1)/2;t.beginPath(),l?(t.moveTo(e-o,s),t.lineTo(e,s-o),t.lineTo(e+o,s),t.lineTo(e+u,s),t.lineTo(e+u,s+o),t.lineTo(e-u,s+o),t.lineTo(e-u,s)):(t.moveTo(e-o,s),t.lineTo(e,s+o),t.lineTo(e+o,s),t.lineTo(e+u,s),t.lineTo(e+u,s-o),t.lineTo(e-u,s-o),t.lineTo(e-u,s)),t.fill()}function L_(l,t,e,s,r,o){return Va(t,e,s,r,o)}class F_ extends _n{constructor(){super(...arguments),this.Vt=null,this.qe=new an,this.W=-1,this.j="",this.Vr=""}tt(t){this.Vt=t}Ye(t,e){this.W===t&&this.j===e||(this.W=t,this.j=e,this.Vr=Le(t,e),this.qe.Fe())}ir(t,e){if(this.Vt===null||this.Vt.it===null)return null;for(let s=this.Vt.it.from;s<this.Vt.it.to;s++){const r=this.Vt.nt[s];if(A_(r,t,e))return{sr:r.zr,nr:r.nr}}return null}Z({context:t},e,s){if(this.Vt!==null&&this.Vt.it!==null){t.textBaseline="middle",t.font=this.Vr;for(let r=this.Vt.it.from;r<this.Vt.it.to;r++){const o=this.Vt.nt[r];o.Gt!==void 0&&(o.Gt.$i=this.qe.Si(t,o.Gt.Nr),o.Gt.It=this.W),O_(o,t)}}}}function O_(l,t){t.fillStyle=l.D,l.Gt!==void 0&&function(e,s,r,o){e.fillText(s,r,o)}(t,l.Gt.Nr,l.st-l.Gt.$i/2,l.Gt.et),function(e,s){if(e.Ns!==0){switch(e.Fr){case"arrowDown":return void Bu(!1,s,e.st,e.et,e.Ns);case"arrowUp":return void Bu(!0,s,e.st,e.et,e.Ns);case"circle":return void function(r,o,u,c){const d=(cn("circle",c)-1)/2;r.beginPath(),r.arc(o,u,d,0,2*Math.PI,!1),r.fill()}(s,e.st,e.et,e.Ns);case"square":return void function(r,o,u,c){const d=cn("square",c),v=(d-1)/2,m=o-v,b=u-v;r.fillRect(m,b,d,d)}(s,e.st,e.et,e.Ns)}e.Fr}}(l,t)}function A_(l,t,e){return!(l.Gt===void 0||!function(s,r,o,u,c,d){const v=u/2;return c>=s&&c<=s+o&&d>=r-v&&d<=r+v}(l.st,l.Gt.et,l.Gt.$i,l.Gt.It,t,e))||function(s,r,o){if(s.Ns===0)return!1;switch(s.Fr){case"arrowDown":case"arrowUp":return L_(0,s.st,s.et,s.Ns,r,o);case"circle":return function(u,c,d,v,m){const b=2+cn("circle",d)/2,x=u-v,S=c-m;return Math.sqrt(x*x+S*S)<=b}(s.st,s.et,s.Ns,r,o);case"square":return Va(s.st,s.et,s.Ns,r,o)}}(l,t,e)}function V_(l,t,e,s,r,o,u,c,d){const v=vi(e)?e:e.ce,m=vi(e)?e:e._e,b=vi(e)?e:e.ue,x=vi(t.size)?Math.max(t.size,0):1,S=Aa(c.Ks())*x,L=S/2;switch(l.Ns=S,t.position){case"inBar":return l.et=u.Dt(v,d),void(l.Gt!==void 0&&(l.Gt.et=l.et+L+o+.6*r));case"aboveBar":return l.et=u.Dt(m,d)-L-s.Wr,l.Gt!==void 0&&(l.Gt.et=l.et-L-.6*r,s.Wr+=1.2*r),void(s.Wr+=S+o);case"belowBar":return l.et=u.Dt(b,d)+L+s.jr,l.Gt!==void 0&&(l.Gt.et=l.et+L+o+.6*r,s.jr+=1.2*r),void(s.jr+=S+o)}t.position}class z_{constructor(t,e){this.vt=!0,this.$r=!0,this.Hr=!0,this.Ur=null,this.jt=new F_,this.Tr=t,this.Hi=e,this.Vt={nt:[],it:null}}gt(t){this.vt=!0,this.Hr=!0,t==="data"&&(this.$r=!0)}Mt(t){if(!this.Tr.Ct())return null;this.vt&&this.qr();const e=this.Hi.F().layout;return this.jt.Ye(e.fontSize,e.fontFamily),this.jt.tt(this.Vt),this.jt}Yr(){if(this.Hr){if(this.Tr.Xr().length>0){const t=this.Hi.yt().Ks(),e=zu(t),s=1.5*Aa(t)+2*e;this.Ur={above:s,below:s}}else this.Ur=null;this.Hr=!1}return this.Ur}qr(){const t=this.Tr.Bt(),e=this.Hi.yt(),s=this.Tr.Xr();this.$r&&(this.Vt.nt=s.map(m=>({_t:m.time,st:0,et:0,Ns:0,Fr:m.shape,D:m.color,zr:m.internalId,nr:m.id,Gt:void 0})),this.$r=!1);const r=this.Hi.F().layout;this.Vt.it=null;const o=e.zs();if(o===null)return;const u=this.Tr.Tt();if(u===null||this.Vt.nt.length===0)return;let c=NaN;const d=zu(e.Ks()),v={Wr:d,jr:d};this.Vt.it=Ta(this.Vt.nt,o,!0);for(let m=this.Vt.it.from;m<this.Vt.it.to;m++){const b=s[m];b.time!==c&&(v.Wr=d,v.jr=d,c=b.time);const x=this.Vt.nt[m];x.st=e.Et(b.time),b.text!==void 0&&b.text.length>0&&(x.Gt={Nr:b.text,et:0,$i:0,It:0});const S=this.Tr.Zr(b.time);S!==null&&V_(x,b,S,v,r.fontSize,d,t,e,u.Ot)}this.vt=!1}}class B_ extends Ph{constructor(t){super(t)}hr(){const t=this.er;t.Ct=!1;const e=this.Ts.F();if(!e.priceLineVisible||!this.Ts.Ct())return;const s=this.Ts.Ar(e.priceLineSource===0);s.Lr||(t.Ct=!0,t.et=s.yi,t.D=this.Ts.Kr(s.D),t.rt=e.priceLineWidth,t.Ft=e.priceLineStyle)}}class R_ extends Bh{constructor(t){super(),this.$t=t}Ei(t,e,s){t.Ct=!1,e.Ct=!1;const r=this.$t;if(!r.Ct())return;const o=r.F(),u=o.lastValueVisible,c=r.Gr()!=="",d=o.seriesLastValueMode===0,v=r.Ar(!1);if(v.Lr)return;u&&(t.Gt=this.Jr(v,u,d),t.Ct=t.Gt.length!==0),(c||d)&&(e.Gt=this.Qr(v,u,c,d),e.Ct=e.Gt.length>0);const m=r.Kr(v.D),b=ks(m);s.t=b.t,s.D=b.i,s.yi=v.yi,e.At=r.Ut().Lt(v.yi/r.Bt().It()),t.At=m,t.D=s.D,e.D=s.D}Qr(t,e,s,r){let o="";const u=this.$t.Gr();return s&&u.length!==0&&(o+=`${u} `),e&&r&&(o+=this.$t.Bt().th()?t.ih:t.nh),o.trim()}Jr(t,e,s){return e?s?this.$t.Bt().th()?t.nh:t.ih:t.Gt:""}}class $t{constructor(t,e){this.sh=t,this.eh=e}rh(t){return t!==null&&this.sh===t.sh&&this.eh===t.eh}hh(){return new $t(this.sh,this.eh)}lh(){return this.sh}ah(){return this.eh}oh(){return this.eh-this.sh}Ni(){return this.eh===this.sh||Number.isNaN(this.eh)||Number.isNaN(this.sh)}Qn(t){return t===null?this:new $t(Math.min(this.lh(),t.lh()),Math.max(this.ah(),t.ah()))}_h(t){if(!vi(t)||this.eh-this.sh===0)return;const e=.5*(this.eh+this.sh);let s=this.eh-e,r=this.sh-e;s*=t,r*=t,this.eh=e+s,this.sh=e+r}uh(t){vi(t)&&(this.eh+=t,this.sh+=t)}dh(){return{minValue:this.sh,maxValue:this.eh}}static fh(t){return t===null?null:new $t(t.minValue,t.maxValue)}}class zs{constructor(t,e){this.ph=t,this.mh=e||null}bh(){return this.ph}gh(){return this.mh}dh(){return this.ph===null?null:{priceRange:this.ph.dh(),margins:this.mh||void 0}}static fh(t){return t===null?null:new zs($t.fh(t.priceRange),t.margins)}}class P_ extends Ph{constructor(t,e){super(t),this.wh=e}hr(){const t=this.er;t.Ct=!1;const e=this.wh.F();if(!this.Ts.Ct()||!e.lineVisible)return;const s=this.wh.Mh();s!==null&&(t.Ct=!0,t.et=s,t.D=e.color,t.rt=e.lineWidth,t.Ft=e.lineStyle,t.nr=this.wh.F().id)}}class D_ extends Bh{constructor(t,e){super(),this.Tr=t,this.wh=e}Ei(t,e,s){t.Ct=!1,e.Ct=!1;const r=this.wh.F(),o=r.axisLabelVisible,u=r.title!=="",c=this.Tr;if(!o||!c.Ct())return;const d=this.wh.Mh();if(d===null)return;u&&(e.Gt=r.title,e.Ct=!0),e.At=c.Ut().Lt(d/c.Bt().It()),t.Gt=this.Sh(r.price),t.Ct=!0;const v=ks(r.color);s.t=v.t,s.D=v.i,s.yi=d}Sh(t){const e=this.Tr.Tt();return e===null?"":this.Tr.Bt().Fi(t,e.Ot)}}class N_{constructor(t,e){this.Tr=t,this.un=e,this.xh=new P_(t,this),this.Xe=new D_(t,this),this.yh=new Oa(this.Xe,t,t.Ut())}kh(t){mi(this.un,t),this.gt(),this.Tr.Ut().Ch()}F(){return this.un}Th(){return this.xh}Ph(){return this.yh}Rh(){return this.Xe}gt(){this.xh.gt(),this.Xe.gt()}Mh(){const t=this.Tr,e=t.Bt();if(t.Ut().yt().Ni()||e.Ni())return null;const s=t.Tt();return s===null?null:e.Dt(this.un.price,s.Ot)}}class k_ extends Rh{constructor(t){super(),this.Hi=t}Ut(){return this.Hi}}const U_={Bar:(l,t,e,s)=>{var r;const o=t.upColor,u=t.downColor,c=A(l(e,s)),d=nn(c.Ot[0])<=nn(c.Ot[3]);return{ie:(r=c.D)!==null&&r!==void 0?r:d?o:u}},Candlestick:(l,t,e,s)=>{var r,o,u;const c=t.upColor,d=t.downColor,v=t.borderUpColor,m=t.borderDownColor,b=t.wickUpColor,x=t.wickDownColor,S=A(l(e,s)),L=nn(S.Ot[0])<=nn(S.Ot[3]);return{ie:(r=S.D)!==null&&r!==void 0?r:L?c:d,Pe:(o=S.At)!==null&&o!==void 0?o:L?v:m,Te:(u=S.Dh)!==null&&u!==void 0?u:L?b:x}},Area:(l,t,e,s)=>{var r,o,u,c;const d=A(l(e,s));return{ie:(r=d.ot)!==null&&r!==void 0?r:t.lineColor,ot:(o=d.ot)!==null&&o!==void 0?o:t.lineColor,bs:(u=d.bs)!==null&&u!==void 0?u:t.topColor,gs:(c=d.gs)!==null&&c!==void 0?c:t.bottomColor}},Baseline:(l,t,e,s)=>{var r,o,u,c,d,v;const m=A(l(e,s));return{ie:m.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,be:(r=m.be)!==null&&r!==void 0?r:t.topLineColor,ge:(o=m.ge)!==null&&o!==void 0?o:t.bottomLineColor,de:(u=m.de)!==null&&u!==void 0?u:t.topFillColor1,fe:(c=m.fe)!==null&&c!==void 0?c:t.topFillColor2,pe:(d=m.pe)!==null&&d!==void 0?d:t.bottomFillColor1,ve:(v=m.ve)!==null&&v!==void 0?v:t.bottomFillColor2}},Line:(l,t,e,s)=>{var r,o;const u=A(l(e,s));return{ie:(r=u.D)!==null&&r!==void 0?r:t.color,ot:(o=u.D)!==null&&o!==void 0?o:t.color}},Histogram:(l,t,e,s)=>{var r;return{ie:(r=A(l(e,s)).D)!==null&&r!==void 0?r:t.color}}};class W_{constructor(t){this.Bh=(e,s)=>s!==void 0?s.Ot:this.Tr.Ln().Oh(e),this.Tr=t,this.Ah=U_[t.Lh()]}As(t,e){return this.Ah(this.Bh,this.Tr.F(),t,e)}}var Ru;(function(l){l[l.NearestLeft=-1]="NearestLeft",l[l.None=0]="None",l[l.NearestRight=1]="NearestRight"})(Ru||(Ru={}));const Ui=30;class G_{constructor(){this.Ih=[],this.Eh=new Map,this.Vh=new Map}zh(){return this.Ns()>0?this.Ih[this.Ih.length-1]:null}Nh(){return this.Ns()>0?this.Fh(0):null}An(){return this.Ns()>0?this.Fh(this.Ih.length-1):null}Ns(){return this.Ih.length}Ni(){return this.Ns()===0}Ir(t){return this.Wh(t,0)!==null}Oh(t){return this.jh(t)}jh(t,e=0){const s=this.Wh(t,e);return s===null?null:Object.assign(Object.assign({},this.$h(s)),{Ys:this.Fh(s)})}Us(){return this.Ih}Hh(t,e,s){if(this.Ni())return null;let r=null;for(const o of s)r=vs(r,this.Uh(t,e,o));return r}tt(t){this.Vh.clear(),this.Eh.clear(),this.Ih=t}Fh(t){return this.Ih[t].Ys}$h(t){return this.Ih[t]}Wh(t,e){const s=this.qh(t);if(s===null&&e!==0)switch(e){case-1:return this.Yh(t);case 1:return this.Xh(t);default:throw new TypeError("Unknown search mode")}return s}Yh(t){let e=this.Zh(t);return e>0&&(e-=1),e!==this.Ih.length&&this.Fh(e)<t?e:null}Xh(t){const e=this.Kh(t);return e!==this.Ih.length&&t<this.Fh(e)?e:null}qh(t){const e=this.Zh(t);return e===this.Ih.length||t<this.Ih[e].Ys?null:e}Zh(t){return bn(this.Ih,t,(e,s)=>e.Ys<s)}Kh(t){return Ca(this.Ih,t,(e,s)=>s.Ys>e)}Gh(t,e,s){let r=null;for(let o=t;o<e;o++){const u=this.Ih[o].Ot[s];Number.isNaN(u)||(r===null?r={Jh:u,Qh:u}:(u<r.Jh&&(r.Jh=u),u>r.Qh&&(r.Qh=u)))}return r}Uh(t,e,s){if(this.Ni())return null;let r=null;const o=A(this.Nh()),u=A(this.An()),c=Math.max(t,o),d=Math.min(e,u),v=Math.ceil(c/Ui)*Ui,m=Math.max(v,Math.floor(d/Ui)*Ui);{const x=this.Zh(c),S=this.Kh(Math.min(d,v,e));r=vs(r,this.Gh(x,S,s))}let b=this.Eh.get(s);b===void 0&&(b=new Map,this.Eh.set(s,b));for(let x=Math.max(v+1,c);x<m;x+=Ui){const S=Math.floor(x/Ui);let L=b.get(S);if(L===void 0){const O=this.Zh(S*Ui),z=this.Kh((S+1)*Ui-1);L=this.Gh(O,z,s),b.set(S,L)}r=vs(r,L)}{const x=this.Zh(m),S=this.Kh(d);r=vs(r,this.Gh(x,S,s))}return r}}function vs(l,t){return l===null?t:t===null?l:{Jh:Math.min(l.Jh,t.Jh),Qh:Math.max(l.Qh,t.Qh)}}class Dh extends k_{constructor(t,e,s){super(t),this.Vt=new G_,this.xh=new B_(this),this.tl=[],this.il=new C_(this),this.nl=null,this.sl=null,this.el=[],this.rl=[],this.hl=null,this.un=e,this.ll=s;const r=new R_(this);this.rn=[r],this.yh=new Oa(r,this,t),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.nl=new I_(this)),this.al(),this.ol()}M(){this.hl!==null&&clearTimeout(this.hl)}Kr(t){return this.un.priceLineColor||t}Ar(t){const e={Lr:!0},s=this.Bt();if(this.Ut().yt().Ni()||s.Ni()||this.Vt.Ni())return e;const r=this.Ut().yt().zs(),o=this.Tt();if(r===null||o===null)return e;let u,c;if(t){const b=this.Vt.zh();if(b===null)return e;u=b,c=b.Ys}else{const b=this.Vt.jh(r.ci(),-1);if(b===null||(u=this.Vt.Oh(b.Ys),u===null))return e;c=b.Ys}const d=u.Ot[3],v=this.Ls().As(c,{Ot:u}),m=s.Dt(d,o.Ot);return{Lr:!1,ut:d,Gt:s.Fi(d,o.Ot),ih:s._l(d),nh:s.ul(d,o.Ot),D:v.ie,yi:m,Ys:c}}Ls(){return this.sl!==null||(this.sl=new W_(this)),this.sl}F(){return this.un}kh(t){const e=t.priceScaleId;e!==void 0&&e!==this.un.priceScaleId&&this.Ut().cl(this,e),mi(this.un,t),t.priceFormat!==void 0&&(this.al(),this.Ut().dl()),this.Ut().fl(this),this.Ut().pl(),this.bn.gt("options")}tt(t,e){this.Vt.tt(t),this.vl(),this.bn.gt("data"),this.cn.gt("data"),this.nl!==null&&(e&&e.ml?this.nl.Rr():t.length===0&&this.nl.Pr());const s=this.Ut().Ke(this);this.Ut().bl(s),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}gl(t){this.el=t,this.vl();const e=this.Ut().Ke(this);this.cn.gt("data"),this.Ut().bl(e),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}wl(){return this.el}Xr(){return this.rl}Ml(t){const e=new N_(this,t);return this.tl.push(e),this.Ut().fl(this),e}Sl(t){const e=this.tl.indexOf(t);e!==-1&&this.tl.splice(e,1),this.Ut().fl(this)}Lh(){return this.ll}Tt(){const t=this.xl();return t===null?null:{Ot:t.Ot[3],yl:t._t}}xl(){const t=this.Ut().yt().zs();if(t===null)return null;const e=t.Ms();return this.Vt.jh(e,1)}Ln(){return this.Vt}Zr(t){const e=this.Vt.Oh(t);return e===null?null:this.ll==="Bar"||this.ll==="Candlestick"?{oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3]}:e.Ot[3]}kl(t){const e=this.nl;return e!==null&&e.Ct()?(this.hl===null&&e.Br()&&(this.hl=setTimeout(()=>{this.hl=null,this.Ut().Cl()},0)),e.Dr(),[e]):[]}Tn(){const t=[];this.Tl()||t.push(this.il),t.push(this.bn,this.xh,this.cn);const e=this.tl.map(s=>s.Th());return t.push(...e),t}Ji(t){return[this.yh,...this.tl.map(e=>e.Ph())]}Pn(t,e){if(e!==this.Yi&&!this.Tl())return[];const s=[...this.rn];for(const r of this.tl)s.push(r.Rh());return s}Pl(t,e){if(this.un.autoscaleInfoProvider!==void 0){const s=this.un.autoscaleInfoProvider(()=>{const r=this.Rl(t,e);return r===null?null:r.dh()});return zs.fh(s)}return this.Rl(t,e)}Dl(){return this.un.priceFormat.minMove}Bl(){return this.Ol}Dn(){var t;this.bn.gt(),this.cn.gt();for(const e of this.rn)e.gt();for(const e of this.tl)e.gt();this.xh.gt(),this.il.gt(),(t=this.nl)===null||t===void 0||t.gt()}Bt(){return A(super.Bt())}kt(t){if(!((this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline")&&this.un.crosshairMarkerVisible))return null;const e=this.Vt.Oh(t);return e===null?null:{ut:e.Ot[3],lt:this.Al(),At:this.Ll(),Rt:this.Il(),Pt:this.El(t)}}Gr(){return this.un.title}Ct(){return this.un.visible}Tl(){return!Ws(this.Bt().Vl())}Rl(t,e){if(!un(t)||!un(e)||this.Vt.Ni())return null;const s=this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline"||this.ll==="Histogram"?[3]:[2,1],r=this.Vt.Hh(t,e,s);let o=r!==null?new $t(r.Jh,r.Qh):null;if(this.Lh()==="Histogram"){const u=this.un.base,c=new $t(u,u);o=o!==null?o.Qn(c):c}return new zs(o,this.cn.Yr())}Al(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerRadius}return 0}Ll(){switch(this.ll){case"Line":case"Area":case"Baseline":{const t=this.un.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Il(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerBorderWidth}return 0}El(t){switch(this.ll){case"Line":case"Area":case"Baseline":{const e=this.un.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Ls().As(t).ie}al(){switch(this.un.priceFormat.type){case"custom":this.Ol={format:this.un.priceFormat.formatter};break;case"volume":this.Ol=new s_(this.un.priceFormat.precision);break;case"percent":this.Ol=new wa(this.un.priceFormat.precision);break;default:{const t=Math.pow(10,this.un.priceFormat.precision);this.Ol=new Gs(t,this.un.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.zl()}vl(){const t=this.Ut().yt();if(t.Ni()||this.Vt.Ns()===0)return void(this.rl=[]);const e=A(this.Vt.Nh());this.rl=this.el.map((s,r)=>{const o=A(t.Nl(s.time,!0)),u=o<e?1:-1;return{time:A(this.Vt.jh(o,u)).Ys,position:s.position,shape:s.shape,color:s.color,id:s.id,internalId:r,text:s.text,size:s.size}})}ol(){switch(this.cn=new z_(this,this.Ut()),this.ll){case"Bar":this.bn=new d_(this,this.Ut());break;case"Candlestick":this.bn=new __(this,this.Ut());break;case"Line":this.bn=new M_(this,this.Ut());break;case"Area":this.bn=new c_(this,this.Ut());break;case"Baseline":this.bn=new v_(this,this.Ut());break;case"Histogram":this.bn=new w_(this,this.Ut());break;default:throw Error("Unknown chart style assigned: "+this.ll)}}}class H_{constructor(t){this.un=t}Fl(t,e,s){let r=t;if(this.un.mode===0)return r;const o=s.fn(),u=o.Tt();if(u===null)return r;const c=o.Dt(t,u),d=s.Wl().filter(m=>m instanceof Dh).reduce((m,b)=>{if(s.Ge(b)||!b.Ct())return m;const x=b.Bt(),S=b.Ln();if(x.Ni()||!S.Ir(e))return m;const L=S.Oh(e);if(L===null)return m;const O=nn(b.Tt());return m.concat([x.Dt(L.Ot[3],O.Ot)])},[]);if(d.length===0)return r;d.sort((m,b)=>Math.abs(m-c)-Math.abs(b-c));const v=d[0];return r=o.pn(v,u),r}}class Y_ extends ne{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Vt===null)return;const o=Math.max(1,Math.floor(s));t.lineWidth=o,function(u,c){u.save(),u.lineWidth%2&&u.translate(.5,.5),c(),u.restore()}(t,()=>{const u=A(this.Vt);if(u.jl){t.strokeStyle=u.$l,te(t,u.Hl),t.beginPath();for(const c of u.Ul){const d=Math.round(c.ql*s);t.moveTo(d,-o),t.lineTo(d,e.height+o)}t.stroke()}if(u.Yl){t.strokeStyle=u.Xl,te(t,u.Zl),t.beginPath();for(const c of u.Kl){const d=Math.round(c.ql*r);t.moveTo(-o,d),t.lineTo(e.width+o,d)}t.stroke()}})}}class K_{constructor(t){this.jt=new Y_,this.vt=!0,this.tn=t}gt(){this.vt=!0}Mt(){if(this.vt){const t=this.tn.Ut().F().grid,e={Yl:t.horzLines.visible,jl:t.vertLines.visible,Xl:t.horzLines.color,$l:t.vertLines.color,Zl:t.horzLines.style,Hl:t.vertLines.style,Kl:this.tn.fn().Gl(),Ul:this.tn.Ut().yt().Gl()||[]};this.jt.tt(e),this.vt=!1}return this.jt}}class $_{constructor(t){this.bn=new K_(t)}Th(){return this.bn}}const gh={Jl:4,Ql:1e-4};function Se(l,t){const e=100*(l-t)/t;return t<0?-e:e}function q_(l,t){const e=Se(l.lh(),t),s=Se(l.ah(),t);return new $t(e,s)}function hn(l,t){const e=100*(l-t)/t+100;return t<0?-e:e}function X_(l,t){const e=hn(l.lh(),t),s=hn(l.ah(),t);return new $t(e,s)}function Bs(l,t){const e=Math.abs(l);if(e<1e-15)return 0;const s=La(e+t.Ql)+t.Jl;return l<0?-s:s}function ln(l,t){const e=Math.abs(l);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Jl)-t.Ql;return l<0?-s:s}function en(l,t){if(l===null)return null;const e=Bs(l.lh(),t),s=Bs(l.ah(),t);return new $t(e,s)}function ms(l,t){if(l===null)return null;const e=ln(l.lh(),t),s=ln(l.ah(),t);return new $t(e,s)}function vh(l){if(l===null)return gh;const t=Math.abs(l.ah()-l.lh());if(t>=1||t<1e-15)return gh;const e=Math.ceil(Math.abs(Math.log10(t))),s=gh.Jl+e;return{Jl:s,Ql:1/Math.pow(10,s)}}class mh{constructor(t,e){if(this.ta=t,this.ia=e,function(s){if(s<0)return!1;for(let r=s;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.ta))this.na=[2,2.5,2];else{this.na=[];for(let s=this.ta;s!==1;){if(s%2==0)this.na.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.na.push(2,2.5),s/=5}if(this.na.length>100)throw new Error("something wrong with base")}}}sa(t,e,s){const r=this.ta===0?0:1/this.ta;let o=Math.pow(10,Math.max(0,Math.ceil(La(t-e)))),u=0,c=this.ia[0];for(;;){const b=gs(o,r,1e-14)&&o>r+1e-14,x=gs(o,s*c,1e-14),S=gs(o,1,1e-14);if(!(b&&x&&S))break;o/=c,c=this.ia[++u%this.ia.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.na.length>0&&(d=o,v=1,m=1e-14,Math.abs(d-v)<m))for(u=0,c=this.na[0];gs(o,s*c,1e-14)&&o>r+1e-14;)o/=c,c=this.na[++u%this.na.length];var d,v,m;return o}}class Pu{constructor(t,e,s,r){this.ea=[],this.Vi=t,this.ta=e,this.ra=s,this.ha=r}sa(t,e){if(t<e)throw new Error("high < low");const s=this.Vi.It(),r=(t-e)*this.la()/s,o=new mh(this.ta,[2,2.5,2]),u=new mh(this.ta,[2,2,2.5]),c=new mh(this.ta,[2.5,2,2]),d=[];return d.push(o.sa(t,e,r),u.sa(t,e,r),c.sa(t,e,r)),function(v){if(v.length<1)throw Error("array is empty");let m=v[0];for(let b=1;b<v.length;++b)v[b]<m&&(m=v[b]);return m}(d)}aa(){const t=this.Vi,e=t.Tt();if(e===null)return void(this.ea=[]);const s=t.It(),r=this.ra(s-1,e),o=this.ra(0,e),u=this.Vi.F().entireTextOnly?this.oa()/2:0,c=u,d=s-1-u,v=Math.max(r,o),m=Math.min(r,o);if(v===m)return void(this.ea=[]);let b=this.sa(v,m),x=v%b;x+=x<0?b:0;const S=v>=m?1:-1;let L=null,O=0;for(let z=v-x;z>m;z-=b){const R=this.ha(z,e,!0);L!==null&&Math.abs(R-L)<this.la()||R<c||R>d||(O<this.ea.length?(this.ea[O].ql=R,this.ea[O]._a=t.ua(z)):this.ea.push({ql:R,_a:t.ua(z)}),O++,L=R,t.ca()&&(b=this.sa(z*S,m)))}this.ea.length=O}Gl(){return this.ea}oa(){return this.Vi.T()}la(){return Math.ceil(2.5*this.oa())}}function za(l){return l.slice().sort((t,e)=>A(t.Zi())-A(e.Zi()))}var Du;(function(l){l[l.Normal=0]="Normal",l[l.Logarithmic=1]="Logarithmic",l[l.Percentage=2]="Percentage",l[l.IndexedTo100=3]="IndexedTo100"})(Du||(Du={}));const Nu=new wa,ku=new Gs(100,1);class Z_{constructor(t,e,s,r){this.da=0,this.fa=null,this.ph=null,this.pa=null,this.va={ma:!1,ba:null},this.ga=0,this.wa=0,this.Ma=new Ct,this.Sa=new Ct,this.xa=[],this.ya=null,this.ka=null,this.Ca=null,this.Ta=null,this.Ol=ku,this.Pa=vh(null),this.Ra=t,this.un=e,this.Da=s,this.Ba=r,this.Oa=new Pu(this,100,this.Aa.bind(this),this.La.bind(this))}Vl(){return this.Ra}F(){return this.un}kh(t){if(mi(this.un,t),this.zl(),t.mode!==void 0&&this.Ia({lr:t.mode}),t.scaleMargins!==void 0){const e=ni(t.scaleMargins.top),s=ni(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1||e+s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.Ea(),this.ka=null}}Va(){return this.un.autoScale}ca(){return this.un.mode===1}th(){return this.un.mode===2}za(){return this.un.mode===3}lr(){return{Fn:this.un.autoScale,Na:this.un.invertScale,lr:this.un.mode}}Ia(t){const e=this.lr();let s=null;t.Fn!==void 0&&(this.un.autoScale=t.Fn),t.lr!==void 0&&(this.un.mode=t.lr,t.lr!==2&&t.lr!==3||(this.un.autoScale=!0),this.va.ma=!1),e.lr===1&&t.lr!==e.lr&&(function(o,u){if(o===null)return!1;const c=ln(o.lh(),u),d=ln(o.ah(),u);return isFinite(c)&&isFinite(d)}(this.ph,this.Pa)?(s=ms(this.ph,this.Pa),s!==null&&this.Fa(s)):this.un.autoScale=!0),t.lr===1&&t.lr!==e.lr&&(s=en(this.ph,this.Pa),s!==null&&this.Fa(s));const r=e.lr!==this.un.mode;r&&(e.lr===2||this.th())&&this.zl(),r&&(e.lr===3||this.za())&&this.zl(),t.Na!==void 0&&e.Na!==t.Na&&(this.un.invertScale=t.Na,this.Wa()),this.Sa.m(e,this.lr())}ja(){return this.Sa}T(){return this.Da.fontSize}It(){return this.da}$a(t){this.da!==t&&(this.da=t,this.Ea(),this.ka=null)}Ha(){if(this.fa)return this.fa;const t=this.It()-this.Ua()-this.qa();return this.fa=t,t}bh(){return this.Ya(),this.ph}Fa(t,e){const s=this.ph;(e||s===null&&t!==null||s!==null&&!s.rh(t))&&(this.ka=null,this.ph=t)}Ni(){return this.Ya(),this.da===0||!this.ph||this.ph.Ni()}Xa(t){return this.Na()?t:this.It()-1-t}Dt(t,e){return this.th()?t=Se(t,e):this.za()&&(t=hn(t,e)),this.La(t,e)}$s(t,e,s){this.Ya();const r=this.qa(),o=A(this.bh()),u=o.lh(),c=o.ah(),d=this.Ha()-1,v=this.Na(),m=d/(c-u),b=s===void 0?0:s.from,x=s===void 0?t.length:s.to,S=this.Za();for(let L=b;L<x;L++){const O=t[L],z=O.ut;if(isNaN(z))continue;let R=z;S!==null&&(R=S(O.ut,e));const et=r+m*(R-u),P=v?et:this.da-1-et;O.et=P}}le(t,e,s){this.Ya();const r=this.qa(),o=A(this.bh()),u=o.lh(),c=o.ah(),d=this.Ha()-1,v=this.Na(),m=d/(c-u),b=s===void 0?0:s.from,x=s===void 0?t.length:s.to,S=this.Za();for(let L=b;L<x;L++){const O=t[L];let z=O.oe,R=O._e,et=O.ue,P=O.ce;S!==null&&(z=S(O.oe,e),R=S(O._e,e),et=S(O.ue,e),P=S(O.ce,e));let D=r+m*(z-u),G=v?D:this.da-1-D;O.re=G,D=r+m*(R-u),G=v?D:this.da-1-D,O.ne=G,D=r+m*(et-u),G=v?D:this.da-1-D,O.se=G,D=r+m*(P-u),G=v?D:this.da-1-D,O.he=G}}pn(t,e){const s=this.Aa(t,e);return this.Ka(s,e)}Ka(t,e){let s=t;return this.th()?s=function(r,o){return o<0&&(r=-r),r/100*o+o}(s,e):this.za()&&(s=function(r,o){return r-=100,o<0&&(r=-r),r/100*o+o}(s,e)),s}Wl(){return this.xa}Ga(){if(this.ya)return this.ya;let t=[];for(let e=0;e<this.xa.length;e++){const s=this.xa[e];s.Zi()===null&&s.Ki(e+1),t.push(s)}return t=za(t),this.ya=t,this.ya}Ja(t){this.xa.indexOf(t)===-1&&(this.xa.push(t),this.zl(),this.Qa())}io(t){const e=this.xa.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.xa.splice(e,1),this.xa.length===0&&(this.Ia({Fn:!0}),this.Fa(null)),this.zl(),this.Qa()}Tt(){let t=null;for(const e of this.xa){const s=e.Tt();s!==null&&(t===null||s.yl<t.yl)&&(t=s)}return t===null?null:t.Ot}Na(){return this.un.invertScale}Gl(){const t=this.Tt()===null;if(this.ka!==null&&(t||this.ka.no===t))return this.ka.Gl;this.Oa.aa();const e=this.Oa.Gl();return this.ka={Gl:e,no:t},this.Ma.m(),e}so(){return this.Ma}eo(t){this.th()||this.za()||this.Ca===null&&this.pa===null&&(this.Ni()||(this.Ca=this.da-t,this.pa=A(this.bh()).hh()))}ro(t){if(this.th()||this.za()||this.Ca===null)return;this.Ia({Fn:!1}),(t=this.da-t)<0&&(t=0);let e=(this.Ca+.2*(this.da-1))/(t+.2*(this.da-1));const s=A(this.pa).hh();e=Math.max(e,.1),s._h(e),this.Fa(s)}ho(){this.th()||this.za()||(this.Ca=null,this.pa=null)}lo(t){this.Va()||this.Ta===null&&this.pa===null&&(this.Ni()||(this.Ta=t,this.pa=A(this.bh()).hh()))}ao(t){if(this.Va()||this.Ta===null)return;const e=A(this.bh()).oh()/(this.Ha()-1);let s=t-this.Ta;this.Na()&&(s*=-1);const r=s*e,o=A(this.pa).hh();o.uh(r),this.Fa(o,!0),this.ka=null}oo(){this.Va()||this.Ta!==null&&(this.Ta=null,this.pa=null)}Bl(){return this.Ol||this.zl(),this.Ol}Fi(t,e){switch(this.un.mode){case 2:return this.Bl().format(Se(t,e));case 3:return this.Bl().format(hn(t,e));default:return this.Sh(t)}}ua(t){switch(this.un.mode){case 2:case 3:return this.Bl().format(t);default:return this.Sh(t)}}_l(t){return this.Sh(t,A(this._o()).Bl())}ul(t,e){return t=Se(t,e),Nu.format(t)}uo(){return this.xa}co(t){this.va={ba:t,ma:!1}}Dn(){this.xa.forEach(t=>t.Dn())}zl(){this.ka=null;const t=this._o();let e=100;t!==null&&(e=Math.round(1/t.Dl())),this.Ol=ku,this.th()?(this.Ol=Nu,e=100):this.za()?(this.Ol=new Gs(100,1),e=100):t!==null&&(this.Ol=t.Bl()),this.Oa=new Pu(this,e,this.Aa.bind(this),this.La.bind(this)),this.Oa.aa()}Qa(){this.ya=null}_o(){return this.xa[0]||null}Ua(){return this.Na()?this.un.scaleMargins.bottom*this.It()+this.wa:this.un.scaleMargins.top*this.It()+this.ga}qa(){return this.Na()?this.un.scaleMargins.top*this.It()+this.ga:this.un.scaleMargins.bottom*this.It()+this.wa}Ya(){this.va.ma||(this.va.ma=!0,this.do())}Ea(){this.fa=null}La(t,e){if(this.Ya(),this.Ni())return 0;t=this.ca()&&t?Bs(t,this.Pa):t;const s=A(this.bh()),r=this.qa()+(this.Ha()-1)*(t-s.lh())/s.oh();return this.Xa(r)}Aa(t,e){if(this.Ya(),this.Ni())return 0;const s=this.Xa(t),r=A(this.bh()),o=r.lh()+r.oh()*((s-this.qa())/(this.Ha()-1));return this.ca()?ln(o,this.Pa):o}Wa(){this.ka=null,this.Oa.aa()}do(){const t=this.va.ba;if(t===null)return;let e=null;const s=this.uo();let r=0,o=0;for(const d of s){if(!d.Ct())continue;const v=d.Tt();if(v===null)continue;const m=d.Pl(t.Ms(),t.ci());let b=m&&m.bh();if(b!==null){switch(this.un.mode){case 1:b=en(b,this.Pa);break;case 2:b=q_(b,v.Ot);break;case 3:b=X_(b,v.Ot)}if(e=e===null?b:e.Qn(A(b)),m!==null){const x=m.gh();x!==null&&(r=Math.max(r,x.above),o=Math.max(r,x.below))}}}if(r===this.ga&&o===this.wa||(this.ga=r,this.wa=o,this.ka=null,this.Ea()),e!==null){if(e.lh()===e.ah()){const d=this._o(),v=5*(d===null||this.th()||this.za()?1:d.Dl());this.ca()&&(e=ms(e,this.Pa)),e=new $t(e.lh()-v,e.ah()+v),this.ca()&&(e=en(e,this.Pa))}if(this.ca()){const d=ms(e,this.Pa),v=vh(d);if(u=v,c=this.Pa,u.Jl!==c.Jl||u.Ql!==c.Ql){const m=this.pa!==null?ms(this.pa,this.Pa):null;this.Pa=v,e=en(d,v),m!==null&&(this.pa=en(m,v))}}this.Fa(e)}else this.ph===null&&(this.Fa(new $t(-.5,.5)),this.Pa=vh(null));var u,c;this.va.ma=!0}Za(){return this.th()?Se:this.za()?hn:this.ca()?t=>Bs(t,this.Pa):null}Sh(t,e){return this.Ba.priceFormatter===void 0?(e===void 0&&(e=this.Bl()),e.format(t)):this.Ba.priceFormatter(t)}}class J_{constructor(t,e){this.xa=[],this.fo=new Map,this.da=0,this.po=0,this.vo=1e3,this.ya=null,this.mo=new Ct,this.bo=t,this.Hi=e,this.wo=new $_(this);const s=e.F();this.Mo=this.So("left",s.leftPriceScale),this.xo=this.So("right",s.rightPriceScale),this.Mo.ja().l(this.yo.bind(this,this.Mo),this),this.xo.ja().l(this.yo.bind(this,this.xo),this),this.ko(s)}ko(t){if(t.leftPriceScale&&this.Mo.kh(t.leftPriceScale),t.rightPriceScale&&this.xo.kh(t.rightPriceScale),t.localization&&(this.Mo.zl(),this.xo.zl()),t.overlayPriceScales){const e=Array.from(this.fo.values());for(const s of e){const r=A(s[0].Bt());r.kh(t.overlayPriceScales),t.localization&&r.zl()}}}Co(t){switch(t){case"left":return this.Mo;case"right":return this.xo}return this.fo.has(t)?ni(this.fo.get(t))[0].Bt():null}M(){this.Ut().To().v(this),this.Mo.ja().v(this),this.xo.ja().v(this),this.xa.forEach(t=>{t.M&&t.M()}),this.mo.m()}Po(){return this.vo}Ro(t){this.vo=t}Ut(){return this.Hi}$i(){return this.po}It(){return this.da}Do(t){this.po=t,this.Bo()}$a(t){this.da=t,this.Mo.$a(t),this.xo.$a(t),this.xa.forEach(e=>{if(this.Ge(e)){const s=e.Bt();s!==null&&s.$a(t)}}),this.Bo()}Wl(){return this.xa}Ge(t){const e=t.Bt();return e===null||this.Mo!==e&&this.xo!==e}Ja(t,e,s){const r=s!==void 0?s:this.Ao().Oo+1;this.Lo(t,e,r)}io(t){const e=this.xa.indexOf(t);ee(e!==-1,"removeDataSource: invalid data source"),this.xa.splice(e,1);const s=A(t.Bt()).Vl();if(this.fo.has(s)){const o=ni(this.fo.get(s)),u=o.indexOf(t);u!==-1&&(o.splice(u,1),o.length===0&&this.fo.delete(s))}const r=t.Bt();r&&r.Wl().indexOf(t)>=0&&r.io(t),r!==null&&(r.Qa(),this.Io(r)),this.ya=null}Qe(t){return t===this.Mo?"left":t===this.xo?"right":"overlay"}Eo(){return this.Mo}Vo(){return this.xo}zo(t,e){t.eo(e)}No(t,e){t.ro(e),this.Bo()}Fo(t){t.ho()}Wo(t,e){t.lo(e)}jo(t,e){t.ao(e),this.Bo()}$o(t){t.oo()}Bo(){this.xa.forEach(t=>{t.Dn()})}fn(){let t=null;return this.Hi.F().rightPriceScale.visible&&this.xo.Wl().length!==0?t=this.xo:this.Hi.F().leftPriceScale.visible&&this.Mo.Wl().length!==0?t=this.Mo:this.xa.length!==0&&(t=this.xa[0].Bt()),t===null&&(t=this.xo),t}Je(){let t=null;return this.Hi.F().rightPriceScale.visible?t=this.xo:this.Hi.F().leftPriceScale.visible&&(t=this.Mo),t}Io(t){t!==null&&t.Va()&&this.Ho(t)}Uo(t){const e=this.bo.zs();t.Ia({Fn:!0}),e!==null&&t.co(e),this.Bo()}qo(){this.Ho(this.Mo),this.Ho(this.xo)}Yo(){this.Io(this.Mo),this.Io(this.xo),this.xa.forEach(t=>{this.Ge(t)&&this.Io(t.Bt())}),this.Bo(),this.Hi.Ch()}Ga(){return this.ya===null&&(this.ya=za(this.xa)),this.ya}Xo(){return this.mo}Zo(){return this.wo}Ho(t){const e=t.uo();if(e&&e.length>0&&!this.bo.Ni()){const s=this.bo.zs();s!==null&&t.co(s)}t.Dn()}Ao(){const t=this.Ga();if(t.length===0)return{Ko:0,Oo:0};let e=0,s=0;for(let r=0;r<t.length;r++){const o=t[r].Zi();o!==null&&(o<e&&(e=o),o>s&&(s=o))}return{Ko:e,Oo:s}}Lo(t,e,s){let r=this.Co(e);if(r===null&&(r=this.So(e,this.Hi.F().overlayPriceScales)),this.xa.push(t),!Ws(e)){const o=this.fo.get(e)||[];o.push(t),this.fo.set(e,o)}r.Ja(t),t.Gi(r),t.Ki(s),this.Io(r),this.ya=null}yo(t,e,s){e.lr!==s.lr&&this.Ho(t)}So(t,e){const s=Object.assign({visible:!0,autoScale:!0},Ii(e)),r=new Z_(t,s,this.Hi.F().layout,this.Hi.F().localization);return r.$a(this.It()),r}}const Uu=l=>l.getUTCFullYear();function Q_(l,t,e){return t.replace(/yyyy/g,(s=>Li(Uu(s),4))(l)).replace(/yy/g,(s=>Li(Uu(s)%100,2))(l)).replace(/MMMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(l,e)).replace(/MMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(l,e)).replace(/MM/g,(s=>Li((r=>r.getUTCMonth()+1)(s),2))(l)).replace(/dd/g,(s=>Li((r=>r.getUTCDate())(s),2))(l))}class Ba{constructor(t="yyyy-MM-dd",e="default"){this.Go=t,this.Jo=e}Qo(t){return Q_(t,this.Go,this.Jo)}}class j_{constructor(t){this.t_=t||"%h:%m:%s"}Qo(t){return this.t_.replace("%h",Li(t.getUTCHours(),2)).replace("%m",Li(t.getUTCMinutes(),2)).replace("%s",Li(t.getUTCSeconds(),2))}}const t1={i_:"yyyy-MM-dd",n_:"%h:%m:%s",s_:" ",e_:"default"};class i1{constructor(t={}){const e=Object.assign(Object.assign({},t1),t);this.r_=new Ba(e.i_,e.e_),this.h_=new j_(e.n_),this.l_=e.s_}Qo(t){return`${this.r_.Qo(t)}${this.l_}${this.h_.Qo(t)}`}}class e1{constructor(t,e=50){this.Le=0,this.Ie=1,this.Ee=1,this.ze=new Map,this.Ve=new Map,this.a_=t,this.Ne=e}Qo(t){const e=t._t,s=e.o_===void 0?new Date(1e3*e.__).getTime():new Date(Date.UTC(e.o_.year,e.o_.month-1,e.o_.day)).getTime(),r=this.ze.get(s);if(r!==void 0)return r.u_;if(this.Le===this.Ne){const u=this.Ve.get(this.Ee);this.Ve.delete(this.Ee),this.ze.delete(ni(u)),this.Ee++,this.Le--}const o=this.a_(t);return this.ze.set(s,{u_:o,$e:this.Ie}),this.Ve.set(this.Ie,s),this.Le++,this.Ie++,o}}class on{constructor(t,e){ee(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Ms(){return this.c_}ci(){return this.d_}f_(){return this.d_-this.c_+1}Ir(t){return this.c_<=t&&t<=this.d_}rh(t){return this.c_===t.Ms()&&this.d_===t.ci()}}function Wu(l,t){return l===null||t===null?l===t:l.rh(t)}class n1{constructor(){this.p_=new Map,this.ze=null}v_(t,e){this.m_(e),this.ze=null;for(let s=e;s<t.length;++s){const r=t[s];let o=this.p_.get(r.b_);o===void 0&&(o=[],this.p_.set(r.b_,o)),o.push({Ys:s,_t:r._t,g_:r.b_,w_:r.w_})}}M_(t,e){const s=Math.ceil(e/t);return this.ze!==null&&this.ze.S_===s||(this.ze={Gl:this.x_(s),S_:s}),this.ze.Gl}m_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach((s,r)=>{t<=s[0].Ys?e.push(r):s.splice(bn(s,t,o=>o.Ys<t),1/0)});for(const s of e)this.p_.delete(s)}x_(t){let e=[];for(const s of Array.from(this.p_.keys()).sort((r,o)=>o-r)){if(!this.p_.get(s))continue;const r=e;e=[];const o=r.length;let u=0;const c=ni(this.p_.get(s)),d=c.length;let v=1/0,m=-1/0;for(let b=0;b<d;b++){const x=c[b],S=x.Ys;for(;u<o;){const L=r[u],O=L.Ys;if(!(O<S)){v=O;break}u++,e.push(L),m=O,v=1/0}v-S>=t&&S-m>=t&&(e.push(x),m=S)}for(;u<o;u++)e.push(r[u])}return e}}class Ee{constructor(t){this.y_=t}k_(){return this.y_===null?null:new on(Math.floor(this.y_.Ms()),Math.ceil(this.y_.ci()))}C_(){return this.y_}static T_(){return new Ee(null)}}var Gu,Hu,Yu,Ku,Ih;(function(l){l[l.Year=0]="Year",l[l.Month=1]="Month",l[l.DayOfMonth=2]="DayOfMonth",l[l.Time=3]="Time",l[l.TimeWithSeconds=4]="TimeWithSeconds"})(Gu||(Gu={}));class s1{constructor(t,e,s){this.po=0,this.P_=null,this.R_=[],this.Ta=null,this.Ca=null,this.D_=new n1,this.B_=new Map,this.O_=Ee.T_(),this.A_=!0,this.L_=new Ct,this.I_=new Ct,this.E_=new Ct,this.V_=null,this.z_=null,this.N_=[],this.un=e,this.Ba=s,this.F_=e.rightOffset,this.W_=e.barSpacing,this.Hi=t,this.j_()}F(){return this.un}H_(t){mi(this.Ba,t),this.U_(),this.j_()}kh(t,e){var s;mi(this.un,t),this.un.fixLeftEdge&&this.q_(),this.un.fixRightEdge&&this.Y_(),t.barSpacing!==void 0&&this.Hi.Kn(t.barSpacing),t.rightOffset!==void 0&&this.Hi.Gn(t.rightOffset),t.minBarSpacing!==void 0&&this.Hi.Kn((s=t.barSpacing)!==null&&s!==void 0?s:this.W_),this.U_(),this.j_(),this.E_.m()}vn(t){var e,s;return(s=(e=this.R_[t])===null||e===void 0?void 0:e._t)!==null&&s!==void 0?s:null}Ui(t){var e;return(e=this.R_[t])!==null&&e!==void 0?e:null}Nl(t,e){if(this.R_.length<1)return null;if(t.__>this.R_[this.R_.length-1]._t.__)return e?this.R_.length-1:null;const s=bn(this.R_,t.__,(r,o)=>r._t.__<o);return t.__<this.R_[s]._t.__?e?s:null:s}Ni(){return this.po===0||this.R_.length===0||this.P_===null}zs(){return this.X_(),this.O_.k_()}Z_(){return this.X_(),this.O_.C_()}K_(){const t=this.zs();if(t===null)return null;const e={from:t.Ms(),to:t.ci()};return this.G_(e)}G_(t){const e=Math.round(t.from),s=Math.round(t.to),r=A(this.J_()),o=A(this.Q_());return{from:A(this.vn(Math.max(r,e))),to:A(this.vn(Math.min(o,s)))}}tu(t){return{from:A(this.Nl(t.from,!0)),to:A(this.Nl(t.to,!0))}}$i(){return this.po}Do(t){if(!isFinite(t)||t<=0||this.po===t)return;const e=this.Z_(),s=this.po;if(this.po=t,this.A_=!0,this.un.lockVisibleTimeRangeOnResize&&s!==0){const r=this.W_*t/s;this.W_=r}if(this.un.fixLeftEdge&&e!==null&&e.Ms()<=0){const r=s-t;this.F_-=Math.round(r/this.W_)+1,this.A_=!0}this.iu(),this.nu()}Et(t){if(this.Ni()||!un(t))return 0;const e=this.su()+this.F_-t;return this.po-(e+.5)*this.W_-1}js(t,e){const s=this.su(),r=e===void 0?0:e.from,o=e===void 0?t.length:e.to;for(let u=r;u<o;u++){const c=t[u]._t,d=s+this.F_-c,v=this.po-(d+.5)*this.W_-1;t[u].st=v}}eu(t){return Math.ceil(this.ru(t))}Gn(t){this.A_=!0,this.F_=t,this.nu(),this.Hi.hu(),this.Hi.Ch()}Ks(){return this.W_}Kn(t){this.lu(t),this.nu(),this.Hi.hu(),this.Hi.Ch()}au(){return this.F_}Gl(){if(this.Ni())return null;if(this.z_!==null)return this.z_;const t=this.W_,e=5*(this.Hi.F().layout.fontSize+4),s=Math.round(e/t),r=A(this.zs()),o=Math.max(r.Ms(),r.Ms()-s),u=Math.max(r.ci(),r.ci()-s),c=this.D_.M_(t,e),d=this.J_()+s,v=this.Q_()-s,m=this.ou(),b=this.un.fixLeftEdge||m,x=this.un.fixRightEdge||m;let S=0;for(const L of c){if(!(o<=L.Ys&&L.Ys<=u))continue;let O;S<this.N_.length?(O=this.N_[S],O.ql=this.Et(L.Ys),O._a=this._u(L),O.g_=L.g_):(O={uu:!1,ql:this.Et(L.Ys),_a:this._u(L),g_:L.g_},this.N_.push(O)),this.W_>e/2&&!m?O.uu=!1:O.uu=b&&L.Ys<=d||x&&L.Ys>=v,S++}return this.N_.length=S,this.z_=this.N_,this.N_}cu(){this.A_=!0,this.Kn(this.un.barSpacing),this.Gn(this.un.rightOffset)}du(t){this.A_=!0,this.P_=t,this.nu(),this.q_()}fu(t,e){const s=this.ru(t),r=this.Ks(),o=r+e*(r/10);this.Kn(o),this.un.rightBarStaysOnScroll||this.Gn(this.au()+(s-this.ru(t)))}eo(t){this.Ta&&this.oo(),this.Ca===null&&this.V_===null&&(this.Ni()||(this.Ca=t,this.pu()))}ro(t){if(this.V_===null)return;const e=Vs(this.po-t,0,this.po),s=Vs(this.po-A(this.Ca),0,this.po);e!==0&&s!==0&&this.Kn(this.V_.Ks*e/s)}ho(){this.Ca!==null&&(this.Ca=null,this.vu())}lo(t){this.Ta===null&&this.V_===null&&(this.Ni()||(this.Ta=t,this.pu()))}ao(t){if(this.Ta===null)return;const e=(this.Ta-t)/this.Ks();this.F_=A(this.V_).au+e,this.A_=!0,this.nu()}oo(){this.Ta!==null&&(this.Ta=null,this.vu())}mu(){this.bu(this.un.rightOffset)}bu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.F_,r=performance.now();this.Hi.Yn({gu:o=>(o-r)/e>=1,wu:o=>{const u=(o-r)/e;return u>=1?t:s+(t-s)*u}})}gt(t,e){this.A_=!0,this.R_=t,this.D_.v_(t,e),this.nu()}Mu(){return this.L_}Su(){return this.I_}xu(){return this.E_}su(){return this.P_||0}yu(t){const e=t.f_();this.lu(this.po/e),this.F_=t.ci()-this.su(),this.nu(),this.A_=!0,this.Hi.hu(),this.Hi.Ch()}ku(){const t=this.J_(),e=this.Q_();t!==null&&e!==null&&this.yu(new on(t,e+this.un.rightOffset))}Cu(t){const e=new on(t.from,t.to);this.yu(e)}qi(t){return this.Ba.timeFormatter!==void 0?this.Ba.timeFormatter(t.w_):this.Tu.Qo(new Date(1e3*t._t.__))}ou(){const{handleScroll:t,handleScale:e}=this.Hi.F();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}J_(){return this.R_.length===0?null:0}Q_(){return this.R_.length===0?null:this.R_.length-1}Pu(t){return(this.po-1-t)/this.W_}ru(t){const e=this.Pu(t),s=this.su()+this.F_-e;return Math.round(1e6*s)/1e6}lu(t){const e=this.W_;this.W_=t,this.iu(),e!==this.W_&&(this.A_=!0,this.Ru())}X_(){if(!this.A_)return;if(this.A_=!1,this.Ni())return void this.Du(Ee.T_());const t=this.su(),e=this.po/this.W_,s=this.F_+t,r=new on(s-e+1,s);this.Du(new Ee(r))}iu(){const t=this.Bu();if(this.W_<t&&(this.W_=t,this.A_=!0),this.po!==0){const e=.5*this.po;this.W_>e&&(this.W_=e,this.A_=!0)}}Bu(){return this.un.fixLeftEdge&&this.un.fixRightEdge&&this.R_.length!==0?this.po/this.R_.length:this.un.minBarSpacing}nu(){const t=this.Ou();this.F_>t&&(this.F_=t,this.A_=!0);const e=this.Au();e!==null&&this.F_<e&&(this.F_=e,this.A_=!0)}Au(){const t=this.J_(),e=this.P_;return t===null||e===null?null:t-e-1+(this.un.fixLeftEdge?this.po/this.W_:Math.min(2,this.R_.length))}Ou(){return this.un.fixRightEdge?0:this.po/this.W_-Math.min(2,this.R_.length)}pu(){this.V_={Ks:this.Ks(),au:this.au()}}vu(){this.V_=null}_u(t){let e=this.B_.get(t.g_);return e===void 0&&(e=new e1(s=>this.Lu(s)),this.B_.set(t.g_,e)),e.Qo(t)}Lu(t){const e=function(s,r,o){switch(s){case 0:case 10:return r?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return r?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.g_,this.un.timeVisible,this.un.secondsVisible);if(this.un.tickMarkFormatter!==void 0){const s=this.un.tickMarkFormatter(t.w_,e,this.Ba.locale);if(s!==null)return s}return function(s,r,o){const u={};switch(r){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const c=s.o_===void 0?new Date(1e3*s.__):new Date(Date.UTC(s.o_.year,s.o_.month-1,s.o_.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,u)}(t._t,e,this.Ba.locale)}Du(t){const e=this.O_;this.O_=t,Wu(e.k_(),this.O_.k_())||this.L_.m(),Wu(e.C_(),this.O_.C_())||this.I_.m(),this.Ru()}Ru(){this.z_=null}U_(){this.Ru(),this.B_.clear()}j_(){const t=this.Ba.dateFormat;this.un.timeVisible?this.Tu=new i1({i_:t,n_:this.un.secondsVisible?"%h:%m:%s":"%h:%m",s_:"   ",e_:this.Ba.locale}):this.Tu=new Ba(t,this.Ba.locale)}q_(){if(!this.un.fixLeftEdge)return;const t=this.J_();if(t===null)return;const e=this.zs();if(e===null)return;const s=e.Ms()-t;if(s<0){const r=this.F_-s-1;this.Gn(r)}this.iu()}Y_(){this.nu(),this.iu()}}class r1 extends _n{constructor(t){super(),this.Iu=new Map,this.Vt=t}Z(t){}G(t){if(!this.Vt.Ct)return;const{context:e,mediaSize:s}=t;let r=0;for(const u of this.Vt.Eu){if(u.Gt.length===0)continue;e.font=u.P;const c=this.Vu(e,u.Gt);c>s.width?u.fu=s.width/c:u.fu=1,r+=u.zu*u.fu}let o=0;switch(this.Vt.Nu){case"top":o=0;break;case"center":o=Math.max((s.height-r)/2,0);break;case"bottom":o=Math.max(s.height-r,0)}e.fillStyle=this.Vt.D;for(const u of this.Vt.Eu){e.save();let c=0;switch(this.Vt.Fu){case"left":e.textAlign="left",c=u.zu/2;break;case"center":e.textAlign="center",c=s.width/2;break;case"right":e.textAlign="right",c=s.width-1-u.zu/2}e.translate(c,o),e.textBaseline="top",e.font=u.P,e.scale(u.fu,u.fu),e.fillText(u.Gt,0,u.Wu),e.restore(),o+=u.zu*u.fu}}Vu(t,e){const s=this.ju(t.font);let r=s.get(e);return r===void 0&&(r=t.measureText(e).width,s.set(e,r)),r}ju(t){let e=this.Iu.get(t);return e===void 0&&(e=new Map,this.Iu.set(t,e)),e}}class h1{constructor(t){this.vt=!0,this.Wt={Ct:!1,D:"",Eu:[],Nu:"center",Fu:"center"},this.jt=new r1(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.F(),e=this.Wt;e.Ct=t.visible,e.Ct&&(e.D=t.color,e.Fu=t.horzAlign,e.Nu=t.vertAlign,e.Eu=[{Gt:t.text,P:Le(t.fontSize,t.fontFamily,t.fontStyle),zu:1.2*t.fontSize,Wu:0,fu:0}])}}class l1 extends Rh{constructor(t,e){super(),this.un=e,this.bn=new h1(this)}Pn(){return[]}Tn(){return[this.bn]}F(){return this.un}Dn(){this.bn.gt()}}(function(l){l[l.OnTouchEnd=0]="OnTouchEnd",l[l.OnNextTap=1]="OnNextTap"})(Hu||(Hu={}));class o1{constructor(t,e){this.$u=[],this.Hu=[],this.po=0,this.Uu=null,this.qu=new Ct,this.Yu=new Ct,this.Xu=null,this.Zu=t,this.un=e,this.Ku=new Ym(this),this.bo=new s1(this,e.timeScale,this.un.localization),this.bt=new n_(this,e.crosshair),this.Gu=new H_(e.crosshair),this.Ju=new l1(this,e.watermark),this.Qu(),this.$u[0].Ro(2e3),this.tc=this.ic(0),this.nc=this.ic(1)}dl(){this.sc(xt.ss())}Ch(){this.sc(xt.ns())}Cl(){this.sc(new xt(1))}fl(t){const e=this.ec(t);this.sc(e)}rc(){return this.Uu}hc(t){const e=this.Uu;this.Uu=t,e!==null&&this.fl(e.lc),t!==null&&this.fl(t.lc)}F(){return this.un}kh(t){mi(this.un,t),this.$u.forEach(e=>e.ko(t)),t.timeScale!==void 0&&this.bo.kh(t.timeScale),t.localization!==void 0&&this.bo.H_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.qu.m(),this.tc=this.ic(0),this.nc=this.ic(1),this.dl()}ac(t,e){if(t==="left")return void this.kh({leftPriceScale:e});if(t==="right")return void this.kh({rightPriceScale:e});const s=this.oc(t);s!==null&&(s.Bt.kh(e),this.qu.m())}oc(t){for(const e of this.$u){const s=e.Co(t);if(s!==null)return{Ht:e,Bt:s}}return null}yt(){return this.bo}_c(){return this.$u}uc(){return this.Ju}cc(){return this.bt}dc(){return this.Yu}fc(t,e){t.$a(e),this.hu()}Do(t){this.po=t,this.bo.Do(this.po),this.$u.forEach(e=>e.Do(t)),this.hu()}Qu(t){const e=new J_(this.bo,this);t!==void 0?this.$u.splice(t,0,e):this.$u.push(e);const s=t===void 0?this.$u.length-1:t,r=xt.ss();return r.zn(s,{Nn:0,Fn:!0}),this.sc(r),e}zo(t,e,s){t.zo(e,s)}No(t,e,s){t.No(e,s),this.pl(),this.sc(this.vc(t,2))}Fo(t,e){t.Fo(e),this.sc(this.vc(t,2))}Wo(t,e,s){e.Va()||t.Wo(e,s)}jo(t,e,s){e.Va()||(t.jo(e,s),this.pl(),this.sc(this.vc(t,2)))}$o(t,e){e.Va()||(t.$o(e),this.sc(this.vc(t,2)))}Uo(t,e){t.Uo(e),this.sc(this.vc(t,2))}mc(t){this.bo.eo(t)}bc(t,e){const s=this.yt();if(s.Ni()||e===0)return;const r=s.$i();t=Math.max(1,Math.min(t,r)),s.fu(t,e),this.hu()}gc(t){this.wc(0),this.Mc(t),this.Sc()}xc(t){this.bo.ro(t),this.hu()}yc(){this.bo.ho(),this.Ch()}wc(t){this.bo.lo(t)}Mc(t){this.bo.ao(t),this.hu()}Sc(){this.bo.oo(),this.Ch()}wt(){return this.Hu}kc(t,e,s,r){this.bt.gn(t,e);let o=NaN,u=this.bo.eu(t);const c=this.bo.zs();c!==null&&(u=Math.min(Math.max(c.Ms(),u),c.ci()));const d=r.fn(),v=d.Tt();v!==null&&(o=d.pn(e,v)),o=this.Gu.Fl(o,u,r),this.bt.xn(u,o,r),this.Cl(),this.Yu.m(this.bt.xt(),{x:t,y:e},s)}Cc(){this.cc().kn(),this.Cl(),this.Yu.m(null,null,null)}pl(){const t=this.bt.Ht();if(t!==null){const e=this.bt.Mn(),s=this.bt.Sn();this.kc(e,s,null,t)}this.bt.Dn()}Tc(t,e,s){const r=this.bo.vn(0);e!==void 0&&s!==void 0&&this.bo.gt(e,s);const o=this.bo.vn(0),u=this.bo.su(),c=this.bo.zs();if(c!==null&&r!==null&&o!==null){const d=c.Ir(u),v=r.__>o.__,m=t!==null&&t>u&&!v,b=d&&this.bo.F().shiftVisibleRangeOnNewBar;if(m&&!b){const x=t-u;this.bo.Gn(this.bo.au()-x)}}this.bo.du(t)}bl(t){t!==null&&t.Yo()}Ke(t){const e=this.$u.find(s=>s.Ga().includes(t));return e===void 0?null:e}hu(){this.Ju.Dn(),this.$u.forEach(t=>t.Yo()),this.pl()}M(){this.$u.forEach(t=>t.M()),this.$u.length=0,this.un.localization.priceFormatter=void 0,this.un.localization.timeFormatter=void 0}Pc(){return this.Ku}tr(){return this.Ku.F()}To(){return this.qu}Rc(t,e){const s=this.$u[0],r=this.Dc(e,t,s);return this.Hu.push(r),this.Hu.length===1?this.dl():this.Ch(),r}Bc(t){const e=this.Ke(t),s=this.Hu.indexOf(t);ee(s!==-1,"Series not found"),this.Hu.splice(s,1),A(e).io(t),t.M&&t.M()}cl(t,e){const s=A(this.Ke(t));s.io(t);const r=this.oc(e);if(r===null){const o=t.Zi();s.Ja(t,e,o)}else{const o=r.Ht===s?t.Zi():void 0;r.Ht.Ja(t,e,o)}}ku(){const t=xt.ns();t.$n(),this.sc(t)}Oc(t){const e=xt.ns();e.qn(t),this.sc(e)}Zn(){const t=xt.ns();t.Zn(),this.sc(t)}Kn(t){const e=xt.ns();e.Kn(t),this.sc(e)}Gn(t){const e=xt.ns();e.Gn(t),this.sc(e)}Yn(t){const e=xt.ns();e.Yn(t),this.sc(e)}Hn(){const t=xt.ns();t.Hn(),this.sc(t)}Ac(){return this.un.rightPriceScale.visible?"right":"left"}Lc(){return this.nc}U(){return this.tc}Lt(t){const e=this.nc,s=this.tc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Xu===null||this.Xu.bs!==s||this.Xu.gs!==e)this.Xu={bs:s,gs:e,Ic:new Map};else{const o=this.Xu.Ic.get(t);if(o!==void 0)return o}const r=function(o,u,c){const[d,v,m,b]=Os(o),[x,S,L,O]=Os(u),z=[ei(d+c*(x-d)),ei(v+c*(S-v)),ei(m+c*(L-m)),_a(b+c*(O-b))];return`rgba(${z[0]}, ${z[1]}, ${z[2]}, ${z[3]})`}(s,e,t/100);return this.Xu.Ic.set(t,r),r}vc(t,e){const s=new xt(e);if(t!==null){const r=this.$u.indexOf(t);s.zn(r,{Nn:e})}return s}ec(t,e){return e===void 0&&(e=2),this.vc(this.Ke(t),e)}sc(t){this.Zu&&this.Zu(t),this.$u.forEach(e=>e.Zo().Th().gt())}Dc(t,e,s){const r=new Dh(this,t,e),o=t.priceScaleId!==void 0?t.priceScaleId:this.Ac();return s.Ja(r,o),Ws(o)||r.kh(t),r}ic(t){const e=this.un.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function Nh(l){return!vi(l)&&!Ah(l)}function Ra(l){return vi(l)}(function(l){l[l.Disabled=0]="Disabled",l[l.Continuous=1]="Continuous",l[l.OnDataUpdate=2]="OnDataUpdate"})(Yu||(Yu={})),function(l){l[l.LastBar=0]="LastBar",l[l.LastVisible=1]="LastVisible"}(Ku||(Ku={})),function(l){l.Solid="solid",l.VerticalGradient="gradient"}(Ih||(Ih={}));const Fe=typeof window<"u";function $u(){return!!Fe&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function _h(){return!!Fe&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Lh(l){return l+l%2}function bh(l,t){return l.Ec-t.Ec}function wh(l,t,e){const s=(l.Ec-t.Ec)/(l._t-t._t);return Math.sign(s)*Math.min(Math.abs(s),e)}class u1{constructor(t,e,s,r){this.Vc=null,this.zc=null,this.Nc=null,this.Fc=null,this.Wc=null,this.jc=0,this.$c=0,this.Hc=t,this.Uc=e,this.qc=s,this.es=r}Yc(t,e){if(this.Vc!==null){if(this.Vc._t===e)return void(this.Vc.Ec=t);if(Math.abs(this.Vc.Ec-t)<this.es)return}this.Fc=this.Nc,this.Nc=this.zc,this.zc=this.Vc,this.Vc={_t:e,Ec:t}}pr(t,e){if(this.Vc===null||this.zc===null||e-this.Vc._t>50)return;let s=0;const r=wh(this.Vc,this.zc,this.Uc),o=bh(this.Vc,this.zc),u=[r],c=[o];if(s+=o,this.Nc!==null){const v=wh(this.zc,this.Nc,this.Uc);if(Math.sign(v)===Math.sign(r)){const m=bh(this.zc,this.Nc);if(u.push(v),c.push(m),s+=m,this.Fc!==null){const b=wh(this.Nc,this.Fc,this.Uc);if(Math.sign(b)===Math.sign(r)){const x=bh(this.Nc,this.Fc);u.push(b),c.push(x),s+=x}}}}let d=0;for(let v=0;v<u.length;++v)d+=c[v]/s*u[v];Math.abs(d)<this.Hc||(this.Wc={Ec:t,_t:e},this.$c=d,this.jc=function(v,m){const b=Math.log(m);return Math.log(1*b/-v)/b}(Math.abs(d),this.qc))}wu(t){const e=A(this.Wc),s=t-e._t;return e.Ec+this.$c*(Math.pow(this.qc,s)-1)/Math.log(this.qc)}gu(t){return this.Wc===null||this.Xc(t)===this.jc}Xc(t){const e=t-A(this.Wc)._t;return Math.min(e,this.jc)}}function ie(l,t){const e=A(l.ownerDocument).createElement("canvas");l.appendChild(e);const s=Rm(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(r,o)=>({width:Math.max(r.width,o.width),height:Math.max(r.height,o.height)})});return s.resizeCanvasElement(t),s}function a1(l){Fe&&window.chrome!==void 0&&l.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class kh{constructor(t,e,s){this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.nd=null,this.sd=!1,this.ed=null,this.rd=null,this.hd=!1,this.ld=!1,this.ad=!1,this.od=null,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=0,this.bd=!1,this.gd=!1,this.wd=!1,this.Md=0,this.Sd=null,this.xd=!_h(),this.yd=r=>{this.kd(r)},this.Cd=r=>{if(this.Td(r)){const o=this.Pd(r);if(++this.Jc,this.Qc&&this.Jc>1){const{Rd:u}=this.Dd(gi(r),this.td);u<30&&!this.ad&&this.Bd(o,this.Ad.Od),this.Ld()}}else{const o=this.Pd(r);if(++this.Zc,this.Kc&&this.Zc>1){const{Rd:u}=this.Dd(gi(r),this.Gc);u<5&&!this.ld&&this.Id(o,this.Ad.Ed),this.Vd()}}},this.zd=t,this.Ad=e,this.un=s,this.Nd()}M(){this.od!==null&&(this.od(),this.od=null),this._d!==null&&(this._d(),this._d=null),this.dd!==null&&(this.dd(),this.dd=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.ud!==null&&(this.ud(),this.ud=null),this.Fd(),this.Vd()}Wd(t){this.dd&&this.dd();const e=this.jd.bind(this);if(this.dd=()=>{this.zd.removeEventListener("mousemove",e)},this.zd.addEventListener("mousemove",e),this.Td(t))return;const s=this.Pd(t);this.Id(s,this.Ad.$d),this.xd=!0}Vd(){this.Kc!==null&&clearTimeout(this.Kc),this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}Ld(){this.Qc!==null&&clearTimeout(this.Qc),this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}jd(t){if(this.wd||this.rd!==null||this.Td(t))return;const e=this.Pd(t);this.Id(e,this.Ad.Hd),this.xd=!0}Ud(t){const e=Mh(t.changedTouches,A(this.Sd));if(e===null||(this.Md=_s(t),this.vd!==null)||this.gd)return;this.bd=!0;const s=this.Dd(gi(e),A(this.rd)),{qd:r,Yd:o,Rd:u}=s;if(this.hd||!(u<5)){if(!this.hd){const c=.5*r,d=o>=c&&!this.un.Xd(),v=c>o&&!this.un.Zd();d||v||(this.gd=!0),this.hd=!0,this.ad=!0,this.Fd(),this.Ld()}if(!this.gd){const c=this.Pd(t,e);this.Bd(c,this.Ad.Kd),xe(t)}}}Gd(t){if(t.button!==0)return;const e=this.Dd(gi(t),A(this.ed)),{Rd:s}=e;if(s>=5&&(this.ld=!0,this.Vd()),this.ld){const r=this.Pd(t);this.Id(r,this.Ad.Jd)}}Dd(t,e){const s=Math.abs(e.st-t.st),r=Math.abs(e.et-t.et);return{qd:s,Yd:r,Rd:s+r}}Qd(t){let e=Mh(t.changedTouches,A(this.Sd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Sd=null,this.Md=_s(t),this.Fd(),this.rd=null,this.pd&&(this.pd(),this.pd=null);const s=this.Pd(t,e);if(this.Bd(s,this.Ad.tf),++this.Jc,this.Qc&&this.Jc>1){const{Rd:r}=this.Dd(gi(e),this.td);r<30&&!this.ad&&this.Bd(s,this.Ad.Od),this.Ld()}else this.ad||(this.Bd(s,this.Ad.if),this.Ad.if&&xe(t));this.Jc===0&&xe(t),t.touches.length===0&&this.sd&&(this.sd=!1,xe(t))}kd(t){if(t.button!==0)return;const e=this.Pd(t);if(this.ed=null,this.wd=!1,this.fd&&(this.fd(),this.fd=null),$u()&&this.zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(t))if(this.Id(e,this.Ad.nf),++this.Zc,this.Kc&&this.Zc>1){const{Rd:s}=this.Dd(gi(t),this.Gc);s<5&&!this.ld&&this.Id(e,this.Ad.Ed),this.Vd()}else this.ld||this.Id(e,this.Ad.sf)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}ef(t){if(this.Sd!==null)return;const e=t.changedTouches[0];this.Sd=e.identifier,this.Md=_s(t);const s=this.zd.ownerDocument.documentElement;this.ad=!1,this.hd=!1,this.gd=!1,this.rd=gi(e),this.pd&&(this.pd(),this.pd=null);{const o=this.Ud.bind(this),u=this.Qd.bind(this);this.pd=()=>{s.removeEventListener("touchmove",o),s.removeEventListener("touchend",u)},s.addEventListener("touchmove",o,{passive:!1}),s.addEventListener("touchend",u,{passive:!1}),this.Fd(),this.nd=setTimeout(this.rf.bind(this,t),240)}const r=this.Pd(t,e);this.Bd(r,this.Ad.hf),this.Qc||(this.Jc=0,this.Qc=setTimeout(this.Ld.bind(this),500),this.td=gi(e))}lf(t){if(t.button!==0)return;const e=this.zd.ownerDocument.documentElement;$u()&&e.addEventListener("mouseleave",this.yd),this.ld=!1,this.ed=gi(t),this.fd&&(this.fd(),this.fd=null);{const r=this.Gd.bind(this),o=this.kd.bind(this);this.fd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",o)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",o)}if(this.wd=!0,this.Td(t))return;const s=this.Pd(t);this.Id(s,this.Ad.af),this.Kc||(this.Zc=0,this.Kc=setTimeout(this.Vd.bind(this),500),this.Gc=gi(t))}Nd(){this.zd.addEventListener("mouseenter",this.Wd.bind(this)),this.zd.addEventListener("touchcancel",this.Fd.bind(this));{const t=this.zd.ownerDocument,e=s=>{this.Ad._f&&(s.composed&&this.zd.contains(s.composedPath()[0])||s.target&&this.zd.contains(s.target)||this.Ad._f())};this._d=()=>{t.removeEventListener("touchstart",e)},this.od=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}_h()&&(this.ud=()=>{this.zd.removeEventListener("dblclick",this.Cd)},this.zd.addEventListener("dblclick",this.Cd)),this.zd.addEventListener("mouseleave",this.uf.bind(this)),this.zd.addEventListener("touchstart",this.ef.bind(this),{passive:!0}),a1(this.zd),this.zd.addEventListener("mousedown",this.lf.bind(this)),this.cf(),this.zd.addEventListener("touchmove",()=>{},{passive:!1})}cf(){this.Ad.df===void 0&&this.Ad.ff===void 0&&this.Ad.pf===void 0||(this.zd.addEventListener("touchstart",t=>this.vf(t.touches),{passive:!0}),this.zd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.vd!==null&&this.Ad.ff!==void 0){const e=qu(t.touches[0],t.touches[1])/this.md;this.Ad.ff(this.vd,e),xe(t)}},{passive:!1}),this.zd.addEventListener("touchend",t=>{this.vf(t.touches)}))}vf(t){t.length===1&&(this.bd=!1),t.length!==2||this.bd||this.sd?this.mf():this.bf(t)}bf(t){const e=this.zd.getBoundingClientRect()||{left:0,top:0};this.vd={st:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,et:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.md=qu(t[0],t[1]),this.Ad.df!==void 0&&this.Ad.df(),this.Fd()}mf(){this.vd!==null&&(this.vd=null,this.Ad.pf!==void 0&&this.Ad.pf())}uf(t){if(this.dd&&this.dd(),this.Td(t)||!this.xd)return;const e=this.Pd(t);this.Id(e,this.Ad.gf),this.xd=!_h()}rf(t){const e=Mh(t.touches,A(this.Sd));if(e===null)return;const s=this.Pd(t,e);this.Bd(s,this.Ad.wf),this.ad=!0,this.sd=!0}Td(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:_s(t)<this.Md+500}Bd(t,e){e&&e.call(this.Ad,t)}Id(t,e){e&&e.call(this.Ad,t)}Pd(t,e){const s=e||t,r=this.zd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-r.left,localY:s.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Mf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Sf:t.type,xf:s.target,yf:t.view,kf:()=>{t.type!=="touchstart"&&xe(t)}}}}function qu(l,t){const e=l.clientX-t.clientX,s=l.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function xe(l){l.cancelable&&l.preventDefault()}function gi(l){return{st:l.pageX,et:l.pageY}}function _s(l){return l.timeStamp||performance.now()}function Mh(l,t){for(let e=0;e<l.length;++e)if(l[e].identifier===t)return l[e];return null}class Xu{constructor(t,e,s,r){this.Vi=null,this.Cf=null,this.Tf=!1,this.Pf=new an(200),this.Vr=null,this.Rf=0,this.Df=!1,this.Bf=()=>{this.Df||this.tn.Of().Ut().Ch()},this.Af=()=>{this.Df||this.tn.Of().Ut().Ch()},this.tn=t,this.un=e,this.Da=e.layout,this.Ku=s,this.Lf=r==="left",this.If=document.createElement("div"),this.If.style.height="100%",this.If.style.overflow="hidden",this.If.style.width="25px",this.If.style.left="0",this.If.style.position="relative",this.Ef=ie(this.If,lt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const o=this.Ef.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Vf=ie(this.If,lt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const u=this.Vf.canvasElement;u.style.position="absolute",u.style.zIndex="2",u.style.left="0",u.style.top="0";const c={af:this.zf.bind(this),hf:this.zf.bind(this),Jd:this.Nf.bind(this),Kd:this.Nf.bind(this),_f:this.Ff.bind(this),nf:this.Wf.bind(this),tf:this.Wf.bind(this),Ed:this.jf.bind(this),Od:this.jf.bind(this),$d:this.$f.bind(this),gf:this.Hf.bind(this)};this.Uf=new kh(this.Vf.canvasElement,c,{Xd:()=>!1,Zd:()=>!0})}M(){this.Uf.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Vi!==null&&this.Vi.so().v(this),this.Vi=null}qf(){return this.If}T(){return this.Da.fontSize}Yf(){const t=this.Ku.F();return this.Vr!==t.P&&(this.Pf.Fe(),this.Vr=t.P),t}Xf(){if(this.Vi===null)return 0;let t=0;const e=this.Yf(),s=A(this.Ef.canvasElement.getContext("2d"));s.save();const r=this.Vi.Gl();s.font=this.Zf(),r.length>0&&(t=Math.max(this.Pf.Si(s,r[0]._a),this.Pf.Si(s,r[r.length-1]._a)));const o=this.Kf();for(let d=o.length;d--;){const v=this.Pf.Si(s,o[d].Gt());v>t&&(t=v)}const u=this.Vi.Tt();if(u!==null&&this.Cf!==null){const d=this.Vi.pn(1,u),v=this.Vi.pn(this.Cf.height-2,u);t=Math.max(t,this.Pf.Si(s,this.Vi.Fi(Math.floor(Math.min(d,v))+.11111111111111,u)),this.Pf.Si(s,this.Vi.Fi(Math.ceil(Math.max(d,v))-.11111111111111,u)))}s.restore();const c=t||34;return Lh(Math.ceil(e.k+e.C+e.A+e.L+5+c))}Gf(t){this.Cf!==null&&Qi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`)}Jf(){return A(this.Cf).width}Gi(t){this.Vi!==t&&(this.Vi!==null&&this.Vi.so().v(this),this.Vi=t,t.so().l(this.Ma.bind(this),this))}Bt(){return this.Vi}Fe(){const t=this.tn.Qf();this.tn.Of().Ut().Uo(t,A(this.Bt()))}tp(t){if(this.Cf===null)return;if(t!==1){this.ip(),this.Ef.applySuggestedBitmapSize();const s=ji(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.np(r),this.ye(r)}),this.sp(s),this.ep(s))}this.Vf.applySuggestedBitmapSize();const e=ji(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.rp(e))}hp(){return this.Ef.bitmapSize}lp(t,e,s){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}gt(){var t;(t=this.Vi)===null||t===void 0||t.Gl()}zf(t){if(this.Vi===null||this.Vi.Ni()||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf();this.Tf=!0,e.zo(s,this.Vi,t.localY)}Nf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf(),r=this.Vi;e.No(s,r,t.localY)}Ff(){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Of().Ut(),e=this.tn.Qf(),s=this.Vi;this.Tf&&(this.Tf=!1,t.Fo(e,s))}Wf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf();this.Tf=!1,e.Fo(s,this.Vi)}jf(t){this.un.handleScale.axisDoubleClickReset.price&&this.Fe()}$f(t){this.Vi!==null&&(!this.tn.Of().Ut().F().handleScale.axisPressedMouseMove.price||this.Vi.th()||this.Vi.za()||this.ap(1))}Hf(t){this.ap(0)}Kf(){const t=[],e=this.Vi===null?void 0:this.Vi;return(s=>{for(let r=0;r<s.length;++r){const o=s[r].Pn(this.tn.Qf(),e);for(let u=0;u<o.length;u++)t.push(o[u])}})(this.tn.Qf().Ga()),t}np({context:t,bitmapSize:e}){const{width:s,height:r}=e,o=this.tn.Qf().Ut(),u=o.U(),c=o.Lc();u===c?Us(t,0,0,s,r,u):ba(t,0,0,s,r,u,c)}ye({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.Cf===null||this.Vi===null||!this.Vi.F().borderVisible)return;t.fillStyle=this.Vi.F().borderColor;const r=Math.max(1,Math.floor(this.Yf().k*s));let o;o=this.Lf?e.width-r:0,t.fillRect(o,0,r,e.height)}sp(t){if(this.Cf===null||this.Vi===null)return;const e=this.Vi.Gl(),s=this.Vi.F(),r=this.Yf(),o=this.Lf?this.Cf.width-r.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:u,horizontalPixelRatio:c,verticalPixelRatio:d})=>{u.fillStyle=s.borderColor;const v=Math.max(1,Math.floor(d)),m=Math.floor(.5*d),b=Math.round(r.C*c);u.beginPath();for(const x of e)u.rect(Math.floor(o*c),Math.round(x.ql*d)-m,b,v);u.fill()}),t.useMediaCoordinateSpace(({context:u})=>{var c;u.font=this.Zf(),u.fillStyle=(c=s.textColor)!==null&&c!==void 0?c:this.Da.textColor,u.textAlign=this.Lf?"right":"left",u.textBaseline="middle";const d=this.Lf?Math.round(o-r.A):Math.round(o+r.C+r.A),v=e.map(m=>this.Pf.Mi(u,m._a));for(let m=e.length;m--;){const b=e[m];u.fillText(b._a,d,b.ql+v[m])}})}ip(){if(this.Cf===null||this.Vi===null)return;let t=this.Cf.height/2;const e=[],s=this.Vi.Ga().slice(),r=this.tn.Qf(),o=this.Yf();this.Vi===r.Je()&&this.tn.Qf().Ga().forEach(d=>{r.Ge(d)&&s.push(d)});const u=this.Vi.Wl()[0],c=this.Vi;s.forEach(d=>{const v=d.Pn(r,c);v.forEach(m=>{m.Oi(null),m.Ai()&&e.push(m)}),u===d&&v.length>0&&(t=v[0].yi())}),e.forEach(d=>d.Oi(d.yi())),this.Vi.F().alignLabels&&this.op(e,o,t)}op(t,e,s){if(this.Cf===null)return;const r=t.filter(u=>u.yi()<=s),o=t.filter(u=>u.yi()>s);r.sort((u,c)=>c.yi()-u.yi()),r.length&&o.length&&o.push(r[0]),o.sort((u,c)=>u.yi()-c.yi());for(const u of t){const c=Math.floor(u.It(e)/2),d=u.yi();d>-c&&d<c&&u.Oi(c),d>this.Cf.height-c&&d<this.Cf.height+c&&u.Oi(this.Cf.height-c)}for(let u=1;u<r.length;u++){const c=r[u],d=r[u-1],v=d.It(e,!1),m=c.yi(),b=d.Bi();m>b-v&&c.Oi(b-v)}for(let u=1;u<o.length;u++){const c=o[u],d=o[u-1],v=d.It(e,!0),m=c.yi(),b=d.Bi();m<b+v&&c.Oi(b+v)}}ep(t){if(this.Cf===null)return;const e=this.Kf(),s=this.Yf(),r=this.Lf?"right":"left";e.forEach(o=>{o.Li()&&o.Mt(A(this.Vi)).X(t,s,this.Pf,r)})}rp(t){if(this.Cf===null||this.Vi===null)return;const e=this.tn.Of().Ut(),s=[],r=this.tn.Qf(),o=e.cc().Pn(r,this.Vi);o.length&&s.push(o);const u=this.Yf(),c=this.Lf?"right":"left";s.forEach(d=>{d.forEach(v=>{v.Mt(A(this.Vi)).X(t,u,this.Pf,c)})})}ap(t){this.If.style.cursor=t===1?"ns-resize":"default"}Ma(){const t=this.Xf();this.Rf<t&&this.tn.Of().Ut().dl(),this.Rf=t}Zf(){return Le(this.Da.fontSize,this.Da.fontFamily)}}function Zu(l,t,e,s){l.K&&l.K(t,e,s)}function xh(l,t,e,s){l.X(t,e,s)}function bs(l,t){return l.Tn(t)}function c1(l,t){return l.Ji(t)}function f1(l,t){return l.kl!==void 0?l.kl(t):[]}class Uh{constructor(t,e){this.Cf=lt({width:0,height:0}),this._p=null,this.up=null,this.cp=null,this.dp=!1,this.fp=new Ct,this.pp=0,this.vp=!1,this.mp=null,this.bp=!1,this.gp=null,this.wp=null,this.Df=!1,this.Bf=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Af=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Sp=t,this.Mp=e,this.Mp.Xo().l(this.xp.bind(this),this,!0),this.yp=document.createElement("td"),this.yp.style.padding="0",this.yp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.Cp=document.createElement("td"),this.Cp.style.padding="0",this.yp.appendChild(s),this.Ef=ie(s,lt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const r=this.Ef.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vf=ie(s,lt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const o=this.Vf.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Tp=document.createElement("tr"),this.Tp.appendChild(this.kp),this.Tp.appendChild(this.yp),this.Tp.appendChild(this.Cp),this.Pp(),this.Uf=new kh(this.Vf.canvasElement,this,{Xd:()=>this.mp===null&&!this.Sp.F().handleScroll.vertTouchDrag,Zd:()=>this.mp===null&&!this.Sp.F().handleScroll.horzTouchDrag})}M(){this._p!==null&&this._p.M(),this.up!==null&&this.up.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Mp!==null&&this.Mp.Xo().v(this),this.Uf.M()}Qf(){return A(this.Mp)}Rp(t){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=t,this.Mp!==null&&this.Mp.Xo().l(Uh.prototype.xp.bind(this),this,!0),this.Pp()}Of(){return this.Sp}qf(){return this.Tp}Pp(){if(this.Mp!==null&&(this.Dp(),this.Hi().wt().length!==0)){if(this._p!==null){const t=this.Mp.Eo();this._p.Gi(A(t))}if(this.up!==null){const t=this.Mp.Vo();this.up.Gi(A(t))}}}Bp(){this._p!==null&&this._p.gt(),this.up!==null&&this.up.gt()}Po(){return this.Mp!==null?this.Mp.Po():0}Ro(t){this.Mp&&this.Mp.Ro(t)}$d(t){if(!this.Mp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t)}af(t){this.Op(),this.Lp(),this.Ap(t.localX,t.localY,t)}Hd(t){if(!this.Mp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t);const r=this.ir(e,s);this.Hi().hc(r&&{lc:r.lc,Ip:r.Ip})}sf(t){this.Mp!==null&&(this.Op(),this.Ep(t))}Jd(t){this.Op(),this.Vp(t),this.Ap(t.localX,t.localY,t)}nf(t){this.Mp!==null&&(this.Op(),this.vp=!1,this.zp(t))}if(t){this.Mp!==null&&this.Ep(t)}wf(t){if(this.vp=!0,this.mp===null){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}gf(t){this.Mp!==null&&(this.Op(),this.Mp.Ut().hc(null),this.Fp())}Wp(){return this.fp}df(){this.pp=1,this.Hi().Hn()}ff(t,e){if(!this.Sp.F().handleScale.pinch)return;const s=5*(e-this.pp);this.pp=e,this.Hi().bc(t.st,s)}hf(t){if(this.vp=!1,this.bp=this.mp!==null,this.Lp(),this.mp!==null){const e=this.Hi().cc();this.gp={x:e.Xt(),y:e.Zt()},this.mp={x:t.localX,y:t.localY}}}Kd(t){if(this.Mp===null)return;const e=t.localX,s=t.localY;if(this.mp===null)this.Vp(t);else{this.bp=!1;const r=A(this.gp),o=r.x+(e-this.mp.x),u=r.y+(s-this.mp.y);this.Ap(o,u,t)}}tf(t){this.Of().F().trackingMode.exitMode===0&&(this.bp=!0),this.jp(),this.zp(t)}ir(t,e){const s=this.Mp;if(s===null)return null;const r=s.Ga();for(const o of r){const u=this.$p(o.Tn(s),t,e);if(u!==null)return{lc:o,yf:u.yf,Ip:u.Ip}}return null}Hp(t,e){A(e==="left"?this._p:this.up).Gf(lt({width:t,height:this.Cf.height}))}Up(){return this.Cf}Gf(t){Qi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.yp.style.width=t.width+"px",this.yp.style.height=t.height+"px")}qp(){const t=A(this.Mp);t.Io(t.Eo()),t.Io(t.Vo());for(const e of t.Wl())if(t.Ge(e)){const s=e.Bt();s!==null&&t.Io(s),e.Dn()}}hp(){return this.Ef.bitmapSize}lp(t,e,s){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}tp(t){if(t===0||this.Mp===null)return;if(t>1&&this.qp(),this._p!==null&&this._p.tp(t),this.up!==null&&this.up.tp(t),t!==1){this.Ef.applySuggestedBitmapSize();const s=ji(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.np(r)}),this.Mp&&(this.Yp(s),this.Xp(s),this.Zp(s,bs),this.Zp(s,c1)))}this.Vf.applySuggestedBitmapSize();const e=ji(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.Zp(e,f1),this.Kp(e))}Gp(){return this._p}Jp(){return this.up}xp(){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=null}Ep(t){const e=t.localX,s=t.localY;this.fp.g()&&this.fp.m(this.Hi().yt().eu(e),{x:e,y:s},t)}np({context:t,bitmapSize:e}){const{width:s,height:r}=e,o=this.Hi(),u=o.U(),c=o.Lc();u===c?Us(t,0,0,s,r,c):ba(t,0,0,s,r,u,c)}Yp(t){const e=A(this.Mp).Zo().Th().Mt();e!==null&&e.X(t,!1)}Xp(t){const e=this.Hi().uc();this.Qp(t,bs,Zu,e),this.Qp(t,bs,xh,e)}Kp(t){this.Qp(t,bs,xh,this.Hi().cc())}Zp(t,e){const s=A(this.Mp).Ga();for(const r of s)this.Qp(t,e,Zu,r);for(const r of s)this.Qp(t,e,xh,r)}Qp(t,e,s,r){const o=A(this.Mp),u=e(r,o),c=o.Ut().rc(),d=c!==null&&c.lc===r,v=c!==null&&d&&c.Ip!==void 0?c.Ip.sr:void 0;for(const m of u){const b=m.Mt();b!==null&&s(b,t,d,v)}}$p(t,e,s){for(const r of t){const o=r.Mt();if(o!==null&&o.ir){const u=o.ir(e,s);if(u!==null)return{yf:r,Ip:u}}}return null}Dp(){if(this.Mp===null)return;const t=this.Sp,e=this.Mp.Eo().F().visible,s=this.Mp.Vo().F().visible;e||this._p===null||(this.kp.removeChild(this._p.qf()),this._p.M(),this._p=null),s||this.up===null||(this.Cp.removeChild(this.up.qf()),this.up.M(),this.up=null);const r=t.Ut().Pc();e&&this._p===null&&(this._p=new Xu(this,t.F(),r,"left"),this.kp.appendChild(this._p.qf())),s&&this.up===null&&(this.up=new Xu(this,t.F(),r,"right"),this.Cp.appendChild(this.up.qf()))}tv(t){return t.Mf&&this.vp||this.mp!==null}iv(t){return Math.max(0,Math.min(t,this.Cf.width-1))}nv(t){return Math.max(0,Math.min(t,this.Cf.height-1))}Ap(t,e,s){this.Hi().kc(this.iv(t),this.nv(e),s,A(this.Mp))}Fp(){this.Hi().Cc()}jp(){this.bp&&(this.mp=null,this.Fp())}Np(t,e,s){this.mp=t,this.bp=!1,this.Ap(e.x,e.y,s);const r=this.Hi().cc();this.gp={x:r.Xt(),y:r.Zt()}}Hi(){return this.Sp.Ut()}zp(t){if(!this.dp)return;const e=this.Hi(),s=this.Qf();if(e.$o(s,s.fn()),this.cp=null,this.dp=!1,e.Sc(),this.wp!==null){const r=performance.now(),o=e.yt();this.wp.pr(o.au(),r),this.wp.gu(r)||e.Yn(this.wp)}}Op(){this.mp=null}Lp(){if(this.Mp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)A(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Mp.fn().Ni()&&this.Hi().yt().Ni()}}Vp(t){if(this.Mp===null)return;const e=this.Hi(),s=e.yt();if(s.Ni())return;const r=this.Sp.F(),o=r.handleScroll,u=r.kineticScroll;if((!o.pressedMouseMove||t.Mf)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!t.Mf))return;const c=this.Mp.fn(),d=performance.now();if(this.cp!==null||this.tv(t)||(this.cp={x:t.clientX,y:t.clientY,__:d,sv:t.localX,ev:t.localY}),this.cp!==null&&!this.dp&&(this.cp.x!==t.clientX||this.cp.y!==t.clientY)){if(t.Mf&&u.touch||!t.Mf&&u.mouse){const v=s.Ks();this.wp=new u1(.2/v,7/v,.997,15/v),this.wp.Yc(s.au(),this.cp.__)}else this.wp=null;c.Ni()||e.Wo(this.Mp,c,t.localY),e.wc(t.localX),this.dp=!0}this.dp&&(c.Ni()||e.jo(this.Mp,c,t.localY),e.Mc(t.localX),this.wp!==null&&this.wp.Yc(s.au(),d))}}class Ju{constructor(t,e,s,r,o){this.vt=!0,this.Cf=lt({width:0,height:0}),this.Bf=()=>this.tp(3),this.Lf=t==="left",this.Ku=s.Pc,this.un=e,this.rv=r,this.hv=o,this.If=document.createElement("div"),this.If.style.width="25px",this.If.style.height="100%",this.If.style.overflow="hidden",this.Ef=ie(this.If,lt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf)}M(){this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.If}Up(){return this.Cf}Gf(t){Qi(this.Cf,t)||(this.Cf=t,this.Ef.resizeCanvasElement(t),this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this.vt=!0)}tp(t){if(t<3&&!this.vt||this.Cf.width===0||this.Cf.height===0)return;this.vt=!1,this.Ef.applySuggestedBitmapSize();const e=ji(this.Ef);e!==null&&e.useBitmapCoordinateSpace(s=>{this.np(s),this.ye(s)})}hp(){return this.Ef.bitmapSize}lp(t,e,s){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}ye({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(!this.rv())return;t.fillStyle=this.un.timeScale.borderColor;const o=Math.floor(this.Ku.F().k*s),u=Math.floor(this.Ku.F().k*r),c=this.Lf?e.width-o:0;t.fillRect(c,0,o,u)}np({context:t,bitmapSize:e}){Us(t,0,0,e.width,e.height,this.hv())}}function d1(l,t){return l.g_>t.g_?l:t}class p1{constructor(t){this.lv=null,this.av=null,this.S=null,this.ov=!1,this.Cf=lt({width:0,height:0}),this._v=new Ct,this.Pf=new an(5),this.Df=!1,this.Bf=()=>{this.Df||this.Sp.Ut().Ch()},this.Af=()=>{this.Df||this.Sp.Ut().Ch()},this.Sp=t,this.un=t.F().layout,this.uv=document.createElement("tr"),this.cv=document.createElement("td"),this.cv.style.padding="0",this.dv=document.createElement("td"),this.dv.style.padding="0",this.If=document.createElement("td"),this.If.style.height="25px",this.If.style.padding="0",this.fv=document.createElement("div"),this.fv.style.width="100%",this.fv.style.height="100%",this.fv.style.position="relative",this.fv.style.overflow="hidden",this.If.appendChild(this.fv),this.Ef=ie(this.fv,lt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const e=this.Ef.canvasElement;e.style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.Vf=ie(this.fv,lt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const s=this.Vf.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.uv.appendChild(this.cv),this.uv.appendChild(this.If),this.uv.appendChild(this.dv),this.pv(),this.Sp.Ut().To().l(this.pv.bind(this),this),this.Uf=new kh(this.Vf.canvasElement,this,{Xd:()=>!0,Zd:()=>!1})}M(){this.Uf.M(),this.lv!==null&&this.lv.M(),this.av!==null&&this.av.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.uv}vv(){return this.lv}mv(){return this.av}af(t){if(this.ov)return;this.ov=!0;const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.mc(t.localX)}hf(t){this.af(t)}_f(){const t=this.Sp.Ut();!t.yt().Ni()&&this.ov&&(this.ov=!1,this.Sp.F().handleScale.axisPressedMouseMove.time&&t.yc())}Jd(t){const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.xc(t.localX)}Kd(t){this.Jd(t)}nf(){this.ov=!1;const t=this.Sp.Ut();t.yt().Ni()&&!this.Sp.F().handleScale.axisPressedMouseMove.time||t.yc()}tf(){this.nf()}Ed(){this.Sp.F().handleScale.axisDoubleClickReset.time&&this.Sp.Ut().Zn()}Od(){this.Ed()}$d(){this.Sp.Ut().F().handleScale.axisPressedMouseMove.time&&this.ap(1)}gf(){this.ap(0)}Up(){return this.Cf}bv(){return this._v}gv(t,e,s){Qi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this._v.m(t)),this.lv!==null&&this.lv.Gf(lt({width:e,height:t.height})),this.av!==null&&this.av.Gf(lt({width:s,height:t.height}))}wv(){const t=this.Mv();return Math.ceil(t.k+t.C+t.T+t.I+t.O+t.Sv)}gt(){this.Sp.Ut().yt().Gl()}hp(){return this.Ef.bitmapSize}lp(t,e,s){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}tp(t){if(t===0)return;if(t!==1){this.Ef.applySuggestedBitmapSize();const s=ji(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.np(r),this.ye(r)}),this.sp(s)),this.lv!==null&&this.lv.tp(t),this.av!==null&&this.av.tp(t)}this.Vf.applySuggestedBitmapSize();const e=ji(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.xv([this.Sp.Ut().cc()],e))}np({context:t,bitmapSize:e}){Us(t,0,0,e.width,e.height,this.Sp.Ut().Lc())}ye({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Sp.F().timeScale.borderVisible){t.fillStyle=this.yv();const r=Math.max(1,Math.floor(this.Mv().k*s));t.fillRect(0,0,e.width,r)}}sp(t){const e=this.Sp.Ut().yt(),s=e.Gl();if(!s||s.length===0)return;let r=s.reduce(d1,s[0]).g_;r>30&&r<50&&(r=30);const o=this.Mv(),u=e.F();u.borderVisible&&u.ticksVisible&&t.useBitmapCoordinateSpace(({context:c,horizontalPixelRatio:d,verticalPixelRatio:v})=>{c.strokeStyle=this.yv(),c.fillStyle=this.yv();const m=Math.max(1,Math.floor(d)),b=Math.floor(.5*d);c.beginPath();const x=Math.round(o.C*v);for(let S=s.length;S--;){const L=Math.round(s[S].ql*d);c.rect(L-b,0,m,x)}c.fill()}),t.useMediaCoordinateSpace(({context:c})=>{const d=o.k+o.C+o.I+o.T/2;c.textAlign="center",c.textBaseline="middle",c.fillStyle=this.$(),c.font=this.Zf();for(const v of s)if(v.g_<r){const m=v.uu?this.kv(c,v.ql,v._a):v.ql;c.fillText(v._a,m,d)}c.font=this.Cv();for(const v of s)if(v.g_>=r){const m=v.uu?this.kv(c,v.ql,v._a):v.ql;c.fillText(v._a,m,d)}})}kv(t,e,s){const r=this.Pf.Si(t,s),o=r/2,u=Math.floor(e-o)+.5;return u<0?e+=Math.abs(0-u):u+r>this.Cf.width&&(e-=Math.abs(this.Cf.width-(u+r))),e}xv(t,e){const s=this.Mv();for(const r of t)for(const o of r.Qi())o.Mt().X(e,s)}yv(){return this.Sp.F().timeScale.borderColor}$(){return this.un.textColor}W(){return this.un.fontSize}Zf(){return Le(this.W(),this.un.fontFamily)}Cv(){return Le(this.W(),this.un.fontFamily,"bold")}Mv(){this.S===null&&(this.S={k:1,V:NaN,I:NaN,O:NaN,ji:NaN,C:5,T:NaN,P:"",Wi:new an,Sv:0});const t=this.S,e=this.Zf();if(t.P!==e){const s=this.W();t.T=s,t.P=e,t.I=3*s/12,t.O=3*s/12,t.ji=9*s/12,t.V=0,t.Sv=4*s/12,t.Wi.Fe()}return this.S}ap(t){this.If.style.cursor=t===1?"ew-resize":"default"}pv(){const t=this.Sp.Ut(),e=t.F();e.leftPriceScale.visible||this.lv===null||(this.cv.removeChild(this.lv.qf()),this.lv.M(),this.lv=null),e.rightPriceScale.visible||this.av===null||(this.dv.removeChild(this.av.qf()),this.av.M(),this.av=null);const s={Pc:this.Sp.Ut().Pc()},r=()=>e.leftPriceScale.borderVisible&&t.yt().F().borderVisible,o=()=>t.Lc();e.leftPriceScale.visible&&this.lv===null&&(this.lv=new Ju("left",e,s,r,o),this.cv.appendChild(this.lv.qf())),e.rightPriceScale.visible&&this.av===null&&(this.av=new Ju("right",e,s,r,o),this.dv.appendChild(this.av.qf()))}}const g1=!!Fe&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(l=>l.brand.includes("Chromium"))&&!!Fe&&(!((yh=navigator==null?void 0:navigator.userAgentData)===null||yh===void 0)&&yh.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var yh;class v1{constructor(t,e){var s;this.Tv=[],this.Pv=0,this.da=0,this.po=0,this.Rv=0,this.Dv=0,this.Bv=null,this.Ov=!1,this.fp=new Ct,this.Yu=new Ct,this.Av=null,this.Lv=t,this.un=e,this.uv=document.createElement("div"),this.uv.classList.add("tv-lightweight-charts"),this.uv.style.overflow="hidden",this.uv.style.width="100%",this.uv.style.height="100%",(s=this.uv).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Iv=document.createElement("table"),this.Iv.setAttribute("cellspacing","0"),this.uv.appendChild(this.Iv),this.Ev=this.Vv.bind(this),Sh(this.un)&&this.zv(!0),this.Hi=new o1(this.Zu.bind(this),this.un),this.Ut().dc().l(this.Nv.bind(this),this),this.Fv=new p1(this),this.Iv.appendChild(this.Fv.qf());const r=e.autoSize&&this.Wv();let o=this.un.width,u=this.un.height;if(r||o===0||u===0){const c=t.getBoundingClientRect();o=o||c.width,u=u||c.height}r||this.jv(o,u),this.$v(),t.appendChild(this.uv),this.Hv(),this.Hi.yt().xu().l(this.Hi.dl.bind(this.Hi),this),this.Hi.To().l(this.Hi.dl.bind(this.Hi),this)}Ut(){return this.Hi}F(){return this.un}Uv(){return this.Tv}qv(){return this.Fv}M(){this.zv(!1),this.Pv!==0&&window.cancelAnimationFrame(this.Pv),this.Hi.dc().v(this),this.Hi.yt().xu().v(this),this.Hi.To().v(this),this.Hi.M();for(const t of this.Tv)this.Iv.removeChild(t.qf()),t.Wp().v(this),t.M();this.Tv=[],A(this.Fv).M(),this.uv.parentElement!==null&&this.uv.parentElement.removeChild(this.uv),this.Yu.M(),this.fp.M(),this.Yv()}jv(t,e,s=!1){if(this.da===e&&this.po===t)return;const r=function(c){const d=Math.floor(c.width),v=Math.floor(c.height);return lt({width:d-d%2,height:v-v%2})}(lt({width:t,height:e}));this.da=r.height,this.po=r.width;const o=this.da+"px",u=this.po+"px";A(this.uv).style.height=o,A(this.uv).style.width=u,this.Iv.style.height=o,this.Iv.style.width=u,s?this.Xv(xt.ss(),performance.now()):this.Hi.dl()}tp(t){t===void 0&&(t=xt.ss());for(let e=0;e<this.Tv.length;e++)this.Tv[e].tp(t.jn(e).Nn);this.un.timeScale.visible&&this.Fv.tp(t.Wn())}kh(t){const e=Sh(this.un);this.Hi.kh(t);const s=Sh(this.un);s!==e&&this.zv(s),this.Hv(),this.Zv(t)}Wp(){return this.fp}dc(){return this.Yu}Kv(){this.Bv!==null&&(this.Xv(this.Bv,performance.now()),this.Bv=null);const t=this.Gv(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=A(e.getContext("2d"));return this.Gv(s),e}Jv(t){return t==="left"&&!this.Qv()||t==="right"&&!this.tm()||this.Tv.length===0?0:A(t==="left"?this.Tv[0].Gp():this.Tv[0].Jp()).Jf()}Zv(t){(t.autoSize!==void 0||!this.Av||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Av&&this.Wv(),t.autoSize===!1&&this.Av!==null&&this.Yv(),t.autoSize||t.width===void 0&&t.height===void 0||this.jv(t.width||this.po,t.height||this.da))}Gv(t){let e=0,s=0;const r=this.Tv[0],o=(c,d)=>{let v=0;for(let m=0;m<this.Tv.length;m++){const b=this.Tv[m],x=A(c==="left"?b.Gp():b.Jp()),S=x.hp();t!==null&&x.lp(t,d,v),v+=S.height}};this.Qv()&&(o("left",0),e+=A(r.Gp()).hp().width);for(let c=0;c<this.Tv.length;c++){const d=this.Tv[c],v=d.hp();t!==null&&d.lp(t,e,s),s+=v.height}e+=r.hp().width,this.tm()&&(o("right",e),e+=A(r.Jp()).hp().width);const u=(c,d,v)=>{A(c==="left"?this.Fv.vv():this.Fv.mv()).lp(A(t),d,v)};if(this.un.timeScale.visible){const c=this.Fv.hp();if(t!==null){let d=0;this.Qv()&&(u("left",d,s),d=A(r.Gp()).hp().width),this.Fv.lp(t,d,s),d+=c.width,this.tm()&&u("right",d,s)}s+=c.height}return lt({width:e,height:s})}im(){let t=0,e=0,s=0;for(const L of this.Tv)this.Qv()&&(e=Math.max(e,A(L.Gp()).Xf())),this.tm()&&(s=Math.max(s,A(L.Jp()).Xf())),t+=L.Po();e=Lh(e),s=Lh(s);const r=this.po,o=this.da,u=Math.max(r-e-s,0),c=this.un.timeScale.visible;let d=c?this.Fv.wv():0;var v;d=(v=d)+v%2;const m=0+d,b=o<m?0:o-m,x=b/t;let S=0;for(let L=0;L<this.Tv.length;++L){const O=this.Tv[L];O.Rp(this.Hi._c()[L]);let z=0,R=0;R=L===this.Tv.length-1?b-S:Math.round(O.Po()*x),z=Math.max(R,2),S+=z,O.Gf(lt({width:u,height:z})),this.Qv()&&O.Hp(e,"left"),this.tm()&&O.Hp(s,"right"),O.Qf()&&this.Hi.fc(O.Qf(),z)}this.Fv.gv(lt({width:c?u:0,height:d}),c?e:0,c?s:0),this.Hi.Do(u),this.Rv!==e&&(this.Rv=e),this.Dv!==s&&(this.Dv=s)}zv(t){t?this.uv.addEventListener("wheel",this.Ev,{passive:!1}):this.uv.removeEventListener("wheel",this.Ev)}nm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return g1?1/window.devicePixelRatio:1}Vv(t){if(!(t.deltaX!==0&&this.un.handleScroll.mouseWheel||t.deltaY!==0&&this.un.handleScale.mouseWheel))return;const e=this.nm(t),s=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.un.handleScale.mouseWheel){const o=Math.sign(r)*Math.min(1,Math.abs(r)),u=t.clientX-this.uv.getBoundingClientRect().left;this.Ut().bc(u,o)}s!==0&&this.un.handleScroll.mouseWheel&&this.Ut().gc(-80*s)}Xv(t,e){var s;const r=t.Wn();r===3&&this.sm(),r!==3&&r!==2||(this.rm(t),this.hm(t,e),this.Fv.gt(),this.Tv.forEach(o=>{o.Bp()}),((s=this.Bv)===null||s===void 0?void 0:s.Wn())===3&&(this.Bv.Qn(t),this.sm(),this.rm(this.Bv),this.hm(this.Bv,e),t=this.Bv,this.Bv=null)),this.tp(t)}hm(t,e){for(const s of t.Jn())this.ts(s,e)}rm(t){const e=this.Hi._c();for(let s=0;s<e.length;s++)t.jn(s).Fn&&e[s].qo()}ts(t,e){const s=this.Hi.yt();switch(t.Un){case 0:s.ku();break;case 1:s.Cu(t.Ot);break;case 2:s.Kn(t.Ot);break;case 3:s.Gn(t.Ot);break;case 4:s.cu();break;case 5:t.Ot.gu(e)||s.Gn(t.Ot.wu(e))}}Zu(t){this.Bv!==null?this.Bv.Qn(t):this.Bv=t,this.Ov||(this.Ov=!0,this.Pv=window.requestAnimationFrame(e=>{if(this.Ov=!1,this.Pv=0,this.Bv!==null){const s=this.Bv;this.Bv=null,this.Xv(s,e);for(const r of s.Jn())if(r.Un===5&&!r.Ot.gu(e)){this.Ut().Yn(r.Ot);break}}}))}sm(){this.$v()}$v(){const t=this.Hi._c(),e=t.length,s=this.Tv.length;for(let r=e;r<s;r++){const o=ni(this.Tv.pop());this.Iv.removeChild(o.qf()),o.Wp().v(this),o.M()}for(let r=s;r<e;r++){const o=new Uh(this,t[r]);o.Wp().l(this.lm.bind(this),this),this.Tv.push(o),this.Iv.insertBefore(o.qf(),this.Fv.qf())}for(let r=0;r<e;r++){const o=t[r],u=this.Tv[r];u.Qf()!==o?u.Rp(o):u.Pp()}this.Hv(),this.im()}am(t,e,s){var r;const o=new Map;t!==null&&this.Hi.wt().forEach(m=>{const b=m.Ln().jh(t);b!==null&&o.set(m,b)});let u;if(t!==null){const m=(r=this.Hi.yt().Ui(t))===null||r===void 0?void 0:r.w_;m!==void 0&&(u=m)}const c=this.Ut().rc(),d=c!==null&&c.lc instanceof Dh?c.lc:void 0,v=c!==null&&c.Ip!==void 0?c.Ip.nr:void 0;return{_t:u,Ys:t??void 0,om:e??void 0,_m:d,um:o,dm:v,fm:s??void 0}}lm(t,e,s){this.fp.m(()=>this.am(t,e,s))}Nv(t,e,s){this.Yu.m(()=>this.am(t,e,s))}Hv(){const t=this.un.timeScale.visible?"":"none";this.Fv.qf().style.display=t}Qv(){return this.Tv[0].Qf().Eo().F().visible}tm(){return this.Tv[0].Qf().Vo().F().visible}Wv(){return"ResizeObserver"in window&&(this.Av=new ResizeObserver(t=>{const e=t.find(s=>s.target===this.Lv);e&&this.jv(e.contentRect.width,e.contentRect.height)}),this.Av.observe(this.Lv,{box:"border-box"}),!0)}Yv(){this.Av!==null&&this.Av.disconnect()}}function Sh(l){return!!(l.handleScroll.mouseWheel||l.handleScale.mouseWheel)}function Qu(l,t,e,s){const r=e.value,o={Ys:t,_t:l,Ot:[r,r,r,r],w_:s};return e.color!==void 0&&(o.D=e.color),o}function ws(l){return l.Ot!==void 0}function ye(l){return(t,e,s,r)=>{return(o=s).open===void 0&&o.value===void 0?{_t:t,Ys:e,w_:r}:l(t,e,s,r);var o}}const m1={Candlestick:ye(function(l,t,e,s){const r={Ys:t,_t:l,Ot:[e.open,e.high,e.low,e.close],w_:s};return e.color!==void 0&&(r.D=e.color),e.borderColor!==void 0&&(r.At=e.borderColor),e.wickColor!==void 0&&(r.Dh=e.wickColor),r}),Bar:ye(function(l,t,e,s){const r={Ys:t,_t:l,Ot:[e.open,e.high,e.low,e.close],w_:s};return e.color!==void 0&&(r.D=e.color),r}),Area:ye(function(l,t,e,s){const r=e.value,o={Ys:t,_t:l,Ot:[r,r,r,r],w_:s};return e.lineColor!==void 0&&(o.ot=e.lineColor),e.topColor!==void 0&&(o.bs=e.topColor),e.bottomColor!==void 0&&(o.gs=e.bottomColor),o}),Baseline:ye(function(l,t,e,s){const r=e.value,o={Ys:t,_t:l,Ot:[r,r,r,r],w_:s};return e.topLineColor!==void 0&&(o.be=e.topLineColor),e.bottomLineColor!==void 0&&(o.ge=e.bottomLineColor),e.topFillColor1!==void 0&&(o.de=e.topFillColor1),e.topFillColor2!==void 0&&(o.fe=e.topFillColor2),e.bottomFillColor1!==void 0&&(o.pe=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(o.ve=e.bottomFillColor2),o}),Histogram:ye(Qu),Line:ye(Qu)};function ju(l){return m1[l]}function Ms(l){return 60*l*60*1e3}function Ch(l){return 60*l*1e3}const xs=[{pm:(ta=1,1e3*ta),g_:10},{pm:Ch(1),g_:20},{pm:Ch(5),g_:21},{pm:Ch(30),g_:22},{pm:Ms(1),g_:30},{pm:Ms(3),g_:31},{pm:Ms(6),g_:32},{pm:Ms(12),g_:33}];var ta;function ia(l,t){if(l.getUTCFullYear()!==t.getUTCFullYear())return 70;if(l.getUTCMonth()!==t.getUTCMonth())return 60;if(l.getUTCDate()!==t.getUTCDate())return 50;for(let e=xs.length-1;e>=0;--e)if(Math.floor(t.getTime()/xs[e].pm)!==Math.floor(l.getTime()/xs[e].pm))return xs[e].g_;return 0}function ea(l,t=0){if(l.length===0)return;let e=t===0?null:l[t-1]._t.__,s=e!==null?new Date(1e3*e):null,r=0;for(let o=t;o<l.length;++o){const u=l[o],c=new Date(1e3*u._t.__);s!==null&&(u.b_=ia(c,s)),r+=u._t.__-(e||u._t.__),e=u._t.__,s=c}if(t===0&&l.length>1){const o=Math.ceil(r/(l.length-1)),u=new Date(1e3*(l[0]._t.__-o));l[0].b_=ia(new Date(1e3*l[0]._t.__),u)}}function Fh(l){if(!Nh(l))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(l.year,l.month-1,l.day,0,0,0,0));return{__:Math.round(t.getTime()/1e3),o_:l}}function Pa(l){if(!Ra(l))throw new Error("time must be of type isUTCTimestamp");return{__:l}}function na(l){return l.length===0?null:Nh(l[0].time)?Fh:Pa}function ys(l){return Ra(l)?Pa(l):Nh(l)?Fh(l):Fh(Da(l))}function Da(l){const t=new Date(l);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${l}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function sa(l){Ah(l.time)&&(l.time=Da(l.time))}function ra(l){return{Ys:0,vm:new Map,yl:l}}function ha(l){if(l!==void 0&&l.length!==0)return{bm:l[0]._t.__,gm:l[l.length-1]._t.__}}function la(l){let t;return l.forEach(e=>{t===void 0&&(t=e.w_)}),ni(t)}function oa(l){l.w_===void 0&&(l.w_=l.time)}class _1{constructor(){this.wm=new Map,this.Mm=new Map,this.Sm=new Map,this.xm=[]}M(){this.wm.clear(),this.Mm.clear(),this.Sm.clear(),this.xm=[]}ym(t,e){let s=this.wm.size!==0,r=!1;const o=this.Mm.get(t);if(o!==void 0)if(this.Mm.size===1)s=!1,r=!0,this.wm.clear();else for(const d of this.xm)d.pointData.vm.delete(t)&&(r=!0);let u=[];if(e.length!==0){const d=e;d.forEach(b=>oa(b)),function(b){b.forEach(sa)}(e);const v=A(na(e)),m=ju(t.Lh());u=d.map(b=>{const x=v(b.time);let S=this.wm.get(x.__);S===void 0&&(S=ra(x),this.wm.set(x.__,S),r=!0);const L=m(x,S.Ys,b,b.w_);return S.vm.set(t,L),L})}s&&this.km(),this.Cm(t,u);let c=-1;if(r){const d=[];this.wm.forEach(v=>{d.push({b_:0,_t:v.yl,pointData:v,w_:la(v.vm)})}),d.sort((v,m)=>v._t.__-m._t.__),c=this.Tm(d)}return this.Pm(t,c,function(d,v){const m=ha(d),b=ha(v);if(m!==void 0&&b!==void 0)return{ml:m.gm>=b.gm&&m.bm>=b.bm}}(this.Mm.get(t),o))}Bc(t){return this.ym(t,[])}Rm(t,e){const s=e;oa(s),sa(e);const r=A(na([e]))(e.time),o=this.Sm.get(t);if(o!==void 0&&r.__<o.__)throw new Error(`Cannot update oldest data, last time=${o.__}, new time=${r.__}`);let u=this.wm.get(r.__);const c=u===void 0;u===void 0&&(u=ra(r),this.wm.set(r.__,u));const d=ju(t.Lh())(r,u.Ys,e,s.w_);u.vm.set(t,d),this.Dm(t,d);const v={ml:ws(d)};if(!c)return this.Pm(t,-1,v);const m={b_:0,_t:u.yl,pointData:u,w_:la(u.vm)},b=bn(this.xm,m._t.__,(x,S)=>x._t.__<S);this.xm.splice(b,0,m);for(let x=b;x<this.xm.length;++x)Th(this.xm[x].pointData,x);return ea(this.xm,b),this.Pm(t,b,v)}Dm(t,e){let s=this.Mm.get(t);s===void 0&&(s=[],this.Mm.set(t,s));const r=s.length!==0?s[s.length-1]:null;r===null||e._t.__>r._t.__?ws(e)&&s.push(e):ws(e)?s[s.length-1]=e:s.splice(-1,1),this.Sm.set(t,e._t)}Cm(t,e){e.length!==0?(this.Mm.set(t,e.filter(ws)),this.Sm.set(t,e[e.length-1]._t)):(this.Mm.delete(t),this.Sm.delete(t))}km(){for(const t of this.xm)t.pointData.vm.size===0&&this.wm.delete(t._t.__)}Tm(t){let e=-1;for(let s=0;s<this.xm.length&&s<t.length;++s){const r=this.xm[s],o=t[s];if(r._t.__!==o._t.__){e=s;break}o.b_=r.b_,Th(o.pointData,s)}if(e===-1&&this.xm.length!==t.length&&(e=Math.min(this.xm.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)Th(t[s].pointData,s);return ea(t,e),this.xm=t,e}Bm(){if(this.Mm.size===0)return null;let t=0;return this.Mm.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Ys))}),t}Pm(t,e,s){const r={Om:new Map,yt:{su:this.Bm()}};if(e!==-1)this.Mm.forEach((o,u)=>{r.Om.set(u,{ar:o,Am:u===t?s:void 0})}),this.Mm.has(t)||r.Om.set(t,{ar:[],Am:s}),r.yt.Lm=this.xm,r.yt.Im=e;else{const o=this.Mm.get(t);r.Om.set(t,{ar:o||[],Am:s})}return r}}function Th(l,t){l.Ys=t,l.vm.forEach(e=>{e.Ys=t})}function Oh(l){return{value:l.Ot[3],time:l.w_}}function ua(l){const t=Oh(l);return l.D!==void 0&&(t.color=l.D),t}function aa(l){return{open:l.Ot[0],high:l.Ot[1],low:l.Ot[2],close:l.Ot[3],time:l.w_}}const b1={Area:function(l){const t=Oh(l);return l.ot!==void 0&&(t.lineColor=l.ot),l.bs!==void 0&&(t.topColor=l.bs),l.gs!==void 0&&(t.bottomColor=l.gs),t},Line:ua,Baseline:function(l){const t=Oh(l);return l.be!==void 0&&(t.topLineColor=l.be),l.ge!==void 0&&(t.bottomLineColor=l.ge),l.de!==void 0&&(t.topFillColor1=l.de),l.fe!==void 0&&(t.topFillColor2=l.fe),l.pe!==void 0&&(t.bottomFillColor1=l.pe),l.ve!==void 0&&(t.bottomFillColor2=l.ve),t},Histogram:ua,Bar:function(l){const t=aa(l);return l.D!==void 0&&(t.color=l.D),t},Candlestick:function(l){const t=aa(l),{D:e,At:s,Dh:r}=l;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),r!==void 0&&(t.wickColor=r),t}};function Na(l){return b1[l]}const Eh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2}},w1={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Vh,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},ca={width:0,height:0,autoSize:!1,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Vh},crosshair:{vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Object.assign({},Eh),leftPriceScale:Object.assign(Object.assign({},Eh),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Eh),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!1},watermark:w1,localization:{locale:Fe?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},M1={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},x1={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},y1={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},S1={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},C1={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},T1={color:"#26a69a",base:0},E1={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};class I1{constructor(t,e){this.Em=t,this.Vm=e}applyOptions(t){this.Em.Ut().ac(this.Vm,t)}options(){return this.Vi().F()}width(){return Ws(this.Vm)?this.Em.Jv(this.Vm):0}Vi(){return A(this.Em.Ut().oc(this.Vm)).Bt}}const L1={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""};class F1{constructor(t){this.wh=t}applyOptions(t){this.wh.kh(t)}options(){return this.wh.F()}zm(){return this.wh}}class O1{constructor(t,e,s){this.Ts=t,this.Nm=e,this.Fm=s}priceFormatter(){return this.Ts.Bl()}priceToCoordinate(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().Dt(t,e.Ot)}coordinateToPrice(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().pn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new Ee(new on(t.from,t.to)).k_(),s=this.Ts.Ln();if(s.Ni())return null;const r=s.jh(e.Ms(),1),o=s.jh(e.ci(),-1),u=A(s.Nh()),c=A(s.An());if(r!==null&&o!==null&&r.Ys>o.Ys)return{barsBefore:t.from-u,barsAfter:c-t.to};const d={barsBefore:r===null||r.Ys===u?t.from-u:r.Ys-u,barsAfter:o===null||o.Ys===c?c-t.to:c-o.Ys};return r!==null&&o!==null&&(d.from=r._t.o_||r._t.__,d.to=o._t.o_||o._t.__),d}setData(t){this.Ts.Lh(),this.Nm.Wm(this.Ts,t)}update(t){this.Ts.Lh(),this.Nm.jm(this.Ts,t)}dataByIndex(t,e){const s=this.Ts.Ln().jh(t,e);return s===null?null:Na(this.seriesType())(s)}setMarkers(t){const e=t.map(s=>Object.assign(Object.assign({},s),{originalTime:s.time,time:ys(s.time)}));this.Ts.gl(e)}markers(){return this.Ts.wl().map(t=>{const{originalTime:e,time:s}=t,r=function(o,u){var c={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&u.indexOf(d)<0&&(c[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(d=Object.getOwnPropertySymbols(o);v<d.length;v++)u.indexOf(d[v])<0&&Object.prototype.propertyIsEnumerable.call(o,d[v])&&(c[d[v]]=o[d[v]])}return c}(t,["originalTime","time"]);return Object.assign({time:e},r)})}applyOptions(t){this.Ts.kh(t)}options(){return Ii(this.Ts.F())}priceScale(){return this.Fm.priceScale(this.Ts.Bt().Vl())}createPriceLine(t){const e=mi(Ii(L1),t),s=this.Ts.Ml(e);return new F1(s)}removePriceLine(t){this.Ts.Sl(t.zm())}seriesType(){return this.Ts.Lh()}}class A1{constructor(t,e){this.$m=new Ct,this.I_=new Ct,this._v=new Ct,this.Hi=t,this.bo=t.yt(),this.Fv=e,this.bo.Mu().l(this.Hm.bind(this)),this.bo.Su().l(this.Um.bind(this)),this.Fv.bv().l(this.qm.bind(this))}M(){this.bo.Mu().v(this),this.bo.Su().v(this),this.Fv.bv().v(this),this.$m.M(),this.I_.M(),this._v.M()}scrollPosition(){return this.bo.au()}scrollToPosition(t,e){e?this.bo.bu(t,1e3):this.Hi.Gn(t)}scrollToRealTime(){this.bo.mu()}getVisibleRange(){var t,e;const s=this.bo.K_();return s===null?null:{from:(t=s.from.o_)!==null&&t!==void 0?t:s.from.__,to:(e=s.to.o_)!==null&&e!==void 0?e:s.to.__}}setVisibleRange(t){const e={from:ys(t.from),to:ys(t.to)},s=this.bo.tu(e);this.Hi.Oc(s)}getVisibleLogicalRange(){const t=this.bo.Z_();return t===null?null:{from:t.Ms(),to:t.ci()}}setVisibleLogicalRange(t){ee(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.Oc(t)}resetTimeScale(){this.Hi.Zn()}fitContent(){this.Hi.ku()}logicalToCoordinate(t){const e=this.Hi.yt();return e.Ni()?null:e.Et(t)}coordinateToLogical(t){return this.bo.Ni()?null:this.bo.eu(t)}timeToCoordinate(t){const e=ys(t),s=this.bo.Nl(e,!1);return s===null?null:this.bo.Et(s)}coordinateToTime(t){var e;const s=this.Hi.yt(),r=s.eu(t),o=s.vn(r);return o===null?null:(e=o.o_)!==null&&e!==void 0?e:o.__}width(){return this.Fv.Up().width}height(){return this.Fv.Up().height}subscribeVisibleTimeRangeChange(t){this.$m.l(t)}unsubscribeVisibleTimeRangeChange(t){this.$m.p(t)}subscribeVisibleLogicalRangeChange(t){this.I_.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.I_.p(t)}subscribeSizeChange(t){this._v.l(t)}unsubscribeSizeChange(t){this._v.p(t)}applyOptions(t){this.bo.kh(t)}options(){return Ii(this.bo.F())}Hm(){this.$m.g()&&this.$m.m(this.getVisibleRange())}Um(){this.I_.g()&&this.I_.m(this.getVisibleLogicalRange())}qm(t){this._v.m(t.width,t.height)}}function V1(l){if(l===void 0||l.type==="custom")return;const t=l;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const r=Math.round(e);if(Math.abs(r-e)<1e-8)return s;e*=10}return s}(t.minMove))}function fa(l){return function(t){if(ps(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:r}=t.handleScale;ps(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),ps(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;ps(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(l),l}class z1{constructor(t,e){this.Ym=new _1,this.Xm=new Map,this.Zm=new Map,this.Km=new Ct,this.Gm=new Ct;const s=e===void 0?Ii(ca):mi(Ii(ca),fa(e));this.Em=new v1(t,s),this.Em.Wp().l(o=>{this.Km.g()&&this.Km.m(this.Jm(o()))},this),this.Em.dc().l(o=>{this.Gm.g()&&this.Gm.m(this.Jm(o()))},this);const r=this.Em.Ut();this.Qm=new A1(r,this.Em.qv())}remove(){this.Em.Wp().v(this),this.Em.dc().v(this),this.Qm.M(),this.Em.M(),this.Xm.clear(),this.Zm.clear(),this.Km.M(),this.Gm.M(),this.Ym.M()}resize(t,e,s){this.Em.jv(t,e,s)}addAreaSeries(t){return this.tb("Area",S1,t)}addBaselineSeries(t){return this.tb("Baseline",C1,t)}addBarSeries(t){return this.tb("Bar",x1,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.tb("Candlestick",M1,t)}addHistogramSeries(t){return this.tb("Histogram",T1,t)}addLineSeries(t){return this.tb("Line",y1,t)}removeSeries(t){const e=ni(this.Xm.get(t)),s=this.Ym.Bc(e);this.Em.Ut().Bc(e),this.ib(s),this.Xm.delete(t),this.Zm.delete(e)}Wm(t,e){this.ib(this.Ym.ym(t,e))}jm(t,e){this.ib(this.Ym.Rm(t,e))}subscribeClick(t){this.Km.l(t)}unsubscribeClick(t){this.Km.p(t)}subscribeCrosshairMove(t){this.Gm.l(t)}unsubscribeCrosshairMove(t){this.Gm.p(t)}priceScale(t){return new I1(this.Em,t)}timeScale(){return this.Qm}applyOptions(t){this.Em.kh(fa(t))}options(){return this.Em.F()}takeScreenshot(){return this.Em.Kv()}tb(t,e,s={}){V1(s.priceFormat);const r=mi(Ii(E1),Ii(e),s),o=this.Em.Ut().Rc(t,r),u=new O1(o,this,this);return this.Xm.set(u,o),this.Zm.set(o,u),u}ib(t){const e=this.Em.Ut();e.Tc(t.yt.su,t.yt.Lm,t.yt.Im),t.Om.forEach((s,r)=>r.tt(s.ar,s.Am)),e.hu()}nb(t){return ni(this.Zm.get(t))}Jm(t){const e=new Map;t.um.forEach((r,o)=>{const u=Na(o.Lh())(r);ee(function(c){return c.open!==void 0||c.value!==void 0}(u)),e.set(this.nb(o),u)});const s=t._m===void 0?void 0:this.nb(t._m);return{time:t._t,logical:t.Ys,point:t.om,hoveredSeries:s,hoveredObjectId:t.dm,seriesData:e,sourceEvent:t.fm}}}function B1(l,t){let e;if(Ah(l)){const s=document.getElementById(l);ee(s!==null,`Cannot find element in DOM with id=${l}`),e=s}else e=l;return new z1(e,t)}function R1(l){let t,e;return{c(){t=yt("div"),this.h()},l(s){t=St(s,"DIV",{class:!0}),It(t).forEach(nt),this.h()},h(){it(t,"class","overflow-visible w-full h-full min-h-[200px] sm:min-h-[250px]"),Lm(()=>l[7].call(t))},m(s,r){si(s,t,r),e=Fm(t,l[7].bind(t)),l[8](t)},p:sn,i:sn,o:sn,d(s){s&&nt(t),e(),l[8](null)}}}function P1(l,t,e){let s,r,o;const u={layout:{textColor:"rgb(107 114 128)",background:{type:Ih.Solid,color:"transparent"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{borderVisible:!1},rightPriceScale:{borderVisible:!1},watermark:{visible:!0,fontSize:24,horzAlign:"center",vertAlign:"center",color:"#FF3B7680",text:"bcked.com"}};let{formatter:c=P=>Am(P)}=t,{priceFormat:d={type:"custom",formatter:c,minMove:.01}}=t;const v={lineColor:"#FF3B76",topColor:"#FF3B7688",bottomColor:"#FF3B7600",priceFormat:d};let{data:m}=t,b,x,S;function L(P){P&&(x=B1(P,u),S=x.addAreaSeries(v),O(s))}function O(P){var D;S==null||S.setData(P),(D=x==null?void 0:x.timeScale())==null||D.fitContent()}function z(P,D){var G;x==null||x.resize(P,D),(G=x==null?void 0:x.timeScale())==null||G.fitContent()}function R(){r=this.offsetWidth,o=this.offsetHeight,e(2,r),e(1,o)}function et(P){Om[P?"unshift":"push"](()=>{b=P,e(0,b)})}return l.$$set=P=>{"formatter"in P&&e(3,c=P.formatter),"priceFormat"in P&&e(4,d=P.priceFormat),"data"in P&&e(5,m=P.data)},l.$$.update=()=>{l.$$.dirty&32&&e(6,s=m.map(({date:P,value:D})=>({time:new Date(P).getTime()/1e3,value:D}))),l.$$.dirty&1&&L(b),l.$$.dirty&64&&O(s),l.$$.dirty&6&&z(r,o)},e(2,r=0),e(1,o=0),[b,o,r,c,d,m,s,R,et]}class ib extends dn{constructor(t){super(),pn(this,t,P1,R1,gn,{formatter:3,priceFormat:4,data:5})}}function D1(l){let t,e,s,r,o,u;return{c(){t=yt("div"),e=yt("h2"),s=Ss(l[0]),r=Ce(),o=yt("p"),u=Ss(l[1]),this.h()},l(c){t=St(c,"DIV",{class:!0});var d=It(t);e=St(d,"H2",{class:!0});var v=It(e);s=Cs(v,l[0]),v.forEach(nt),r=Te(d),o=St(d,"P",{class:!0});var m=It(o);u=Cs(m,l[1]),m.forEach(nt),d.forEach(nt),this.h()},h(){it(e,"class","text-3xl tracking-tight font-bold text-gray-900"),it(o,"class","mt-4 text-lg text-gray-500"),it(t,"class","max-w-3xl mx-auto text-center mt-5 sm:mt-6 px-4 sm:px-6")},m(c,d){si(c,t,d),bt(t,e),bt(e,s),bt(t,r),bt(t,o),bt(o,u)},p(c,[d]){d&1&&Ts(s,c[0]),d&2&&Ts(u,c[1])},i:sn,o:sn,d(c){c&&nt(t)}}}function N1(l,t,e){let{title:s}=t,{subtitle:r}=t;return l.$$set=o=>{"title"in o&&e(0,s=o.title),"subtitle"in o&&e(1,r=o.subtitle)},[s,r]}class eb extends dn{constructor(t){super(),pn(this,t,N1,D1,gn,{title:0,subtitle:1})}}function k1(l){let t,e,s;const r=l[2].default,o=Rs(r,l,l[1],null);return{c(){t=yt("div"),o&&o.c(),this.h()},l(u){t=St(u,"DIV",{class:!0});var c=It(t);o&&o.l(c),c.forEach(nt),this.h()},h(){it(t,"class",e=Mu(`flex flex-col bg-gray-50 shadow sm:rounded-lg overflow-hidden ${l[0]}`))},m(u,c){si(u,t,c),o&&o.m(t,null),s=!0},p(u,[c]){o&&o.p&&(!s||c&2)&&Ps(o,r,u,u[1],s?Ns(r,u[1],c,null):Ds(u[1]),null),(!s||c&1&&e!==(e=Mu(`flex flex-col bg-gray-50 shadow sm:rounded-lg overflow-hidden ${u[0]}`)))&&it(t,"class",e)},i(u){s||(Lt(o,u),s=!0)},o(u){kt(o,u),s=!1},d(u){u&&nt(t),o&&o.d(u)}}}function U1(l,t,e){let{$$slots:s={},$$scope:r}=t,{class:o=""}=t;return l.$$set=u=>{"class"in u&&e(0,o=u.class),"$$scope"in u&&e(1,r=u.$$scope)},[o,r,s]}let nb=class extends dn{constructor(t){super(),pn(this,t,U1,k1,gn,{class:0})}};function W1(l){let t,e,s,r=l[0]&&da(l);const o=l[3].default,u=Rs(o,l,l[2],null);return{c(){t=yt("div"),r&&r.c(),e=Ce(),u&&u.c(),this.h()},l(c){t=St(c,"DIV",{class:!0});var d=It(t);r&&r.l(d),e=Te(d),u&&u.l(d),d.forEach(nt),this.h()},h(){it(t,"class","mt-2 flex items-center text-sm text-gray-600")},m(c,d){si(c,t,d),r&&r.m(t,null),bt(t,e),u&&u.m(t,null),s=!0},p(c,d){c[0]?r?(r.p(c,d),d&1&&Lt(r,1)):(r=da(c),r.c(),Lt(r,1),r.m(t,e)):r&&(vn(),kt(r,1,1,()=>{r=null}),mn()),u&&u.p&&(!s||d&4)&&Ps(u,o,c,c[2],s?Ns(o,c[2],d,null):Ds(c[2]),null)},i(c){s||(Lt(r),Lt(u,c),s=!0)},o(c){kt(r),kt(u,c),s=!1},d(c){c&&nt(t),r&&r.d(),u&&u.d(c)}}}function G1(l){let t,e,s,r=l[0]&&pa(l);const o=l[3].default,u=Rs(o,l,l[2],null);return{c(){t=yt("a"),r&&r.c(),e=Ce(),u&&u.c(),this.h()},l(c){t=St(c,"A",{class:!0,href:!0});var d=It(t);r&&r.l(d),e=Te(d),u&&u.l(d),d.forEach(nt),this.h()},h(){it(t,"class","mt-2 flex items-center text-sm text-gray-600 hover:text-gray-900"),it(t,"href",l[1])},m(c,d){si(c,t,d),r&&r.m(t,null),bt(t,e),u&&u.m(t,null),s=!0},p(c,d){c[0]?r?(r.p(c,d),d&1&&Lt(r,1)):(r=pa(c),r.c(),Lt(r,1),r.m(t,e)):r&&(vn(),kt(r,1,1,()=>{r=null}),mn()),u&&u.p&&(!s||d&4)&&Ps(u,o,c,c[2],s?Ns(o,c[2],d,null):Ds(c[2]),null),(!s||d&2)&&it(t,"href",c[1])},i(c){s||(Lt(r),Lt(u,c),s=!0)},o(c){kt(r),kt(u,c),s=!1},d(c){c&&nt(t),r&&r.d(),u&&u.d(c)}}}function da(l){let t,e,s;var r=l[0];function o(u){return{props:{class:"mr-1.5 h-5 w-5 flex-shrink-0","aria-hidden":"true"}}}return r&&(t=Es(r,o())),{c(){t&&Is(t.$$.fragment),e=Ie()},l(u){t&&va(t.$$.fragment,u),e=Ie()},m(u,c){t&&Ls(t,u,c),si(u,e,c),s=!0},p(u,c){if(c&1&&r!==(r=u[0])){if(t){vn();const d=t;kt(d.$$.fragment,1,0,()=>{Fs(d,1)}),mn()}r?(t=Es(r,o()),Is(t.$$.fragment),Lt(t.$$.fragment,1),Ls(t,e.parentNode,e)):t=null}},i(u){s||(t&&Lt(t.$$.fragment,u),s=!0)},o(u){t&&kt(t.$$.fragment,u),s=!1},d(u){u&&nt(e),t&&Fs(t,u)}}}function pa(l){let t,e,s;var r=l[0];function o(u){return{props:{class:"mr-1.5 h-5 w-5 flex-shrink-0","aria-hidden":"true"}}}return r&&(t=Es(r,o())),{c(){t&&Is(t.$$.fragment),e=Ie()},l(u){t&&va(t.$$.fragment,u),e=Ie()},m(u,c){t&&Ls(t,u,c),si(u,e,c),s=!0},p(u,c){if(c&1&&r!==(r=u[0])){if(t){vn();const d=t;kt(d.$$.fragment,1,0,()=>{Fs(d,1)}),mn()}r?(t=Es(r,o()),Is(t.$$.fragment),Lt(t.$$.fragment,1),Ls(t,e.parentNode,e)):t=null}},i(u){s||(t&&Lt(t.$$.fragment,u),s=!0)},o(u){t&&kt(t.$$.fragment,u),s=!1},d(u){u&&nt(e),t&&Fs(t,u)}}}function H1(l){let t,e,s,r;const o=[G1,W1],u=[];function c(d,v){return d[1]?0:1}return t=c(l),e=u[t]=o[t](l),{c(){e.c(),s=Ie()},l(d){e.l(d),s=Ie()},m(d,v){u[t].m(d,v),si(d,s,v),r=!0},p(d,[v]){let m=t;t=c(d),t===m?u[t].p(d,v):(vn(),kt(u[m],1,1,()=>{u[m]=null}),mn(),e=u[t],e?e.p(d,v):(e=u[t]=o[t](d),e.c()),Lt(e,1),e.m(s.parentNode,s))},i(d){r||(Lt(e),r=!0)},o(d){kt(e),r=!1},d(d){u[t].d(d),d&&nt(s)}}}function Y1(l,t,e){let{$$slots:s={},$$scope:r}=t,{icon:o=void 0}=t,{href:u=void 0}=t;return l.$$set=c=>{"icon"in c&&e(0,o=c.icon),"href"in c&&e(1,u=c.href),"$$scope"in c&&e(2,r=c.$$scope)},[o,u,r,s]}class rb extends dn{constructor(t){super(),pn(this,t,Y1,H1,gn,{icon:0,href:1})}}function K1(l){let t,e,s;return{c(){t=yt("img"),this.h()},l(r){t=St(r,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){it(t,"alt",e="Icon of "+l[0]),it(t,"class","h-14 w-14 flex-shrink-1 object-contain pointer-events-none"),wu(t.src,s=l[2])||it(t,"src",s)},m(r,o){si(r,t,o)},p(r,o){o&1&&e!==(e="Icon of "+r[0])&&it(t,"alt",e),o&4&&!wu(t.src,s=r[2])&&it(t,"src",s)},d(r){r&&nt(t)}}}function $1(l){let t,e;return{c(){t=yt("object"),this.h()},l(s){t=St(s,"OBJECT",{"aria-label":!0,class:!0,data:!0,type:!0}),It(t).forEach(nt),this.h()},h(){it(t,"aria-label",e="Icon of "+l[0]),it(t,"class","h-14 w-14 flex-shrink-1 object-contain pointer-events-none"),it(t,"data",l[2]),it(t,"type","image/svg+xml")},m(s,r){si(s,t,r)},p(s,r){r&1&&e!==(e="Icon of "+s[0])&&it(t,"aria-label",e),r&4&&it(t,"data",s[2])},d(s){s&&nt(t)}}}function ga(l){let t,e;return{c(){t=yt("span"),e=Ss(l[1]),this.h()},l(s){t=St(s,"SPAN",{class:!0});var r=It(t);e=Cs(r,l[1]),r.forEach(nt),this.h()},h(){it(t,"class","hidden sm:inline text-xs font-semibold uppercase text-gray-600 bg-gray-300 rounded-md p-1")},m(s,r){si(s,t,r),bt(t,e)},p(s,r){r&2&&Ts(e,s[1])},d(s){s&&nt(t)}}}function q1(l){let t,e,s,r,o,u,c,d,v,m,b,x,S;function L(D,G){return G&4&&(r=null),r==null&&(r=!!D[2].endsWith(".svg")),r?$1:K1}let O=L(l,-1),z=O(l),R=l[1]&&ga(l);const et=l[4].default,P=Rs(et,l,l[3],null);return{c(){t=yt("div"),e=yt("div"),s=yt("div"),z.c(),o=Ce(),u=yt("div"),c=yt("div"),d=yt("h1"),v=Ss(l[0]),m=Ce(),R&&R.c(),b=Ce(),x=yt("div"),P&&P.c(),this.h()},l(D){t=St(D,"DIV",{class:!0});var G=It(t);e=St(G,"DIV",{class:!0});var gt=It(e);s=St(gt,"DIV",{class:!0});var ut=It(s);z.l(ut),ut.forEach(nt),o=Te(gt),u=St(gt,"DIV",{class:!0});var at=It(u);c=St(at,"DIV",{class:!0});var Vt=It(c);d=St(Vt,"H1",{class:!0});var Fi=It(d);v=Cs(Fi,l[0]),Fi.forEach(nt),m=Te(Vt),R&&R.l(Vt),Vt.forEach(nt),b=Te(at),x=St(at,"DIV",{class:!0});var Wi=It(x);P&&P.l(Wi),Wi.forEach(nt),at.forEach(nt),gt.forEach(nt),G.forEach(nt),this.h()},h(){it(s,"class","flex-shrink-0"),it(d,"class","block text-2xl font-bold text-gray-900 truncate"),it(c,"class","flex items-center space-x-2"),it(x,"class","mt-1 flex flex-col md:mt-0 md:flex-row md:flex-wrap md:space-x-4"),it(u,"class","min-w-0 pt-1.5"),it(e,"class","flex items-start space-x-5"),it(t,"class","md:flex md:items-center md:justify-between md:space-x-5 py-4 px-4")},m(D,G){si(D,t,G),bt(t,e),bt(e,s),z.m(s,null),bt(e,o),bt(e,u),bt(u,c),bt(c,d),bt(d,v),bt(c,m),R&&R.m(c,null),bt(u,b),bt(u,x),P&&P.m(x,null),S=!0},p(D,[G]){O===(O=L(D,G))&&z?z.p(D,G):(z.d(1),z=O(D),z&&(z.c(),z.m(s,null))),(!S||G&1)&&Ts(v,D[0]),D[1]?R?R.p(D,G):(R=ga(D),R.c(),R.m(c,null)):R&&(R.d(1),R=null),P&&P.p&&(!S||G&8)&&Ps(P,et,D,D[3],S?Ns(et,D[3],G,null):Ds(D[3]),null)},i(D){S||(Lt(P,D),S=!0)},o(D){kt(P,D),S=!1},d(D){D&&nt(t),z.d(),R&&R.d(),P&&P.d(D)}}}function X1(l,t,e){let{$$slots:s={},$$scope:r}=t,{title:o}=t,{subtitle:u=void 0}=t,{iconUrl:c}=t;return l.$$set=d=>{"title"in d&&e(0,o=d.title),"subtitle"in d&&e(1,u=d.subtitle),"iconUrl"in d&&e(2,c=d.iconUrl),"$$scope"in d&&e(3,r=d.$$scope)},[o,u,c,r,s]}class hb extends dn{constructor(t){super(),pn(this,t,X1,q1,gn,{title:0,subtitle:1,iconUrl:2})}}var fn={},Z1={get exports(){return fn},set exports(l){fn=l}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(l,t){(function(){var e,s="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",v=500,m="__lodash_placeholder__",b=1,x=2,S=4,L=1,O=2,z=1,R=2,et=4,P=8,D=16,G=32,gt=64,ut=128,at=256,Vt=512,Fi=30,Wi="...",Ys=800,wn=16,se=1,Mn=2,re=3,ci=1/0,zt=9007199254740991,Oe=17976931348623157e292,Oi=0/0,Bt=4294967295,ka=Bt-1,Ua=Bt>>>1,Wa=[["ary",ut],["bind",z],["bindKey",R],["curry",P],["curryRight",D],["flip",Vt],["partial",G],["partialRight",gt],["rearg",at]],he="[object Arguments]",xn="[object Array]",Ga="[object AsyncFunction]",Ae="[object Boolean]",Ve="[object Date]",Ha="[object DOMException]",yn="[object Error]",Sn="[object Function]",Wh="[object GeneratorFunction]",ri="[object Map]",ze="[object Number]",Ya="[object Null]",_i="[object Object]",Gh="[object Promise]",Ka="[object Proxy]",Be="[object RegExp]",hi="[object Set]",Re="[object String]",Cn="[object Symbol]",$a="[object Undefined]",Pe="[object WeakMap]",qa="[object WeakSet]",De="[object ArrayBuffer]",le="[object DataView]",Ks="[object Float32Array]",$s="[object Float64Array]",qs="[object Int8Array]",Xs="[object Int16Array]",Zs="[object Int32Array]",Js="[object Uint8Array]",Qs="[object Uint8ClampedArray]",js="[object Uint16Array]",tr="[object Uint32Array]",Xa=/\b__p \+= '';/g,Za=/\b(__p \+=) '' \+/g,Ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hh=/&(?:amp|lt|gt|quot|#39);/g,Yh=/[&<>"']/g,Qa=RegExp(Hh.source),ja=RegExp(Yh.source),tc=/<%-([\s\S]+?)%>/g,ic=/<%([\s\S]+?)%>/g,Kh=/<%=([\s\S]+?)%>/g,ec=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nc=/^\w*$/,sc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ir=/[\\^$.*+?()[\]{}|]/g,rc=RegExp(ir.source),er=/^\s+/,hc=/\s/,lc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oc=/\{\n\/\* \[wrapped with (.+)\] \*/,uc=/,? & /,ac=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cc=/[()=,{}\[\]\/\s]/,fc=/\\(\\)?/g,dc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$h=/\w*$/,pc=/^[-+]0x[0-9a-f]+$/i,gc=/^0b[01]+$/i,vc=/^\[object .+?Constructor\]$/,mc=/^0o[0-7]+$/i,_c=/^(?:0|[1-9]\d*)$/,bc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,wc=/['\n\r\u2028\u2029\\]/g,En="\\ud800-\\udfff",Mc="\\u0300-\\u036f",xc="\\ufe20-\\ufe2f",yc="\\u20d0-\\u20ff",qh=Mc+xc+yc,Xh="\\u2700-\\u27bf",Zh="a-z\\xdf-\\xf6\\xf8-\\xff",Sc="\\xac\\xb1\\xd7\\xf7",Cc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tc="\\u2000-\\u206f",Ec=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jh="A-Z\\xc0-\\xd6\\xd8-\\xde",Qh="\\ufe0e\\ufe0f",jh=Sc+Cc+Tc+Ec,nr="['â€™]",Ic="["+En+"]",tl="["+jh+"]",In="["+qh+"]",il="\\d+",Lc="["+Xh+"]",el="["+Zh+"]",nl="[^"+En+jh+il+Xh+Zh+Jh+"]",sr="\\ud83c[\\udffb-\\udfff]",Fc="(?:"+In+"|"+sr+")",sl="[^"+En+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",hr="[\\ud800-\\udbff][\\udc00-\\udfff]",oe="["+Jh+"]",rl="\\u200d",hl="(?:"+el+"|"+nl+")",Oc="(?:"+oe+"|"+nl+")",ll="(?:"+nr+"(?:d|ll|m|re|s|t|ve))?",ol="(?:"+nr+"(?:D|LL|M|RE|S|T|VE))?",ul=Fc+"?",al="["+Qh+"]?",Ac="(?:"+rl+"(?:"+[sl,rr,hr].join("|")+")"+al+ul+")*",Vc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cl=al+ul+Ac,Bc="(?:"+[Lc,rr,hr].join("|")+")"+cl,Rc="(?:"+[sl+In+"?",In,rr,hr,Ic].join("|")+")",Pc=RegExp(nr,"g"),Dc=RegExp(In,"g"),lr=RegExp(sr+"(?="+sr+")|"+Rc+cl,"g"),Nc=RegExp([oe+"?"+el+"+"+ll+"(?="+[tl,oe,"$"].join("|")+")",Oc+"+"+ol+"(?="+[tl,oe+hl,"$"].join("|")+")",oe+"?"+hl+"+"+ll,oe+"+"+ol,zc,Vc,il,Bc].join("|"),"g"),kc=RegExp("["+rl+En+qh+Qh+"]"),Uc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gc=-1,ht={};ht[Ks]=ht[$s]=ht[qs]=ht[Xs]=ht[Zs]=ht[Js]=ht[Qs]=ht[js]=ht[tr]=!0,ht[he]=ht[xn]=ht[De]=ht[Ae]=ht[le]=ht[Ve]=ht[yn]=ht[Sn]=ht[ri]=ht[ze]=ht[_i]=ht[Be]=ht[hi]=ht[Re]=ht[Pe]=!1;var rt={};rt[he]=rt[xn]=rt[De]=rt[le]=rt[Ae]=rt[Ve]=rt[Ks]=rt[$s]=rt[qs]=rt[Xs]=rt[Zs]=rt[ri]=rt[ze]=rt[_i]=rt[Be]=rt[hi]=rt[Re]=rt[Cn]=rt[Js]=rt[Qs]=rt[js]=rt[tr]=!0,rt[yn]=rt[Sn]=rt[Pe]=!1;var Hc={Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"},Yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qc=parseFloat,Xc=parseInt,fl=typeof tn=="object"&&tn&&tn.Object===Object&&tn,Zc=typeof self=="object"&&self&&self.Object===Object&&self,wt=fl||Zc||Function("return this")(),or=t&&!t.nodeType&&t,Gi=or&&!0&&l&&!l.nodeType&&l,dl=Gi&&Gi.exports===or,ur=dl&&fl.process,qt=function(){try{var M=Gi&&Gi.require&&Gi.require("util").types;return M||ur&&ur.binding&&ur.binding("util")}catch{}}(),pl=qt&&qt.isArrayBuffer,gl=qt&&qt.isDate,vl=qt&&qt.isMap,ml=qt&&qt.isRegExp,_l=qt&&qt.isSet,bl=qt&&qt.isTypedArray;function Ut(M,T,C){switch(C.length){case 0:return M.call(T);case 1:return M.call(T,C[0]);case 2:return M.call(T,C[0],C[1]);case 3:return M.call(T,C[0],C[1],C[2])}return M.apply(T,C)}function Jc(M,T,C,B){for(var H=-1,Q=M==null?0:M.length;++H<Q;){var vt=M[H];T(B,vt,C(vt),M)}return B}function Xt(M,T){for(var C=-1,B=M==null?0:M.length;++C<B&&T(M[C],C,M)!==!1;);return M}function Qc(M,T){for(var C=M==null?0:M.length;C--&&T(M[C],C,M)!==!1;);return M}function wl(M,T){for(var C=-1,B=M==null?0:M.length;++C<B;)if(!T(M[C],C,M))return!1;return!0}function Ai(M,T){for(var C=-1,B=M==null?0:M.length,H=0,Q=[];++C<B;){var vt=M[C];T(vt,C,M)&&(Q[H++]=vt)}return Q}function Ln(M,T){var C=M==null?0:M.length;return!!C&&ue(M,T,0)>-1}function ar(M,T,C){for(var B=-1,H=M==null?0:M.length;++B<H;)if(C(T,M[B]))return!0;return!1}function ot(M,T){for(var C=-1,B=M==null?0:M.length,H=Array(B);++C<B;)H[C]=T(M[C],C,M);return H}function Vi(M,T){for(var C=-1,B=T.length,H=M.length;++C<B;)M[H+C]=T[C];return M}function cr(M,T,C,B){var H=-1,Q=M==null?0:M.length;for(B&&Q&&(C=M[++H]);++H<Q;)C=T(C,M[H],H,M);return C}function jc(M,T,C,B){var H=M==null?0:M.length;for(B&&H&&(C=M[--H]);H--;)C=T(C,M[H],H,M);return C}function fr(M,T){for(var C=-1,B=M==null?0:M.length;++C<B;)if(T(M[C],C,M))return!0;return!1}var tf=dr("length");function ef(M){return M.split("")}function nf(M){return M.match(ac)||[]}function Ml(M,T,C){var B;return C(M,function(H,Q,vt){if(T(H,Q,vt))return B=Q,!1}),B}function Fn(M,T,C,B){for(var H=M.length,Q=C+(B?1:-1);B?Q--:++Q<H;)if(T(M[Q],Q,M))return Q;return-1}function ue(M,T,C){return T===T?gf(M,T,C):Fn(M,xl,C)}function sf(M,T,C,B){for(var H=C-1,Q=M.length;++H<Q;)if(B(M[H],T))return H;return-1}function xl(M){return M!==M}function yl(M,T){var C=M==null?0:M.length;return C?gr(M,T)/C:Oi}function dr(M){return function(T){return T==null?e:T[M]}}function pr(M){return function(T){return M==null?e:M[T]}}function Sl(M,T,C,B,H){return H(M,function(Q,vt,st){C=B?(B=!1,Q):T(C,Q,vt,st)}),C}function rf(M,T){var C=M.length;for(M.sort(T);C--;)M[C]=M[C].value;return M}function gr(M,T){for(var C,B=-1,H=M.length;++B<H;){var Q=T(M[B]);Q!==e&&(C=C===e?Q:C+Q)}return C}function vr(M,T){for(var C=-1,B=Array(M);++C<M;)B[C]=T(C);return B}function hf(M,T){return ot(T,function(C){return[C,M[C]]})}function Cl(M){return M&&M.slice(0,Ll(M)+1).replace(er,"")}function Wt(M){return function(T){return M(T)}}function mr(M,T){return ot(T,function(C){return M[C]})}function Ne(M,T){return M.has(T)}function Tl(M,T){for(var C=-1,B=M.length;++C<B&&ue(T,M[C],0)>-1;);return C}function El(M,T){for(var C=M.length;C--&&ue(T,M[C],0)>-1;);return C}function lf(M,T){for(var C=M.length,B=0;C--;)M[C]===T&&++B;return B}var of=pr(Hc),uf=pr(Yc);function af(M){return"\\"+$c[M]}function cf(M,T){return M==null?e:M[T]}function ae(M){return kc.test(M)}function ff(M){return Uc.test(M)}function df(M){for(var T,C=[];!(T=M.next()).done;)C.push(T.value);return C}function _r(M){var T=-1,C=Array(M.size);return M.forEach(function(B,H){C[++T]=[H,B]}),C}function Il(M,T){return function(C){return M(T(C))}}function zi(M,T){for(var C=-1,B=M.length,H=0,Q=[];++C<B;){var vt=M[C];(vt===T||vt===m)&&(M[C]=m,Q[H++]=C)}return Q}function On(M){var T=-1,C=Array(M.size);return M.forEach(function(B){C[++T]=B}),C}function pf(M){var T=-1,C=Array(M.size);return M.forEach(function(B){C[++T]=[B,B]}),C}function gf(M,T,C){for(var B=C-1,H=M.length;++B<H;)if(M[B]===T)return B;return-1}function vf(M,T,C){for(var B=C+1;B--;)if(M[B]===T)return B;return B}function ce(M){return ae(M)?_f(M):tf(M)}function li(M){return ae(M)?bf(M):ef(M)}function Ll(M){for(var T=M.length;T--&&hc.test(M.charAt(T)););return T}var mf=pr(Kc);function _f(M){for(var T=lr.lastIndex=0;lr.test(M);)++T;return T}function bf(M){return M.match(lr)||[]}function wf(M){return M.match(Nc)||[]}var Mf=function M(T){T=T==null?wt:fe.defaults(wt.Object(),T,fe.pick(wt,Wc));var C=T.Array,B=T.Date,H=T.Error,Q=T.Function,vt=T.Math,st=T.Object,br=T.RegExp,xf=T.String,Zt=T.TypeError,An=C.prototype,yf=Q.prototype,de=st.prototype,Vn=T["__core-js_shared__"],zn=yf.toString,tt=de.hasOwnProperty,Sf=0,Fl=function(){var i=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Bn=de.toString,Cf=zn.call(st),Tf=wt._,Ef=br("^"+zn.call(tt).replace(ir,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=dl?T.Buffer:e,Bi=T.Symbol,Pn=T.Uint8Array,Ol=Rn?Rn.allocUnsafe:e,Dn=Il(st.getPrototypeOf,st),Al=st.create,Vl=de.propertyIsEnumerable,Nn=An.splice,zl=Bi?Bi.isConcatSpreadable:e,ke=Bi?Bi.iterator:e,Hi=Bi?Bi.toStringTag:e,kn=function(){try{var i=Xi(st,"defineProperty");return i({},"",{}),i}catch{}}(),If=T.clearTimeout!==wt.clearTimeout&&T.clearTimeout,Lf=B&&B.now!==wt.Date.now&&B.now,Ff=T.setTimeout!==wt.setTimeout&&T.setTimeout,Un=vt.ceil,Wn=vt.floor,wr=st.getOwnPropertySymbols,Of=Rn?Rn.isBuffer:e,Bl=T.isFinite,Af=An.join,Vf=Il(st.keys,st),mt=vt.max,Tt=vt.min,zf=B.now,Bf=T.parseInt,Rl=vt.random,Rf=An.reverse,Mr=Xi(T,"DataView"),Ue=Xi(T,"Map"),xr=Xi(T,"Promise"),pe=Xi(T,"Set"),We=Xi(T,"WeakMap"),Ge=Xi(st,"create"),Gn=We&&new We,ge={},Pf=Zi(Mr),Df=Zi(Ue),Nf=Zi(xr),kf=Zi(pe),Uf=Zi(We),Hn=Bi?Bi.prototype:e,He=Hn?Hn.valueOf:e,Pl=Hn?Hn.toString:e;function p(i){if(ft(i)&&!Y(i)&&!(i instanceof Z)){if(i instanceof Jt)return i;if(tt.call(i,"__wrapped__"))return No(i)}return new Jt(i)}var ve=function(){function i(){}return function(n){if(!ct(n))return{};if(Al)return Al(n);i.prototype=n;var h=new i;return i.prototype=e,h}}();function Yn(){}function Jt(i,n){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}p.templateSettings={escape:tc,evaluate:ic,interpolate:Kh,variable:"",imports:{_:p}},p.prototype=Yn.prototype,p.prototype.constructor=p,Jt.prototype=ve(Yn.prototype),Jt.prototype.constructor=Jt;function Z(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bt,this.__views__=[]}function Wf(){var i=new Z(this.__wrapped__);return i.__actions__=Rt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Rt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Rt(this.__views__),i}function Gf(){if(this.__filtered__){var i=new Z(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Hf(){var i=this.__wrapped__.value(),n=this.__dir__,h=Y(i),a=n<0,f=h?i.length:0,g=ep(0,f,this.__views__),_=g.start,w=g.end,y=w-_,E=a?w:_-1,I=this.__iteratees__,F=I.length,V=0,N=Tt(y,this.__takeCount__);if(!h||!a&&f==y&&N==y)return lo(i,this.__actions__);var U=[];t:for(;y--&&V<N;){E+=n;for(var $=-1,W=i[E];++$<F;){var X=I[$],J=X.iteratee,Yt=X.type,At=J(W);if(Yt==Mn)W=At;else if(!At){if(Yt==se)continue t;break t}}U[V++]=W}return U}Z.prototype=ve(Yn.prototype),Z.prototype.constructor=Z;function Yi(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var a=i[n];this.set(a[0],a[1])}}function Yf(){this.__data__=Ge?Ge(null):{},this.size=0}function Kf(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}function $f(i){var n=this.__data__;if(Ge){var h=n[i];return h===d?e:h}return tt.call(n,i)?n[i]:e}function qf(i){var n=this.__data__;return Ge?n[i]!==e:tt.call(n,i)}function Xf(i,n){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=Ge&&n===e?d:n,this}Yi.prototype.clear=Yf,Yi.prototype.delete=Kf,Yi.prototype.get=$f,Yi.prototype.has=qf,Yi.prototype.set=Xf;function bi(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var a=i[n];this.set(a[0],a[1])}}function Zf(){this.__data__=[],this.size=0}function Jf(i){var n=this.__data__,h=Kn(n,i);if(h<0)return!1;var a=n.length-1;return h==a?n.pop():Nn.call(n,h,1),--this.size,!0}function Qf(i){var n=this.__data__,h=Kn(n,i);return h<0?e:n[h][1]}function jf(i){return Kn(this.__data__,i)>-1}function td(i,n){var h=this.__data__,a=Kn(h,i);return a<0?(++this.size,h.push([i,n])):h[a][1]=n,this}bi.prototype.clear=Zf,bi.prototype.delete=Jf,bi.prototype.get=Qf,bi.prototype.has=jf,bi.prototype.set=td;function wi(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var a=i[n];this.set(a[0],a[1])}}function id(){this.size=0,this.__data__={hash:new Yi,map:new(Ue||bi),string:new Yi}}function ed(i){var n=ss(this,i).delete(i);return this.size-=n?1:0,n}function nd(i){return ss(this,i).get(i)}function sd(i){return ss(this,i).has(i)}function rd(i,n){var h=ss(this,i),a=h.size;return h.set(i,n),this.size+=h.size==a?0:1,this}wi.prototype.clear=id,wi.prototype.delete=ed,wi.prototype.get=nd,wi.prototype.has=sd,wi.prototype.set=rd;function Ki(i){var n=-1,h=i==null?0:i.length;for(this.__data__=new wi;++n<h;)this.add(i[n])}function hd(i){return this.__data__.set(i,d),this}function ld(i){return this.__data__.has(i)}Ki.prototype.add=Ki.prototype.push=hd,Ki.prototype.has=ld;function oi(i){var n=this.__data__=new bi(i);this.size=n.size}function od(){this.__data__=new bi,this.size=0}function ud(i){var n=this.__data__,h=n.delete(i);return this.size=n.size,h}function ad(i){return this.__data__.get(i)}function cd(i){return this.__data__.has(i)}function fd(i,n){var h=this.__data__;if(h instanceof bi){var a=h.__data__;if(!Ue||a.length<r-1)return a.push([i,n]),this.size=++h.size,this;h=this.__data__=new wi(a)}return h.set(i,n),this.size=h.size,this}oi.prototype.clear=od,oi.prototype.delete=ud,oi.prototype.get=ad,oi.prototype.has=cd,oi.prototype.set=fd;function Dl(i,n){var h=Y(i),a=!h&&Ji(i),f=!h&&!a&&ki(i),g=!h&&!a&&!f&&we(i),_=h||a||f||g,w=_?vr(i.length,xf):[],y=w.length;for(var E in i)(n||tt.call(i,E))&&!(_&&(E=="length"||f&&(E=="offset"||E=="parent")||g&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Si(E,y)))&&w.push(E);return w}function Nl(i){var n=i.length;return n?i[Vr(0,n-1)]:e}function dd(i,n){return rs(Rt(i),$i(n,0,i.length))}function pd(i){return rs(Rt(i))}function yr(i,n,h){(h!==e&&!ui(i[n],h)||h===e&&!(n in i))&&Mi(i,n,h)}function Ye(i,n,h){var a=i[n];(!(tt.call(i,n)&&ui(a,h))||h===e&&!(n in i))&&Mi(i,n,h)}function Kn(i,n){for(var h=i.length;h--;)if(ui(i[h][0],n))return h;return-1}function gd(i,n,h,a){return Ri(i,function(f,g,_){n(a,f,h(f),_)}),a}function kl(i,n){return i&&di(n,_t(n),i)}function vd(i,n){return i&&di(n,Dt(n),i)}function Mi(i,n,h){n=="__proto__"&&kn?kn(i,n,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[n]=h}function Sr(i,n){for(var h=-1,a=n.length,f=C(a),g=i==null;++h<a;)f[h]=g?e:sh(i,n[h]);return f}function $i(i,n,h){return i===i&&(h!==e&&(i=i<=h?i:h),n!==e&&(i=i>=n?i:n)),i}function Qt(i,n,h,a,f,g){var _,w=n&b,y=n&x,E=n&S;if(h&&(_=f?h(i,a,f,g):h(i)),_!==e)return _;if(!ct(i))return i;var I=Y(i);if(I){if(_=sp(i),!w)return Rt(i,_)}else{var F=Et(i),V=F==Sn||F==Wh;if(ki(i))return ao(i,w);if(F==_i||F==he||V&&!f){if(_=y||V?{}:Fo(i),!w)return y?$d(i,vd(_,i)):Kd(i,kl(_,i))}else{if(!rt[F])return f?i:{};_=rp(i,F,w)}}g||(g=new oi);var N=g.get(i);if(N)return N;g.set(i,_),ru(i)?i.forEach(function(W){_.add(Qt(W,n,h,W,i,g))}):nu(i)&&i.forEach(function(W,X){_.set(X,Qt(W,n,h,X,i,g))});var U=E?y?Hr:Gr:y?Dt:_t,$=I?e:U(i);return Xt($||i,function(W,X){$&&(X=W,W=i[X]),Ye(_,X,Qt(W,n,h,X,i,g))}),_}function md(i){var n=_t(i);return function(h){return Ul(h,i,n)}}function Ul(i,n,h){var a=h.length;if(i==null)return!a;for(i=st(i);a--;){var f=h[a],g=n[f],_=i[f];if(_===e&&!(f in i)||!g(_))return!1}return!0}function Wl(i,n,h){if(typeof i!="function")throw new Zt(u);return Qe(function(){i.apply(e,h)},n)}function Ke(i,n,h,a){var f=-1,g=Ln,_=!0,w=i.length,y=[],E=n.length;if(!w)return y;h&&(n=ot(n,Wt(h))),a?(g=ar,_=!1):n.length>=r&&(g=Ne,_=!1,n=new Ki(n));t:for(;++f<w;){var I=i[f],F=h==null?I:h(I);if(I=a||I!==0?I:0,_&&F===F){for(var V=E;V--;)if(n[V]===F)continue t;y.push(I)}else g(n,F,a)||y.push(I)}return y}var Ri=vo(fi),Gl=vo(Tr,!0);function _d(i,n){var h=!0;return Ri(i,function(a,f,g){return h=!!n(a,f,g),h}),h}function $n(i,n,h){for(var a=-1,f=i.length;++a<f;){var g=i[a],_=n(g);if(_!=null&&(w===e?_===_&&!Ht(_):h(_,w)))var w=_,y=g}return y}function bd(i,n,h,a){var f=i.length;for(h=K(h),h<0&&(h=-h>f?0:f+h),a=a===e||a>f?f:K(a),a<0&&(a+=f),a=h>a?0:lu(a);h<a;)i[h++]=n;return i}function Hl(i,n){var h=[];return Ri(i,function(a,f,g){n(a,f,g)&&h.push(a)}),h}function Mt(i,n,h,a,f){var g=-1,_=i.length;for(h||(h=lp),f||(f=[]);++g<_;){var w=i[g];n>0&&h(w)?n>1?Mt(w,n-1,h,a,f):Vi(f,w):a||(f[f.length]=w)}return f}var Cr=mo(),Yl=mo(!0);function fi(i,n){return i&&Cr(i,n,_t)}function Tr(i,n){return i&&Yl(i,n,_t)}function qn(i,n){return Ai(n,function(h){return Ci(i[h])})}function qi(i,n){n=Di(n,i);for(var h=0,a=n.length;i!=null&&h<a;)i=i[pi(n[h++])];return h&&h==a?i:e}function Kl(i,n,h){var a=n(i);return Y(i)?a:Vi(a,h(i))}function Ft(i){return i==null?i===e?$a:Ya:Hi&&Hi in st(i)?ip(i):pp(i)}function Er(i,n){return i>n}function wd(i,n){return i!=null&&tt.call(i,n)}function Md(i,n){return i!=null&&n in st(i)}function xd(i,n,h){return i>=Tt(n,h)&&i<mt(n,h)}function Ir(i,n,h){for(var a=h?ar:Ln,f=i[0].length,g=i.length,_=g,w=C(g),y=1/0,E=[];_--;){var I=i[_];_&&n&&(I=ot(I,Wt(n))),y=Tt(I.length,y),w[_]=!h&&(n||f>=120&&I.length>=120)?new Ki(_&&I):e}I=i[0];var F=-1,V=w[0];t:for(;++F<f&&E.length<y;){var N=I[F],U=n?n(N):N;if(N=h||N!==0?N:0,!(V?Ne(V,U):a(E,U,h))){for(_=g;--_;){var $=w[_];if(!($?Ne($,U):a(i[_],U,h)))continue t}V&&V.push(U),E.push(N)}}return E}function yd(i,n,h,a){return fi(i,function(f,g,_){n(a,h(f),g,_)}),a}function $e(i,n,h){n=Di(n,i),i=zo(i,n);var a=i==null?i:i[pi(ti(n))];return a==null?e:Ut(a,i,h)}function $l(i){return ft(i)&&Ft(i)==he}function Sd(i){return ft(i)&&Ft(i)==De}function Cd(i){return ft(i)&&Ft(i)==Ve}function qe(i,n,h,a,f){return i===n?!0:i==null||n==null||!ft(i)&&!ft(n)?i!==i&&n!==n:Td(i,n,h,a,qe,f)}function Td(i,n,h,a,f,g){var _=Y(i),w=Y(n),y=_?xn:Et(i),E=w?xn:Et(n);y=y==he?_i:y,E=E==he?_i:E;var I=y==_i,F=E==_i,V=y==E;if(V&&ki(i)){if(!ki(n))return!1;_=!0,I=!1}if(V&&!I)return g||(g=new oi),_||we(i)?Eo(i,n,h,a,f,g):jd(i,n,y,h,a,f,g);if(!(h&L)){var N=I&&tt.call(i,"__wrapped__"),U=F&&tt.call(n,"__wrapped__");if(N||U){var $=N?i.value():i,W=U?n.value():n;return g||(g=new oi),f($,W,h,a,g)}}return V?(g||(g=new oi),tp(i,n,h,a,f,g)):!1}function Ed(i){return ft(i)&&Et(i)==ri}function Lr(i,n,h,a){var f=h.length,g=f,_=!a;if(i==null)return!g;for(i=st(i);f--;){var w=h[f];if(_&&w[2]?w[1]!==i[w[0]]:!(w[0]in i))return!1}for(;++f<g;){w=h[f];var y=w[0],E=i[y],I=w[1];if(_&&w[2]){if(E===e&&!(y in i))return!1}else{var F=new oi;if(a)var V=a(E,I,y,i,n,F);if(!(V===e?qe(I,E,L|O,a,F):V))return!1}}return!0}function ql(i){if(!ct(i)||up(i))return!1;var n=Ci(i)?Ef:vc;return n.test(Zi(i))}function Id(i){return ft(i)&&Ft(i)==Be}function Ld(i){return ft(i)&&Et(i)==hi}function Fd(i){return ft(i)&&cs(i.length)&&!!ht[Ft(i)]}function Xl(i){return typeof i=="function"?i:i==null?Nt:typeof i=="object"?Y(i)?Ql(i[0],i[1]):Jl(i):_u(i)}function Fr(i){if(!Je(i))return Vf(i);var n=[];for(var h in st(i))tt.call(i,h)&&h!="constructor"&&n.push(h);return n}function Od(i){if(!ct(i))return dp(i);var n=Je(i),h=[];for(var a in i)a=="constructor"&&(n||!tt.call(i,a))||h.push(a);return h}function Or(i,n){return i<n}function Zl(i,n){var h=-1,a=Pt(i)?C(i.length):[];return Ri(i,function(f,g,_){a[++h]=n(f,g,_)}),a}function Jl(i){var n=Kr(i);return n.length==1&&n[0][2]?Ao(n[0][0],n[0][1]):function(h){return h===i||Lr(h,i,n)}}function Ql(i,n){return qr(i)&&Oo(n)?Ao(pi(i),n):function(h){var a=sh(h,i);return a===e&&a===n?rh(h,i):qe(n,a,L|O)}}function Xn(i,n,h,a,f){i!==n&&Cr(n,function(g,_){if(f||(f=new oi),ct(g))Ad(i,n,_,h,Xn,a,f);else{var w=a?a(Zr(i,_),g,_+"",i,n,f):e;w===e&&(w=g),yr(i,_,w)}},Dt)}function Ad(i,n,h,a,f,g,_){var w=Zr(i,h),y=Zr(n,h),E=_.get(y);if(E){yr(i,h,E);return}var I=g?g(w,y,h+"",i,n,_):e,F=I===e;if(F){var V=Y(y),N=!V&&ki(y),U=!V&&!N&&we(y);I=y,V||N||U?Y(w)?I=w:dt(w)?I=Rt(w):N?(F=!1,I=ao(y,!0)):U?(F=!1,I=co(y,!0)):I=[]:je(y)||Ji(y)?(I=w,Ji(w)?I=ou(w):(!ct(w)||Ci(w))&&(I=Fo(y))):F=!1}F&&(_.set(y,I),f(I,y,a,g,_),_.delete(y)),yr(i,h,I)}function jl(i,n){var h=i.length;if(h)return n+=n<0?h:0,Si(n,h)?i[n]:e}function to(i,n,h){n.length?n=ot(n,function(g){return Y(g)?function(_){return qi(_,g.length===1?g[0]:g)}:g}):n=[Nt];var a=-1;n=ot(n,Wt(k()));var f=Zl(i,function(g,_,w){var y=ot(n,function(E){return E(g)});return{criteria:y,index:++a,value:g}});return rf(f,function(g,_){return Yd(g,_,h)})}function Vd(i,n){return io(i,n,function(h,a){return rh(i,a)})}function io(i,n,h){for(var a=-1,f=n.length,g={};++a<f;){var _=n[a],w=qi(i,_);h(w,_)&&Xe(g,Di(_,i),w)}return g}function zd(i){return function(n){return qi(n,i)}}function Ar(i,n,h,a){var f=a?sf:ue,g=-1,_=n.length,w=i;for(i===n&&(n=Rt(n)),h&&(w=ot(i,Wt(h)));++g<_;)for(var y=0,E=n[g],I=h?h(E):E;(y=f(w,I,y,a))>-1;)w!==i&&Nn.call(w,y,1),Nn.call(i,y,1);return i}function eo(i,n){for(var h=i?n.length:0,a=h-1;h--;){var f=n[h];if(h==a||f!==g){var g=f;Si(f)?Nn.call(i,f,1):Rr(i,f)}}return i}function Vr(i,n){return i+Wn(Rl()*(n-i+1))}function Bd(i,n,h,a){for(var f=-1,g=mt(Un((n-i)/(h||1)),0),_=C(g);g--;)_[a?g:++f]=i,i+=h;return _}function zr(i,n){var h="";if(!i||n<1||n>zt)return h;do n%2&&(h+=i),n=Wn(n/2),n&&(i+=i);while(n);return h}function q(i,n){return Jr(Vo(i,n,Nt),i+"")}function Rd(i){return Nl(Me(i))}function Pd(i,n){var h=Me(i);return rs(h,$i(n,0,h.length))}function Xe(i,n,h,a){if(!ct(i))return i;n=Di(n,i);for(var f=-1,g=n.length,_=g-1,w=i;w!=null&&++f<g;){var y=pi(n[f]),E=h;if(y==="__proto__"||y==="constructor"||y==="prototype")return i;if(f!=_){var I=w[y];E=a?a(I,y,w):e,E===e&&(E=ct(I)?I:Si(n[f+1])?[]:{})}Ye(w,y,E),w=w[y]}return i}var no=Gn?function(i,n){return Gn.set(i,n),i}:Nt,Dd=kn?function(i,n){return kn(i,"toString",{configurable:!0,enumerable:!1,value:lh(n),writable:!0})}:Nt;function Nd(i){return rs(Me(i))}function jt(i,n,h){var a=-1,f=i.length;n<0&&(n=-n>f?0:f+n),h=h>f?f:h,h<0&&(h+=f),f=n>h?0:h-n>>>0,n>>>=0;for(var g=C(f);++a<f;)g[a]=i[a+n];return g}function kd(i,n){var h;return Ri(i,function(a,f,g){return h=n(a,f,g),!h}),!!h}function Zn(i,n,h){var a=0,f=i==null?a:i.length;if(typeof n=="number"&&n===n&&f<=Ua){for(;a<f;){var g=a+f>>>1,_=i[g];_!==null&&!Ht(_)&&(h?_<=n:_<n)?a=g+1:f=g}return f}return Br(i,n,Nt,h)}function Br(i,n,h,a){var f=0,g=i==null?0:i.length;if(g===0)return 0;n=h(n);for(var _=n!==n,w=n===null,y=Ht(n),E=n===e;f<g;){var I=Wn((f+g)/2),F=h(i[I]),V=F!==e,N=F===null,U=F===F,$=Ht(F);if(_)var W=a||U;else E?W=U&&(a||V):w?W=U&&V&&(a||!N):y?W=U&&V&&!N&&(a||!$):N||$?W=!1:W=a?F<=n:F<n;W?f=I+1:g=I}return Tt(g,ka)}function so(i,n){for(var h=-1,a=i.length,f=0,g=[];++h<a;){var _=i[h],w=n?n(_):_;if(!h||!ui(w,y)){var y=w;g[f++]=_===0?0:_}}return g}function ro(i){return typeof i=="number"?i:Ht(i)?Oi:+i}function Gt(i){if(typeof i=="string")return i;if(Y(i))return ot(i,Gt)+"";if(Ht(i))return Pl?Pl.call(i):"";var n=i+"";return n=="0"&&1/i==-ci?"-0":n}function Pi(i,n,h){var a=-1,f=Ln,g=i.length,_=!0,w=[],y=w;if(h)_=!1,f=ar;else if(g>=r){var E=n?null:Jd(i);if(E)return On(E);_=!1,f=Ne,y=new Ki}else y=n?[]:w;t:for(;++a<g;){var I=i[a],F=n?n(I):I;if(I=h||I!==0?I:0,_&&F===F){for(var V=y.length;V--;)if(y[V]===F)continue t;n&&y.push(F),w.push(I)}else f(y,F,h)||(y!==w&&y.push(F),w.push(I))}return w}function Rr(i,n){return n=Di(n,i),i=zo(i,n),i==null||delete i[pi(ti(n))]}function ho(i,n,h,a){return Xe(i,n,h(qi(i,n)),a)}function Jn(i,n,h,a){for(var f=i.length,g=a?f:-1;(a?g--:++g<f)&&n(i[g],g,i););return h?jt(i,a?0:g,a?g+1:f):jt(i,a?g+1:0,a?f:g)}function lo(i,n){var h=i;return h instanceof Z&&(h=h.value()),cr(n,function(a,f){return f.func.apply(f.thisArg,Vi([a],f.args))},h)}function Pr(i,n,h){var a=i.length;if(a<2)return a?Pi(i[0]):[];for(var f=-1,g=C(a);++f<a;)for(var _=i[f],w=-1;++w<a;)w!=f&&(g[f]=Ke(g[f]||_,i[w],n,h));return Pi(Mt(g,1),n,h)}function oo(i,n,h){for(var a=-1,f=i.length,g=n.length,_={};++a<f;){var w=a<g?n[a]:e;h(_,i[a],w)}return _}function Dr(i){return dt(i)?i:[]}function Nr(i){return typeof i=="function"?i:Nt}function Di(i,n){return Y(i)?i:qr(i,n)?[i]:Do(j(i))}var Ud=q;function Ni(i,n,h){var a=i.length;return h=h===e?a:h,!n&&h>=a?i:jt(i,n,h)}var uo=If||function(i){return wt.clearTimeout(i)};function ao(i,n){if(n)return i.slice();var h=i.length,a=Ol?Ol(h):new i.constructor(h);return i.copy(a),a}function kr(i){var n=new i.constructor(i.byteLength);return new Pn(n).set(new Pn(i)),n}function Wd(i,n){var h=n?kr(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}function Gd(i){var n=new i.constructor(i.source,$h.exec(i));return n.lastIndex=i.lastIndex,n}function Hd(i){return He?st(He.call(i)):{}}function co(i,n){var h=n?kr(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function fo(i,n){if(i!==n){var h=i!==e,a=i===null,f=i===i,g=Ht(i),_=n!==e,w=n===null,y=n===n,E=Ht(n);if(!w&&!E&&!g&&i>n||g&&_&&y&&!w&&!E||a&&_&&y||!h&&y||!f)return 1;if(!a&&!g&&!E&&i<n||E&&h&&f&&!a&&!g||w&&h&&f||!_&&f||!y)return-1}return 0}function Yd(i,n,h){for(var a=-1,f=i.criteria,g=n.criteria,_=f.length,w=h.length;++a<_;){var y=fo(f[a],g[a]);if(y){if(a>=w)return y;var E=h[a];return y*(E=="desc"?-1:1)}}return i.index-n.index}function po(i,n,h,a){for(var f=-1,g=i.length,_=h.length,w=-1,y=n.length,E=mt(g-_,0),I=C(y+E),F=!a;++w<y;)I[w]=n[w];for(;++f<_;)(F||f<g)&&(I[h[f]]=i[f]);for(;E--;)I[w++]=i[f++];return I}function go(i,n,h,a){for(var f=-1,g=i.length,_=-1,w=h.length,y=-1,E=n.length,I=mt(g-w,0),F=C(I+E),V=!a;++f<I;)F[f]=i[f];for(var N=f;++y<E;)F[N+y]=n[y];for(;++_<w;)(V||f<g)&&(F[N+h[_]]=i[f++]);return F}function Rt(i,n){var h=-1,a=i.length;for(n||(n=C(a));++h<a;)n[h]=i[h];return n}function di(i,n,h,a){var f=!h;h||(h={});for(var g=-1,_=n.length;++g<_;){var w=n[g],y=a?a(h[w],i[w],w,h,i):e;y===e&&(y=i[w]),f?Mi(h,w,y):Ye(h,w,y)}return h}function Kd(i,n){return di(i,$r(i),n)}function $d(i,n){return di(i,Io(i),n)}function Qn(i,n){return function(h,a){var f=Y(h)?Jc:gd,g=n?n():{};return f(h,i,k(a,2),g)}}function me(i){return q(function(n,h){var a=-1,f=h.length,g=f>1?h[f-1]:e,_=f>2?h[2]:e;for(g=i.length>3&&typeof g=="function"?(f--,g):e,_&&Ot(h[0],h[1],_)&&(g=f<3?e:g,f=1),n=st(n);++a<f;){var w=h[a];w&&i(n,w,a,g)}return n})}function vo(i,n){return function(h,a){if(h==null)return h;if(!Pt(h))return i(h,a);for(var f=h.length,g=n?f:-1,_=st(h);(n?g--:++g<f)&&a(_[g],g,_)!==!1;);return h}}function mo(i){return function(n,h,a){for(var f=-1,g=st(n),_=a(n),w=_.length;w--;){var y=_[i?w:++f];if(h(g[y],y,g)===!1)break}return n}}function qd(i,n,h){var a=n&z,f=Ze(i);function g(){var _=this&&this!==wt&&this instanceof g?f:i;return _.apply(a?h:this,arguments)}return g}function _o(i){return function(n){n=j(n);var h=ae(n)?li(n):e,a=h?h[0]:n.charAt(0),f=h?Ni(h,1).join(""):n.slice(1);return a[i]()+f}}function _e(i){return function(n){return cr(vu(gu(n).replace(Pc,"")),i,"")}}function Ze(i){return function(){var n=arguments;switch(n.length){case 0:return new i;case 1:return new i(n[0]);case 2:return new i(n[0],n[1]);case 3:return new i(n[0],n[1],n[2]);case 4:return new i(n[0],n[1],n[2],n[3]);case 5:return new i(n[0],n[1],n[2],n[3],n[4]);case 6:return new i(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new i(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var h=ve(i.prototype),a=i.apply(h,n);return ct(a)?a:h}}function Xd(i,n,h){var a=Ze(i);function f(){for(var g=arguments.length,_=C(g),w=g,y=be(f);w--;)_[w]=arguments[w];var E=g<3&&_[0]!==y&&_[g-1]!==y?[]:zi(_,y);if(g-=E.length,g<h)return yo(i,n,jn,f.placeholder,e,_,E,e,e,h-g);var I=this&&this!==wt&&this instanceof f?a:i;return Ut(I,this,_)}return f}function bo(i){return function(n,h,a){var f=st(n);if(!Pt(n)){var g=k(h,3);n=_t(n),h=function(w){return g(f[w],w,f)}}var _=i(n,h,a);return _>-1?f[g?n[_]:_]:e}}function wo(i){return yi(function(n){var h=n.length,a=h,f=Jt.prototype.thru;for(i&&n.reverse();a--;){var g=n[a];if(typeof g!="function")throw new Zt(u);if(f&&!_&&ns(g)=="wrapper")var _=new Jt([],!0)}for(a=_?a:h;++a<h;){g=n[a];var w=ns(g),y=w=="wrapper"?Yr(g):e;y&&Xr(y[0])&&y[1]==(ut|P|G|at)&&!y[4].length&&y[9]==1?_=_[ns(y[0])].apply(_,y[3]):_=g.length==1&&Xr(g)?_[w]():_.thru(g)}return function(){var E=arguments,I=E[0];if(_&&E.length==1&&Y(I))return _.plant(I).value();for(var F=0,V=h?n[F].apply(this,E):I;++F<h;)V=n[F].call(this,V);return V}})}function jn(i,n,h,a,f,g,_,w,y,E){var I=n&ut,F=n&z,V=n&R,N=n&(P|D),U=n&Vt,$=V?e:Ze(i);function W(){for(var X=arguments.length,J=C(X),Yt=X;Yt--;)J[Yt]=arguments[Yt];if(N)var At=be(W),Kt=lf(J,At);if(a&&(J=po(J,a,f,N)),g&&(J=go(J,g,_,N)),X-=Kt,N&&X<E){var pt=zi(J,At);return yo(i,n,jn,W.placeholder,h,J,pt,w,y,E-X)}var ai=F?h:this,Ei=V?ai[i]:i;return X=J.length,w?J=gp(J,w):U&&X>1&&J.reverse(),I&&y<X&&(J.length=y),this&&this!==wt&&this instanceof W&&(Ei=$||Ze(Ei)),Ei.apply(ai,J)}return W}function Mo(i,n){return function(h,a){return yd(h,i,n(a),{})}}function ts(i,n){return function(h,a){var f;if(h===e&&a===e)return n;if(h!==e&&(f=h),a!==e){if(f===e)return a;typeof h=="string"||typeof a=="string"?(h=Gt(h),a=Gt(a)):(h=ro(h),a=ro(a)),f=i(h,a)}return f}}function Ur(i){return yi(function(n){return n=ot(n,Wt(k())),q(function(h){var a=this;return i(n,function(f){return Ut(f,a,h)})})})}function is(i,n){n=n===e?" ":Gt(n);var h=n.length;if(h<2)return h?zr(n,i):n;var a=zr(n,Un(i/ce(n)));return ae(n)?Ni(li(a),0,i).join(""):a.slice(0,i)}function Zd(i,n,h,a){var f=n&z,g=Ze(i);function _(){for(var w=-1,y=arguments.length,E=-1,I=a.length,F=C(I+y),V=this&&this!==wt&&this instanceof _?g:i;++E<I;)F[E]=a[E];for(;y--;)F[E++]=arguments[++w];return Ut(V,f?h:this,F)}return _}function xo(i){return function(n,h,a){return a&&typeof a!="number"&&Ot(n,h,a)&&(h=a=e),n=Ti(n),h===e?(h=n,n=0):h=Ti(h),a=a===e?n<h?1:-1:Ti(a),Bd(n,h,a,i)}}function es(i){return function(n,h){return typeof n=="string"&&typeof h=="string"||(n=ii(n),h=ii(h)),i(n,h)}}function yo(i,n,h,a,f,g,_,w,y,E){var I=n&P,F=I?_:e,V=I?e:_,N=I?g:e,U=I?e:g;n|=I?G:gt,n&=~(I?gt:G),n&et||(n&=~(z|R));var $=[i,n,f,N,F,U,V,w,y,E],W=h.apply(e,$);return Xr(i)&&Bo(W,$),W.placeholder=a,Ro(W,i,n)}function Wr(i){var n=vt[i];return function(h,a){if(h=ii(h),a=a==null?0:Tt(K(a),292),a&&Bl(h)){var f=(j(h)+"e").split("e"),g=n(f[0]+"e"+(+f[1]+a));return f=(j(g)+"e").split("e"),+(f[0]+"e"+(+f[1]-a))}return n(h)}}var Jd=pe&&1/On(new pe([,-0]))[1]==ci?function(i){return new pe(i)}:ah;function So(i){return function(n){var h=Et(n);return h==ri?_r(n):h==hi?pf(n):hf(n,i(n))}}function xi(i,n,h,a,f,g,_,w){var y=n&R;if(!y&&typeof i!="function")throw new Zt(u);var E=a?a.length:0;if(E||(n&=~(G|gt),a=f=e),_=_===e?_:mt(K(_),0),w=w===e?w:K(w),E-=f?f.length:0,n&gt){var I=a,F=f;a=f=e}var V=y?e:Yr(i),N=[i,n,h,a,f,I,F,g,_,w];if(V&&fp(N,V),i=N[0],n=N[1],h=N[2],a=N[3],f=N[4],w=N[9]=N[9]===e?y?0:i.length:mt(N[9]-E,0),!w&&n&(P|D)&&(n&=~(P|D)),!n||n==z)var U=qd(i,n,h);else n==P||n==D?U=Xd(i,n,w):(n==G||n==(z|G))&&!f.length?U=Zd(i,n,h,a):U=jn.apply(e,N);var $=V?no:Bo;return Ro($(U,N),i,n)}function Co(i,n,h,a){return i===e||ui(i,de[h])&&!tt.call(a,h)?n:i}function To(i,n,h,a,f,g){return ct(i)&&ct(n)&&(g.set(n,i),Xn(i,n,e,To,g),g.delete(n)),i}function Qd(i){return je(i)?e:i}function Eo(i,n,h,a,f,g){var _=h&L,w=i.length,y=n.length;if(w!=y&&!(_&&y>w))return!1;var E=g.get(i),I=g.get(n);if(E&&I)return E==n&&I==i;var F=-1,V=!0,N=h&O?new Ki:e;for(g.set(i,n),g.set(n,i);++F<w;){var U=i[F],$=n[F];if(a)var W=_?a($,U,F,n,i,g):a(U,$,F,i,n,g);if(W!==e){if(W)continue;V=!1;break}if(N){if(!fr(n,function(X,J){if(!Ne(N,J)&&(U===X||f(U,X,h,a,g)))return N.push(J)})){V=!1;break}}else if(!(U===$||f(U,$,h,a,g))){V=!1;break}}return g.delete(i),g.delete(n),V}function jd(i,n,h,a,f,g,_){switch(h){case le:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case De:return!(i.byteLength!=n.byteLength||!g(new Pn(i),new Pn(n)));case Ae:case Ve:case ze:return ui(+i,+n);case yn:return i.name==n.name&&i.message==n.message;case Be:case Re:return i==n+"";case ri:var w=_r;case hi:var y=a&L;if(w||(w=On),i.size!=n.size&&!y)return!1;var E=_.get(i);if(E)return E==n;a|=O,_.set(i,n);var I=Eo(w(i),w(n),a,f,g,_);return _.delete(i),I;case Cn:if(He)return He.call(i)==He.call(n)}return!1}function tp(i,n,h,a,f,g){var _=h&L,w=Gr(i),y=w.length,E=Gr(n),I=E.length;if(y!=I&&!_)return!1;for(var F=y;F--;){var V=w[F];if(!(_?V in n:tt.call(n,V)))return!1}var N=g.get(i),U=g.get(n);if(N&&U)return N==n&&U==i;var $=!0;g.set(i,n),g.set(n,i);for(var W=_;++F<y;){V=w[F];var X=i[V],J=n[V];if(a)var Yt=_?a(J,X,V,n,i,g):a(X,J,V,i,n,g);if(!(Yt===e?X===J||f(X,J,h,a,g):Yt)){$=!1;break}W||(W=V=="constructor")}if($&&!W){var At=i.constructor,Kt=n.constructor;At!=Kt&&"constructor"in i&&"constructor"in n&&!(typeof At=="function"&&At instanceof At&&typeof Kt=="function"&&Kt instanceof Kt)&&($=!1)}return g.delete(i),g.delete(n),$}function yi(i){return Jr(Vo(i,e,Wo),i+"")}function Gr(i){return Kl(i,_t,$r)}function Hr(i){return Kl(i,Dt,Io)}var Yr=Gn?function(i){return Gn.get(i)}:ah;function ns(i){for(var n=i.name+"",h=ge[n],a=tt.call(ge,n)?h.length:0;a--;){var f=h[a],g=f.func;if(g==null||g==i)return f.name}return n}function be(i){var n=tt.call(p,"placeholder")?p:i;return n.placeholder}function k(){var i=p.iteratee||oh;return i=i===oh?Xl:i,arguments.length?i(arguments[0],arguments[1]):i}function ss(i,n){var h=i.__data__;return op(n)?h[typeof n=="string"?"string":"hash"]:h.map}function Kr(i){for(var n=_t(i),h=n.length;h--;){var a=n[h],f=i[a];n[h]=[a,f,Oo(f)]}return n}function Xi(i,n){var h=cf(i,n);return ql(h)?h:e}function ip(i){var n=tt.call(i,Hi),h=i[Hi];try{i[Hi]=e;var a=!0}catch{}var f=Bn.call(i);return a&&(n?i[Hi]=h:delete i[Hi]),f}var $r=wr?function(i){return i==null?[]:(i=st(i),Ai(wr(i),function(n){return Vl.call(i,n)}))}:ch,Io=wr?function(i){for(var n=[];i;)Vi(n,$r(i)),i=Dn(i);return n}:ch,Et=Ft;(Mr&&Et(new Mr(new ArrayBuffer(1)))!=le||Ue&&Et(new Ue)!=ri||xr&&Et(xr.resolve())!=Gh||pe&&Et(new pe)!=hi||We&&Et(new We)!=Pe)&&(Et=function(i){var n=Ft(i),h=n==_i?i.constructor:e,a=h?Zi(h):"";if(a)switch(a){case Pf:return le;case Df:return ri;case Nf:return Gh;case kf:return hi;case Uf:return Pe}return n});function ep(i,n,h){for(var a=-1,f=h.length;++a<f;){var g=h[a],_=g.size;switch(g.type){case"drop":i+=_;break;case"dropRight":n-=_;break;case"take":n=Tt(n,i+_);break;case"takeRight":i=mt(i,n-_);break}}return{start:i,end:n}}function np(i){var n=i.match(oc);return n?n[1].split(uc):[]}function Lo(i,n,h){n=Di(n,i);for(var a=-1,f=n.length,g=!1;++a<f;){var _=pi(n[a]);if(!(g=i!=null&&h(i,_)))break;i=i[_]}return g||++a!=f?g:(f=i==null?0:i.length,!!f&&cs(f)&&Si(_,f)&&(Y(i)||Ji(i)))}function sp(i){var n=i.length,h=new i.constructor(n);return n&&typeof i[0]=="string"&&tt.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function Fo(i){return typeof i.constructor=="function"&&!Je(i)?ve(Dn(i)):{}}function rp(i,n,h){var a=i.constructor;switch(n){case De:return kr(i);case Ae:case Ve:return new a(+i);case le:return Wd(i,h);case Ks:case $s:case qs:case Xs:case Zs:case Js:case Qs:case js:case tr:return co(i,h);case ri:return new a;case ze:case Re:return new a(i);case Be:return Gd(i);case hi:return new a;case Cn:return Hd(i)}}function hp(i,n){var h=n.length;if(!h)return i;var a=h-1;return n[a]=(h>1?"& ":"")+n[a],n=n.join(h>2?", ":" "),i.replace(lc,`{
/* [wrapped with `+n+`] */
`)}function lp(i){return Y(i)||Ji(i)||!!(zl&&i&&i[zl])}function Si(i,n){var h=typeof i;return n=n??zt,!!n&&(h=="number"||h!="symbol"&&_c.test(i))&&i>-1&&i%1==0&&i<n}function Ot(i,n,h){if(!ct(h))return!1;var a=typeof n;return(a=="number"?Pt(h)&&Si(n,h.length):a=="string"&&n in h)?ui(h[n],i):!1}function qr(i,n){if(Y(i))return!1;var h=typeof i;return h=="number"||h=="symbol"||h=="boolean"||i==null||Ht(i)?!0:nc.test(i)||!ec.test(i)||n!=null&&i in st(n)}function op(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}function Xr(i){var n=ns(i),h=p[n];if(typeof h!="function"||!(n in Z.prototype))return!1;if(i===h)return!0;var a=Yr(h);return!!a&&i===a[0]}function up(i){return!!Fl&&Fl in i}var ap=Vn?Ci:fh;function Je(i){var n=i&&i.constructor,h=typeof n=="function"&&n.prototype||de;return i===h}function Oo(i){return i===i&&!ct(i)}function Ao(i,n){return function(h){return h==null?!1:h[i]===n&&(n!==e||i in st(h))}}function cp(i){var n=us(i,function(a){return h.size===v&&h.clear(),a}),h=n.cache;return n}function fp(i,n){var h=i[1],a=n[1],f=h|a,g=f<(z|R|ut),_=a==ut&&h==P||a==ut&&h==at&&i[7].length<=n[8]||a==(ut|at)&&n[7].length<=n[8]&&h==P;if(!(g||_))return i;a&z&&(i[2]=n[2],f|=h&z?0:et);var w=n[3];if(w){var y=i[3];i[3]=y?po(y,w,n[4]):w,i[4]=y?zi(i[3],m):n[4]}return w=n[5],w&&(y=i[5],i[5]=y?go(y,w,n[6]):w,i[6]=y?zi(i[5],m):n[6]),w=n[7],w&&(i[7]=w),a&ut&&(i[8]=i[8]==null?n[8]:Tt(i[8],n[8])),i[9]==null&&(i[9]=n[9]),i[0]=n[0],i[1]=f,i}function dp(i){var n=[];if(i!=null)for(var h in st(i))n.push(h);return n}function pp(i){return Bn.call(i)}function Vo(i,n,h){return n=mt(n===e?i.length-1:n,0),function(){for(var a=arguments,f=-1,g=mt(a.length-n,0),_=C(g);++f<g;)_[f]=a[n+f];f=-1;for(var w=C(n+1);++f<n;)w[f]=a[f];return w[n]=h(_),Ut(i,this,w)}}function zo(i,n){return n.length<2?i:qi(i,jt(n,0,-1))}function gp(i,n){for(var h=i.length,a=Tt(n.length,h),f=Rt(i);a--;){var g=n[a];i[a]=Si(g,h)?f[g]:e}return i}function Zr(i,n){if(!(n==="constructor"&&typeof i[n]=="function")&&n!="__proto__")return i[n]}var Bo=Po(no),Qe=Ff||function(i,n){return wt.setTimeout(i,n)},Jr=Po(Dd);function Ro(i,n,h){var a=n+"";return Jr(i,hp(a,vp(np(a),h)))}function Po(i){var n=0,h=0;return function(){var a=zf(),f=wn-(a-h);if(h=a,f>0){if(++n>=Ys)return arguments[0]}else n=0;return i.apply(e,arguments)}}function rs(i,n){var h=-1,a=i.length,f=a-1;for(n=n===e?a:n;++h<n;){var g=Vr(h,f),_=i[g];i[g]=i[h],i[h]=_}return i.length=n,i}var Do=cp(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(sc,function(h,a,f,g){n.push(f?g.replace(fc,"$1"):a||h)}),n});function pi(i){if(typeof i=="string"||Ht(i))return i;var n=i+"";return n=="0"&&1/i==-ci?"-0":n}function Zi(i){if(i!=null){try{return zn.call(i)}catch{}try{return i+""}catch{}}return""}function vp(i,n){return Xt(Wa,function(h){var a="_."+h[0];n&h[1]&&!Ln(i,a)&&i.push(a)}),i.sort()}function No(i){if(i instanceof Z)return i.clone();var n=new Jt(i.__wrapped__,i.__chain__);return n.__actions__=Rt(i.__actions__),n.__index__=i.__index__,n.__values__=i.__values__,n}function mp(i,n,h){(h?Ot(i,n,h):n===e)?n=1:n=mt(K(n),0);var a=i==null?0:i.length;if(!a||n<1)return[];for(var f=0,g=0,_=C(Un(a/n));f<a;)_[g++]=jt(i,f,f+=n);return _}function _p(i){for(var n=-1,h=i==null?0:i.length,a=0,f=[];++n<h;){var g=i[n];g&&(f[a++]=g)}return f}function bp(){var i=arguments.length;if(!i)return[];for(var n=C(i-1),h=arguments[0],a=i;a--;)n[a-1]=arguments[a];return Vi(Y(h)?Rt(h):[h],Mt(n,1))}var wp=q(function(i,n){return dt(i)?Ke(i,Mt(n,1,dt,!0)):[]}),Mp=q(function(i,n){var h=ti(n);return dt(h)&&(h=e),dt(i)?Ke(i,Mt(n,1,dt,!0),k(h,2)):[]}),xp=q(function(i,n){var h=ti(n);return dt(h)&&(h=e),dt(i)?Ke(i,Mt(n,1,dt,!0),e,h):[]});function yp(i,n,h){var a=i==null?0:i.length;return a?(n=h||n===e?1:K(n),jt(i,n<0?0:n,a)):[]}function Sp(i,n,h){var a=i==null?0:i.length;return a?(n=h||n===e?1:K(n),n=a-n,jt(i,0,n<0?0:n)):[]}function Cp(i,n){return i&&i.length?Jn(i,k(n,3),!0,!0):[]}function Tp(i,n){return i&&i.length?Jn(i,k(n,3),!0):[]}function Ep(i,n,h,a){var f=i==null?0:i.length;return f?(h&&typeof h!="number"&&Ot(i,n,h)&&(h=0,a=f),bd(i,n,h,a)):[]}function ko(i,n,h){var a=i==null?0:i.length;if(!a)return-1;var f=h==null?0:K(h);return f<0&&(f=mt(a+f,0)),Fn(i,k(n,3),f)}function Uo(i,n,h){var a=i==null?0:i.length;if(!a)return-1;var f=a-1;return h!==e&&(f=K(h),f=h<0?mt(a+f,0):Tt(f,a-1)),Fn(i,k(n,3),f,!0)}function Wo(i){var n=i==null?0:i.length;return n?Mt(i,1):[]}function Ip(i){var n=i==null?0:i.length;return n?Mt(i,ci):[]}function Lp(i,n){var h=i==null?0:i.length;return h?(n=n===e?1:K(n),Mt(i,n)):[]}function Fp(i){for(var n=-1,h=i==null?0:i.length,a={};++n<h;){var f=i[n];a[f[0]]=f[1]}return a}function Go(i){return i&&i.length?i[0]:e}function Op(i,n,h){var a=i==null?0:i.length;if(!a)return-1;var f=h==null?0:K(h);return f<0&&(f=mt(a+f,0)),ue(i,n,f)}function Ap(i){var n=i==null?0:i.length;return n?jt(i,0,-1):[]}var Vp=q(function(i){var n=ot(i,Dr);return n.length&&n[0]===i[0]?Ir(n):[]}),zp=q(function(i){var n=ti(i),h=ot(i,Dr);return n===ti(h)?n=e:h.pop(),h.length&&h[0]===i[0]?Ir(h,k(n,2)):[]}),Bp=q(function(i){var n=ti(i),h=ot(i,Dr);return n=typeof n=="function"?n:e,n&&h.pop(),h.length&&h[0]===i[0]?Ir(h,e,n):[]});function Rp(i,n){return i==null?"":Af.call(i,n)}function ti(i){var n=i==null?0:i.length;return n?i[n-1]:e}function Pp(i,n,h){var a=i==null?0:i.length;if(!a)return-1;var f=a;return h!==e&&(f=K(h),f=f<0?mt(a+f,0):Tt(f,a-1)),n===n?vf(i,n,f):Fn(i,xl,f,!0)}function Dp(i,n){return i&&i.length?jl(i,K(n)):e}var Np=q(Ho);function Ho(i,n){return i&&i.length&&n&&n.length?Ar(i,n):i}function kp(i,n,h){return i&&i.length&&n&&n.length?Ar(i,n,k(h,2)):i}function Up(i,n,h){return i&&i.length&&n&&n.length?Ar(i,n,e,h):i}var Wp=yi(function(i,n){var h=i==null?0:i.length,a=Sr(i,n);return eo(i,ot(n,function(f){return Si(f,h)?+f:f}).sort(fo)),a});function Gp(i,n){var h=[];if(!(i&&i.length))return h;var a=-1,f=[],g=i.length;for(n=k(n,3);++a<g;){var _=i[a];n(_,a,i)&&(h.push(_),f.push(a))}return eo(i,f),h}function Qr(i){return i==null?i:Rf.call(i)}function Hp(i,n,h){var a=i==null?0:i.length;return a?(h&&typeof h!="number"&&Ot(i,n,h)?(n=0,h=a):(n=n==null?0:K(n),h=h===e?a:K(h)),jt(i,n,h)):[]}function Yp(i,n){return Zn(i,n)}function Kp(i,n,h){return Br(i,n,k(h,2))}function $p(i,n){var h=i==null?0:i.length;if(h){var a=Zn(i,n);if(a<h&&ui(i[a],n))return a}return-1}function qp(i,n){return Zn(i,n,!0)}function Xp(i,n,h){return Br(i,n,k(h,2),!0)}function Zp(i,n){var h=i==null?0:i.length;if(h){var a=Zn(i,n,!0)-1;if(ui(i[a],n))return a}return-1}function Jp(i){return i&&i.length?so(i):[]}function Qp(i,n){return i&&i.length?so(i,k(n,2)):[]}function jp(i){var n=i==null?0:i.length;return n?jt(i,1,n):[]}function t0(i,n,h){return i&&i.length?(n=h||n===e?1:K(n),jt(i,0,n<0?0:n)):[]}function i0(i,n,h){var a=i==null?0:i.length;return a?(n=h||n===e?1:K(n),n=a-n,jt(i,n<0?0:n,a)):[]}function e0(i,n){return i&&i.length?Jn(i,k(n,3),!1,!0):[]}function n0(i,n){return i&&i.length?Jn(i,k(n,3)):[]}var s0=q(function(i){return Pi(Mt(i,1,dt,!0))}),r0=q(function(i){var n=ti(i);return dt(n)&&(n=e),Pi(Mt(i,1,dt,!0),k(n,2))}),h0=q(function(i){var n=ti(i);return n=typeof n=="function"?n:e,Pi(Mt(i,1,dt,!0),e,n)});function l0(i){return i&&i.length?Pi(i):[]}function o0(i,n){return i&&i.length?Pi(i,k(n,2)):[]}function u0(i,n){return n=typeof n=="function"?n:e,i&&i.length?Pi(i,e,n):[]}function jr(i){if(!(i&&i.length))return[];var n=0;return i=Ai(i,function(h){if(dt(h))return n=mt(h.length,n),!0}),vr(n,function(h){return ot(i,dr(h))})}function Yo(i,n){if(!(i&&i.length))return[];var h=jr(i);return n==null?h:ot(h,function(a){return Ut(n,e,a)})}var a0=q(function(i,n){return dt(i)?Ke(i,n):[]}),c0=q(function(i){return Pr(Ai(i,dt))}),f0=q(function(i){var n=ti(i);return dt(n)&&(n=e),Pr(Ai(i,dt),k(n,2))}),d0=q(function(i){var n=ti(i);return n=typeof n=="function"?n:e,Pr(Ai(i,dt),e,n)}),p0=q(jr);function g0(i,n){return oo(i||[],n||[],Ye)}function v0(i,n){return oo(i||[],n||[],Xe)}var m0=q(function(i){var n=i.length,h=n>1?i[n-1]:e;return h=typeof h=="function"?(i.pop(),h):e,Yo(i,h)});function Ko(i){var n=p(i);return n.__chain__=!0,n}function _0(i,n){return n(i),i}function hs(i,n){return n(i)}var b0=yi(function(i){var n=i.length,h=n?i[0]:0,a=this.__wrapped__,f=function(g){return Sr(g,i)};return n>1||this.__actions__.length||!(a instanceof Z)||!Si(h)?this.thru(f):(a=a.slice(h,+h+(n?1:0)),a.__actions__.push({func:hs,args:[f],thisArg:e}),new Jt(a,this.__chain__).thru(function(g){return n&&!g.length&&g.push(e),g}))});function w0(){return Ko(this)}function M0(){return new Jt(this.value(),this.__chain__)}function x0(){this.__values__===e&&(this.__values__=hu(this.value()));var i=this.__index__>=this.__values__.length,n=i?e:this.__values__[this.__index__++];return{done:i,value:n}}function y0(){return this}function S0(i){for(var n,h=this;h instanceof Yn;){var a=No(h);a.__index__=0,a.__values__=e,n?f.__wrapped__=a:n=a;var f=a;h=h.__wrapped__}return f.__wrapped__=i,n}function C0(){var i=this.__wrapped__;if(i instanceof Z){var n=i;return this.__actions__.length&&(n=new Z(this)),n=n.reverse(),n.__actions__.push({func:hs,args:[Qr],thisArg:e}),new Jt(n,this.__chain__)}return this.thru(Qr)}function T0(){return lo(this.__wrapped__,this.__actions__)}var E0=Qn(function(i,n,h){tt.call(i,h)?++i[h]:Mi(i,h,1)});function I0(i,n,h){var a=Y(i)?wl:_d;return h&&Ot(i,n,h)&&(n=e),a(i,k(n,3))}function L0(i,n){var h=Y(i)?Ai:Hl;return h(i,k(n,3))}var F0=bo(ko),O0=bo(Uo);function A0(i,n){return Mt(ls(i,n),1)}function V0(i,n){return Mt(ls(i,n),ci)}function z0(i,n,h){return h=h===e?1:K(h),Mt(ls(i,n),h)}function $o(i,n){var h=Y(i)?Xt:Ri;return h(i,k(n,3))}function qo(i,n){var h=Y(i)?Qc:Gl;return h(i,k(n,3))}var B0=Qn(function(i,n,h){tt.call(i,h)?i[h].push(n):Mi(i,h,[n])});function R0(i,n,h,a){i=Pt(i)?i:Me(i),h=h&&!a?K(h):0;var f=i.length;return h<0&&(h=mt(f+h,0)),fs(i)?h<=f&&i.indexOf(n,h)>-1:!!f&&ue(i,n,h)>-1}var P0=q(function(i,n,h){var a=-1,f=typeof n=="function",g=Pt(i)?C(i.length):[];return Ri(i,function(_){g[++a]=f?Ut(n,_,h):$e(_,n,h)}),g}),D0=Qn(function(i,n,h){Mi(i,h,n)});function ls(i,n){var h=Y(i)?ot:Zl;return h(i,k(n,3))}function N0(i,n,h,a){return i==null?[]:(Y(n)||(n=n==null?[]:[n]),h=a?e:h,Y(h)||(h=h==null?[]:[h]),to(i,n,h))}var k0=Qn(function(i,n,h){i[h?0:1].push(n)},function(){return[[],[]]});function U0(i,n,h){var a=Y(i)?cr:Sl,f=arguments.length<3;return a(i,k(n,4),h,f,Ri)}function W0(i,n,h){var a=Y(i)?jc:Sl,f=arguments.length<3;return a(i,k(n,4),h,f,Gl)}function G0(i,n){var h=Y(i)?Ai:Hl;return h(i,as(k(n,3)))}function H0(i){var n=Y(i)?Nl:Rd;return n(i)}function Y0(i,n,h){(h?Ot(i,n,h):n===e)?n=1:n=K(n);var a=Y(i)?dd:Pd;return a(i,n)}function K0(i){var n=Y(i)?pd:Nd;return n(i)}function $0(i){if(i==null)return 0;if(Pt(i))return fs(i)?ce(i):i.length;var n=Et(i);return n==ri||n==hi?i.size:Fr(i).length}function q0(i,n,h){var a=Y(i)?fr:kd;return h&&Ot(i,n,h)&&(n=e),a(i,k(n,3))}var X0=q(function(i,n){if(i==null)return[];var h=n.length;return h>1&&Ot(i,n[0],n[1])?n=[]:h>2&&Ot(n[0],n[1],n[2])&&(n=[n[0]]),to(i,Mt(n,1),[])}),os=Lf||function(){return wt.Date.now()};function Z0(i,n){if(typeof n!="function")throw new Zt(u);return i=K(i),function(){if(--i<1)return n.apply(this,arguments)}}function Xo(i,n,h){return n=h?e:n,n=i&&n==null?i.length:n,xi(i,ut,e,e,e,e,n)}function Zo(i,n){var h;if(typeof n!="function")throw new Zt(u);return i=K(i),function(){return--i>0&&(h=n.apply(this,arguments)),i<=1&&(n=e),h}}var th=q(function(i,n,h){var a=z;if(h.length){var f=zi(h,be(th));a|=G}return xi(i,a,n,h,f)}),Jo=q(function(i,n,h){var a=z|R;if(h.length){var f=zi(h,be(Jo));a|=G}return xi(n,a,i,h,f)});function Qo(i,n,h){n=h?e:n;var a=xi(i,P,e,e,e,e,e,n);return a.placeholder=Qo.placeholder,a}function jo(i,n,h){n=h?e:n;var a=xi(i,D,e,e,e,e,e,n);return a.placeholder=jo.placeholder,a}function tu(i,n,h){var a,f,g,_,w,y,E=0,I=!1,F=!1,V=!0;if(typeof i!="function")throw new Zt(u);n=ii(n)||0,ct(h)&&(I=!!h.leading,F="maxWait"in h,g=F?mt(ii(h.maxWait)||0,n):g,V="trailing"in h?!!h.trailing:V);function N(pt){var ai=a,Ei=f;return a=f=e,E=pt,_=i.apply(Ei,ai),_}function U(pt){return E=pt,w=Qe(X,n),I?N(pt):_}function $(pt){var ai=pt-y,Ei=pt-E,bu=n-ai;return F?Tt(bu,g-Ei):bu}function W(pt){var ai=pt-y,Ei=pt-E;return y===e||ai>=n||ai<0||F&&Ei>=g}function X(){var pt=os();if(W(pt))return J(pt);w=Qe(X,$(pt))}function J(pt){return w=e,V&&a?N(pt):(a=f=e,_)}function Yt(){w!==e&&uo(w),E=0,a=y=f=w=e}function At(){return w===e?_:J(os())}function Kt(){var pt=os(),ai=W(pt);if(a=arguments,f=this,y=pt,ai){if(w===e)return U(y);if(F)return uo(w),w=Qe(X,n),N(y)}return w===e&&(w=Qe(X,n)),_}return Kt.cancel=Yt,Kt.flush=At,Kt}var J0=q(function(i,n){return Wl(i,1,n)}),Q0=q(function(i,n,h){return Wl(i,ii(n)||0,h)});function j0(i){return xi(i,Vt)}function us(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new Zt(u);var h=function(){var a=arguments,f=n?n.apply(this,a):a[0],g=h.cache;if(g.has(f))return g.get(f);var _=i.apply(this,a);return h.cache=g.set(f,_)||g,_};return h.cache=new(us.Cache||wi),h}us.Cache=wi;function as(i){if(typeof i!="function")throw new Zt(u);return function(){var n=arguments;switch(n.length){case 0:return!i.call(this);case 1:return!i.call(this,n[0]);case 2:return!i.call(this,n[0],n[1]);case 3:return!i.call(this,n[0],n[1],n[2])}return!i.apply(this,n)}}function tg(i){return Zo(2,i)}var ig=Ud(function(i,n){n=n.length==1&&Y(n[0])?ot(n[0],Wt(k())):ot(Mt(n,1),Wt(k()));var h=n.length;return q(function(a){for(var f=-1,g=Tt(a.length,h);++f<g;)a[f]=n[f].call(this,a[f]);return Ut(i,this,a)})}),ih=q(function(i,n){var h=zi(n,be(ih));return xi(i,G,e,n,h)}),iu=q(function(i,n){var h=zi(n,be(iu));return xi(i,gt,e,n,h)}),eg=yi(function(i,n){return xi(i,at,e,e,e,n)});function ng(i,n){if(typeof i!="function")throw new Zt(u);return n=n===e?n:K(n),q(i,n)}function sg(i,n){if(typeof i!="function")throw new Zt(u);return n=n==null?0:mt(K(n),0),q(function(h){var a=h[n],f=Ni(h,0,n);return a&&Vi(f,a),Ut(i,this,f)})}function rg(i,n,h){var a=!0,f=!0;if(typeof i!="function")throw new Zt(u);return ct(h)&&(a="leading"in h?!!h.leading:a,f="trailing"in h?!!h.trailing:f),tu(i,n,{leading:a,maxWait:n,trailing:f})}function hg(i){return Xo(i,1)}function lg(i,n){return ih(Nr(n),i)}function og(){if(!arguments.length)return[];var i=arguments[0];return Y(i)?i:[i]}function ug(i){return Qt(i,S)}function ag(i,n){return n=typeof n=="function"?n:e,Qt(i,S,n)}function cg(i){return Qt(i,b|S)}function fg(i,n){return n=typeof n=="function"?n:e,Qt(i,b|S,n)}function dg(i,n){return n==null||Ul(i,n,_t(n))}function ui(i,n){return i===n||i!==i&&n!==n}var pg=es(Er),gg=es(function(i,n){return i>=n}),Ji=$l(function(){return arguments}())?$l:function(i){return ft(i)&&tt.call(i,"callee")&&!Vl.call(i,"callee")},Y=C.isArray,vg=pl?Wt(pl):Sd;function Pt(i){return i!=null&&cs(i.length)&&!Ci(i)}function dt(i){return ft(i)&&Pt(i)}function mg(i){return i===!0||i===!1||ft(i)&&Ft(i)==Ae}var ki=Of||fh,_g=gl?Wt(gl):Cd;function bg(i){return ft(i)&&i.nodeType===1&&!je(i)}function wg(i){if(i==null)return!0;if(Pt(i)&&(Y(i)||typeof i=="string"||typeof i.splice=="function"||ki(i)||we(i)||Ji(i)))return!i.length;var n=Et(i);if(n==ri||n==hi)return!i.size;if(Je(i))return!Fr(i).length;for(var h in i)if(tt.call(i,h))return!1;return!0}function Mg(i,n){return qe(i,n)}function xg(i,n,h){h=typeof h=="function"?h:e;var a=h?h(i,n):e;return a===e?qe(i,n,e,h):!!a}function eh(i){if(!ft(i))return!1;var n=Ft(i);return n==yn||n==Ha||typeof i.message=="string"&&typeof i.name=="string"&&!je(i)}function yg(i){return typeof i=="number"&&Bl(i)}function Ci(i){if(!ct(i))return!1;var n=Ft(i);return n==Sn||n==Wh||n==Ga||n==Ka}function eu(i){return typeof i=="number"&&i==K(i)}function cs(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=zt}function ct(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}function ft(i){return i!=null&&typeof i=="object"}var nu=vl?Wt(vl):Ed;function Sg(i,n){return i===n||Lr(i,n,Kr(n))}function Cg(i,n,h){return h=typeof h=="function"?h:e,Lr(i,n,Kr(n),h)}function Tg(i){return su(i)&&i!=+i}function Eg(i){if(ap(i))throw new H(o);return ql(i)}function Ig(i){return i===null}function Lg(i){return i==null}function su(i){return typeof i=="number"||ft(i)&&Ft(i)==ze}function je(i){if(!ft(i)||Ft(i)!=_i)return!1;var n=Dn(i);if(n===null)return!0;var h=tt.call(n,"constructor")&&n.constructor;return typeof h=="function"&&h instanceof h&&zn.call(h)==Cf}var nh=ml?Wt(ml):Id;function Fg(i){return eu(i)&&i>=-zt&&i<=zt}var ru=_l?Wt(_l):Ld;function fs(i){return typeof i=="string"||!Y(i)&&ft(i)&&Ft(i)==Re}function Ht(i){return typeof i=="symbol"||ft(i)&&Ft(i)==Cn}var we=bl?Wt(bl):Fd;function Og(i){return i===e}function Ag(i){return ft(i)&&Et(i)==Pe}function Vg(i){return ft(i)&&Ft(i)==qa}var zg=es(Or),Bg=es(function(i,n){return i<=n});function hu(i){if(!i)return[];if(Pt(i))return fs(i)?li(i):Rt(i);if(ke&&i[ke])return df(i[ke]());var n=Et(i),h=n==ri?_r:n==hi?On:Me;return h(i)}function Ti(i){if(!i)return i===0?i:0;if(i=ii(i),i===ci||i===-ci){var n=i<0?-1:1;return n*Oe}return i===i?i:0}function K(i){var n=Ti(i),h=n%1;return n===n?h?n-h:n:0}function lu(i){return i?$i(K(i),0,Bt):0}function ii(i){if(typeof i=="number")return i;if(Ht(i))return Oi;if(ct(i)){var n=typeof i.valueOf=="function"?i.valueOf():i;i=ct(n)?n+"":n}if(typeof i!="string")return i===0?i:+i;i=Cl(i);var h=gc.test(i);return h||mc.test(i)?Xc(i.slice(2),h?2:8):pc.test(i)?Oi:+i}function ou(i){return di(i,Dt(i))}function Rg(i){return i?$i(K(i),-zt,zt):i===0?i:0}function j(i){return i==null?"":Gt(i)}var Pg=me(function(i,n){if(Je(n)||Pt(n)){di(n,_t(n),i);return}for(var h in n)tt.call(n,h)&&Ye(i,h,n[h])}),uu=me(function(i,n){di(n,Dt(n),i)}),ds=me(function(i,n,h,a){di(n,Dt(n),i,a)}),Dg=me(function(i,n,h,a){di(n,_t(n),i,a)}),Ng=yi(Sr);function kg(i,n){var h=ve(i);return n==null?h:kl(h,n)}var Ug=q(function(i,n){i=st(i);var h=-1,a=n.length,f=a>2?n[2]:e;for(f&&Ot(n[0],n[1],f)&&(a=1);++h<a;)for(var g=n[h],_=Dt(g),w=-1,y=_.length;++w<y;){var E=_[w],I=i[E];(I===e||ui(I,de[E])&&!tt.call(i,E))&&(i[E]=g[E])}return i}),Wg=q(function(i){return i.push(e,To),Ut(au,e,i)});function Gg(i,n){return Ml(i,k(n,3),fi)}function Hg(i,n){return Ml(i,k(n,3),Tr)}function Yg(i,n){return i==null?i:Cr(i,k(n,3),Dt)}function Kg(i,n){return i==null?i:Yl(i,k(n,3),Dt)}function $g(i,n){return i&&fi(i,k(n,3))}function qg(i,n){return i&&Tr(i,k(n,3))}function Xg(i){return i==null?[]:qn(i,_t(i))}function Zg(i){return i==null?[]:qn(i,Dt(i))}function sh(i,n,h){var a=i==null?e:qi(i,n);return a===e?h:a}function Jg(i,n){return i!=null&&Lo(i,n,wd)}function rh(i,n){return i!=null&&Lo(i,n,Md)}var Qg=Mo(function(i,n,h){n!=null&&typeof n.toString!="function"&&(n=Bn.call(n)),i[n]=h},lh(Nt)),jg=Mo(function(i,n,h){n!=null&&typeof n.toString!="function"&&(n=Bn.call(n)),tt.call(i,n)?i[n].push(h):i[n]=[h]},k),tv=q($e);function _t(i){return Pt(i)?Dl(i):Fr(i)}function Dt(i){return Pt(i)?Dl(i,!0):Od(i)}function iv(i,n){var h={};return n=k(n,3),fi(i,function(a,f,g){Mi(h,n(a,f,g),a)}),h}function ev(i,n){var h={};return n=k(n,3),fi(i,function(a,f,g){Mi(h,f,n(a,f,g))}),h}var nv=me(function(i,n,h){Xn(i,n,h)}),au=me(function(i,n,h,a){Xn(i,n,h,a)}),sv=yi(function(i,n){var h={};if(i==null)return h;var a=!1;n=ot(n,function(g){return g=Di(g,i),a||(a=g.length>1),g}),di(i,Hr(i),h),a&&(h=Qt(h,b|x|S,Qd));for(var f=n.length;f--;)Rr(h,n[f]);return h});function rv(i,n){return cu(i,as(k(n)))}var hv=yi(function(i,n){return i==null?{}:Vd(i,n)});function cu(i,n){if(i==null)return{};var h=ot(Hr(i),function(a){return[a]});return n=k(n),io(i,h,function(a,f){return n(a,f[0])})}function lv(i,n,h){n=Di(n,i);var a=-1,f=n.length;for(f||(f=1,i=e);++a<f;){var g=i==null?e:i[pi(n[a])];g===e&&(a=f,g=h),i=Ci(g)?g.call(i):g}return i}function ov(i,n,h){return i==null?i:Xe(i,n,h)}function uv(i,n,h,a){return a=typeof a=="function"?a:e,i==null?i:Xe(i,n,h,a)}var fu=So(_t),du=So(Dt);function av(i,n,h){var a=Y(i),f=a||ki(i)||we(i);if(n=k(n,4),h==null){var g=i&&i.constructor;f?h=a?new g:[]:ct(i)?h=Ci(g)?ve(Dn(i)):{}:h={}}return(f?Xt:fi)(i,function(_,w,y){return n(h,_,w,y)}),h}function cv(i,n){return i==null?!0:Rr(i,n)}function fv(i,n,h){return i==null?i:ho(i,n,Nr(h))}function dv(i,n,h,a){return a=typeof a=="function"?a:e,i==null?i:ho(i,n,Nr(h),a)}function Me(i){return i==null?[]:mr(i,_t(i))}function pv(i){return i==null?[]:mr(i,Dt(i))}function gv(i,n,h){return h===e&&(h=n,n=e),h!==e&&(h=ii(h),h=h===h?h:0),n!==e&&(n=ii(n),n=n===n?n:0),$i(ii(i),n,h)}function vv(i,n,h){return n=Ti(n),h===e?(h=n,n=0):h=Ti(h),i=ii(i),xd(i,n,h)}function mv(i,n,h){if(h&&typeof h!="boolean"&&Ot(i,n,h)&&(n=h=e),h===e&&(typeof n=="boolean"?(h=n,n=e):typeof i=="boolean"&&(h=i,i=e)),i===e&&n===e?(i=0,n=1):(i=Ti(i),n===e?(n=i,i=0):n=Ti(n)),i>n){var a=i;i=n,n=a}if(h||i%1||n%1){var f=Rl();return Tt(i+f*(n-i+qc("1e-"+((f+"").length-1))),n)}return Vr(i,n)}var _v=_e(function(i,n,h){return n=n.toLowerCase(),i+(h?pu(n):n)});function pu(i){return hh(j(i).toLowerCase())}function gu(i){return i=j(i),i&&i.replace(bc,of).replace(Dc,"")}function bv(i,n,h){i=j(i),n=Gt(n);var a=i.length;h=h===e?a:$i(K(h),0,a);var f=h;return h-=n.length,h>=0&&i.slice(h,f)==n}function wv(i){return i=j(i),i&&ja.test(i)?i.replace(Yh,uf):i}function Mv(i){return i=j(i),i&&rc.test(i)?i.replace(ir,"\\$&"):i}var xv=_e(function(i,n,h){return i+(h?"-":"")+n.toLowerCase()}),yv=_e(function(i,n,h){return i+(h?" ":"")+n.toLowerCase()}),Sv=_o("toLowerCase");function Cv(i,n,h){i=j(i),n=K(n);var a=n?ce(i):0;if(!n||a>=n)return i;var f=(n-a)/2;return is(Wn(f),h)+i+is(Un(f),h)}function Tv(i,n,h){i=j(i),n=K(n);var a=n?ce(i):0;return n&&a<n?i+is(n-a,h):i}function Ev(i,n,h){i=j(i),n=K(n);var a=n?ce(i):0;return n&&a<n?is(n-a,h)+i:i}function Iv(i,n,h){return h||n==null?n=0:n&&(n=+n),Bf(j(i).replace(er,""),n||0)}function Lv(i,n,h){return(h?Ot(i,n,h):n===e)?n=1:n=K(n),zr(j(i),n)}function Fv(){var i=arguments,n=j(i[0]);return i.length<3?n:n.replace(i[1],i[2])}var Ov=_e(function(i,n,h){return i+(h?"_":"")+n.toLowerCase()});function Av(i,n,h){return h&&typeof h!="number"&&Ot(i,n,h)&&(n=h=e),h=h===e?Bt:h>>>0,h?(i=j(i),i&&(typeof n=="string"||n!=null&&!nh(n))&&(n=Gt(n),!n&&ae(i))?Ni(li(i),0,h):i.split(n,h)):[]}var Vv=_e(function(i,n,h){return i+(h?" ":"")+hh(n)});function zv(i,n,h){return i=j(i),h=h==null?0:$i(K(h),0,i.length),n=Gt(n),i.slice(h,h+n.length)==n}function Bv(i,n,h){var a=p.templateSettings;h&&Ot(i,n,h)&&(n=e),i=j(i),n=ds({},n,a,Co);var f=ds({},n.imports,a.imports,Co),g=_t(f),_=mr(f,g),w,y,E=0,I=n.interpolate||Tn,F="__p += '",V=br((n.escape||Tn).source+"|"+I.source+"|"+(I===Kh?dc:Tn).source+"|"+(n.evaluate||Tn).source+"|$","g"),N="//# sourceURL="+(tt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gc+"]")+`
`;i.replace(V,function(W,X,J,Yt,At,Kt){return J||(J=Yt),F+=i.slice(E,Kt).replace(wc,af),X&&(w=!0,F+=`' +
__e(`+X+`) +
'`),At&&(y=!0,F+=`';
`+At+`;
__p += '`),J&&(F+=`' +
((__t = (`+J+`)) == null ? '' : __t) +
'`),E=Kt+W.length,W}),F+=`';
`;var U=tt.call(n,"variable")&&n.variable;if(!U)F=`with (obj) {
`+F+`
}
`;else if(cc.test(U))throw new H(c);F=(y?F.replace(Xa,""):F).replace(Za,"$1").replace(Ja,"$1;"),F="function("+(U||"obj")+`) {
`+(U?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var $=mu(function(){return Q(g,N+"return "+F).apply(e,_)});if($.source=F,eh($))throw $;return $}function Rv(i){return j(i).toLowerCase()}function Pv(i){return j(i).toUpperCase()}function Dv(i,n,h){if(i=j(i),i&&(h||n===e))return Cl(i);if(!i||!(n=Gt(n)))return i;var a=li(i),f=li(n),g=Tl(a,f),_=El(a,f)+1;return Ni(a,g,_).join("")}function Nv(i,n,h){if(i=j(i),i&&(h||n===e))return i.slice(0,Ll(i)+1);if(!i||!(n=Gt(n)))return i;var a=li(i),f=El(a,li(n))+1;return Ni(a,0,f).join("")}function kv(i,n,h){if(i=j(i),i&&(h||n===e))return i.replace(er,"");if(!i||!(n=Gt(n)))return i;var a=li(i),f=Tl(a,li(n));return Ni(a,f).join("")}function Uv(i,n){var h=Fi,a=Wi;if(ct(n)){var f="separator"in n?n.separator:f;h="length"in n?K(n.length):h,a="omission"in n?Gt(n.omission):a}i=j(i);var g=i.length;if(ae(i)){var _=li(i);g=_.length}if(h>=g)return i;var w=h-ce(a);if(w<1)return a;var y=_?Ni(_,0,w).join(""):i.slice(0,w);if(f===e)return y+a;if(_&&(w+=y.length-w),nh(f)){if(i.slice(w).search(f)){var E,I=y;for(f.global||(f=br(f.source,j($h.exec(f))+"g")),f.lastIndex=0;E=f.exec(I);)var F=E.index;y=y.slice(0,F===e?w:F)}}else if(i.indexOf(Gt(f),w)!=w){var V=y.lastIndexOf(f);V>-1&&(y=y.slice(0,V))}return y+a}function Wv(i){return i=j(i),i&&Qa.test(i)?i.replace(Hh,mf):i}var Gv=_e(function(i,n,h){return i+(h?" ":"")+n.toUpperCase()}),hh=_o("toUpperCase");function vu(i,n,h){return i=j(i),n=h?e:n,n===e?ff(i)?wf(i):nf(i):i.match(n)||[]}var mu=q(function(i,n){try{return Ut(i,e,n)}catch(h){return eh(h)?h:new H(h)}}),Hv=yi(function(i,n){return Xt(n,function(h){h=pi(h),Mi(i,h,th(i[h],i))}),i});function Yv(i){var n=i==null?0:i.length,h=k();return i=n?ot(i,function(a){if(typeof a[1]!="function")throw new Zt(u);return[h(a[0]),a[1]]}):[],q(function(a){for(var f=-1;++f<n;){var g=i[f];if(Ut(g[0],this,a))return Ut(g[1],this,a)}})}function Kv(i){return md(Qt(i,b))}function lh(i){return function(){return i}}function $v(i,n){return i==null||i!==i?n:i}var qv=wo(),Xv=wo(!0);function Nt(i){return i}function oh(i){return Xl(typeof i=="function"?i:Qt(i,b))}function Zv(i){return Jl(Qt(i,b))}function Jv(i,n){return Ql(i,Qt(n,b))}var Qv=q(function(i,n){return function(h){return $e(h,i,n)}}),jv=q(function(i,n){return function(h){return $e(i,h,n)}});function uh(i,n,h){var a=_t(n),f=qn(n,a);h==null&&!(ct(n)&&(f.length||!a.length))&&(h=n,n=i,i=this,f=qn(n,_t(n)));var g=!(ct(h)&&"chain"in h)||!!h.chain,_=Ci(i);return Xt(f,function(w){var y=n[w];i[w]=y,_&&(i.prototype[w]=function(){var E=this.__chain__;if(g||E){var I=i(this.__wrapped__),F=I.__actions__=Rt(this.__actions__);return F.push({func:y,args:arguments,thisArg:i}),I.__chain__=E,I}return y.apply(i,Vi([this.value()],arguments))})}),i}function tm(){return wt._===this&&(wt._=Tf),this}function ah(){}function im(i){return i=K(i),q(function(n){return jl(n,i)})}var em=Ur(ot),nm=Ur(wl),sm=Ur(fr);function _u(i){return qr(i)?dr(pi(i)):zd(i)}function rm(i){return function(n){return i==null?e:qi(i,n)}}var hm=xo(),lm=xo(!0);function ch(){return[]}function fh(){return!1}function om(){return{}}function um(){return""}function am(){return!0}function cm(i,n){if(i=K(i),i<1||i>zt)return[];var h=Bt,a=Tt(i,Bt);n=k(n),i-=Bt;for(var f=vr(a,n);++h<i;)n(h);return f}function fm(i){return Y(i)?ot(i,pi):Ht(i)?[i]:Rt(Do(j(i)))}function dm(i){var n=++Sf;return j(i)+n}var pm=ts(function(i,n){return i+n},0),gm=Wr("ceil"),vm=ts(function(i,n){return i/n},1),mm=Wr("floor");function _m(i){return i&&i.length?$n(i,Nt,Er):e}function bm(i,n){return i&&i.length?$n(i,k(n,2),Er):e}function wm(i){return yl(i,Nt)}function Mm(i,n){return yl(i,k(n,2))}function xm(i){return i&&i.length?$n(i,Nt,Or):e}function ym(i,n){return i&&i.length?$n(i,k(n,2),Or):e}var Sm=ts(function(i,n){return i*n},1),Cm=Wr("round"),Tm=ts(function(i,n){return i-n},0);function Em(i){return i&&i.length?gr(i,Nt):0}function Im(i,n){return i&&i.length?gr(i,k(n,2)):0}return p.after=Z0,p.ary=Xo,p.assign=Pg,p.assignIn=uu,p.assignInWith=ds,p.assignWith=Dg,p.at=Ng,p.before=Zo,p.bind=th,p.bindAll=Hv,p.bindKey=Jo,p.castArray=og,p.chain=Ko,p.chunk=mp,p.compact=_p,p.concat=bp,p.cond=Yv,p.conforms=Kv,p.constant=lh,p.countBy=E0,p.create=kg,p.curry=Qo,p.curryRight=jo,p.debounce=tu,p.defaults=Ug,p.defaultsDeep=Wg,p.defer=J0,p.delay=Q0,p.difference=wp,p.differenceBy=Mp,p.differenceWith=xp,p.drop=yp,p.dropRight=Sp,p.dropRightWhile=Cp,p.dropWhile=Tp,p.fill=Ep,p.filter=L0,p.flatMap=A0,p.flatMapDeep=V0,p.flatMapDepth=z0,p.flatten=Wo,p.flattenDeep=Ip,p.flattenDepth=Lp,p.flip=j0,p.flow=qv,p.flowRight=Xv,p.fromPairs=Fp,p.functions=Xg,p.functionsIn=Zg,p.groupBy=B0,p.initial=Ap,p.intersection=Vp,p.intersectionBy=zp,p.intersectionWith=Bp,p.invert=Qg,p.invertBy=jg,p.invokeMap=P0,p.iteratee=oh,p.keyBy=D0,p.keys=_t,p.keysIn=Dt,p.map=ls,p.mapKeys=iv,p.mapValues=ev,p.matches=Zv,p.matchesProperty=Jv,p.memoize=us,p.merge=nv,p.mergeWith=au,p.method=Qv,p.methodOf=jv,p.mixin=uh,p.negate=as,p.nthArg=im,p.omit=sv,p.omitBy=rv,p.once=tg,p.orderBy=N0,p.over=em,p.overArgs=ig,p.overEvery=nm,p.overSome=sm,p.partial=ih,p.partialRight=iu,p.partition=k0,p.pick=hv,p.pickBy=cu,p.property=_u,p.propertyOf=rm,p.pull=Np,p.pullAll=Ho,p.pullAllBy=kp,p.pullAllWith=Up,p.pullAt=Wp,p.range=hm,p.rangeRight=lm,p.rearg=eg,p.reject=G0,p.remove=Gp,p.rest=ng,p.reverse=Qr,p.sampleSize=Y0,p.set=ov,p.setWith=uv,p.shuffle=K0,p.slice=Hp,p.sortBy=X0,p.sortedUniq=Jp,p.sortedUniqBy=Qp,p.split=Av,p.spread=sg,p.tail=jp,p.take=t0,p.takeRight=i0,p.takeRightWhile=e0,p.takeWhile=n0,p.tap=_0,p.throttle=rg,p.thru=hs,p.toArray=hu,p.toPairs=fu,p.toPairsIn=du,p.toPath=fm,p.toPlainObject=ou,p.transform=av,p.unary=hg,p.union=s0,p.unionBy=r0,p.unionWith=h0,p.uniq=l0,p.uniqBy=o0,p.uniqWith=u0,p.unset=cv,p.unzip=jr,p.unzipWith=Yo,p.update=fv,p.updateWith=dv,p.values=Me,p.valuesIn=pv,p.without=a0,p.words=vu,p.wrap=lg,p.xor=c0,p.xorBy=f0,p.xorWith=d0,p.zip=p0,p.zipObject=g0,p.zipObjectDeep=v0,p.zipWith=m0,p.entries=fu,p.entriesIn=du,p.extend=uu,p.extendWith=ds,uh(p,p),p.add=pm,p.attempt=mu,p.camelCase=_v,p.capitalize=pu,p.ceil=gm,p.clamp=gv,p.clone=ug,p.cloneDeep=cg,p.cloneDeepWith=fg,p.cloneWith=ag,p.conformsTo=dg,p.deburr=gu,p.defaultTo=$v,p.divide=vm,p.endsWith=bv,p.eq=ui,p.escape=wv,p.escapeRegExp=Mv,p.every=I0,p.find=F0,p.findIndex=ko,p.findKey=Gg,p.findLast=O0,p.findLastIndex=Uo,p.findLastKey=Hg,p.floor=mm,p.forEach=$o,p.forEachRight=qo,p.forIn=Yg,p.forInRight=Kg,p.forOwn=$g,p.forOwnRight=qg,p.get=sh,p.gt=pg,p.gte=gg,p.has=Jg,p.hasIn=rh,p.head=Go,p.identity=Nt,p.includes=R0,p.indexOf=Op,p.inRange=vv,p.invoke=tv,p.isArguments=Ji,p.isArray=Y,p.isArrayBuffer=vg,p.isArrayLike=Pt,p.isArrayLikeObject=dt,p.isBoolean=mg,p.isBuffer=ki,p.isDate=_g,p.isElement=bg,p.isEmpty=wg,p.isEqual=Mg,p.isEqualWith=xg,p.isError=eh,p.isFinite=yg,p.isFunction=Ci,p.isInteger=eu,p.isLength=cs,p.isMap=nu,p.isMatch=Sg,p.isMatchWith=Cg,p.isNaN=Tg,p.isNative=Eg,p.isNil=Lg,p.isNull=Ig,p.isNumber=su,p.isObject=ct,p.isObjectLike=ft,p.isPlainObject=je,p.isRegExp=nh,p.isSafeInteger=Fg,p.isSet=ru,p.isString=fs,p.isSymbol=Ht,p.isTypedArray=we,p.isUndefined=Og,p.isWeakMap=Ag,p.isWeakSet=Vg,p.join=Rp,p.kebabCase=xv,p.last=ti,p.lastIndexOf=Pp,p.lowerCase=yv,p.lowerFirst=Sv,p.lt=zg,p.lte=Bg,p.max=_m,p.maxBy=bm,p.mean=wm,p.meanBy=Mm,p.min=xm,p.minBy=ym,p.stubArray=ch,p.stubFalse=fh,p.stubObject=om,p.stubString=um,p.stubTrue=am,p.multiply=Sm,p.nth=Dp,p.noConflict=tm,p.noop=ah,p.now=os,p.pad=Cv,p.padEnd=Tv,p.padStart=Ev,p.parseInt=Iv,p.random=mv,p.reduce=U0,p.reduceRight=W0,p.repeat=Lv,p.replace=Fv,p.result=lv,p.round=Cm,p.runInContext=M,p.sample=H0,p.size=$0,p.snakeCase=Ov,p.some=q0,p.sortedIndex=Yp,p.sortedIndexBy=Kp,p.sortedIndexOf=$p,p.sortedLastIndex=qp,p.sortedLastIndexBy=Xp,p.sortedLastIndexOf=Zp,p.startCase=Vv,p.startsWith=zv,p.subtract=Tm,p.sum=Em,p.sumBy=Im,p.template=Bv,p.times=cm,p.toFinite=Ti,p.toInteger=K,p.toLength=lu,p.toLower=Rv,p.toNumber=ii,p.toSafeInteger=Rg,p.toString=j,p.toUpper=Pv,p.trim=Dv,p.trimEnd=Nv,p.trimStart=kv,p.truncate=Uv,p.unescape=Wv,p.uniqueId=dm,p.upperCase=Gv,p.upperFirst=hh,p.each=$o,p.eachRight=qo,p.first=Go,uh(p,function(){var i={};return fi(p,function(n,h){tt.call(p.prototype,h)||(i[h]=n)}),i}(),{chain:!1}),p.VERSION=s,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){p[i].placeholder=p}),Xt(["drop","take"],function(i,n){Z.prototype[i]=function(h){h=h===e?1:mt(K(h),0);var a=this.__filtered__&&!n?new Z(this):this.clone();return a.__filtered__?a.__takeCount__=Tt(h,a.__takeCount__):a.__views__.push({size:Tt(h,Bt),type:i+(a.__dir__<0?"Right":"")}),a},Z.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),Xt(["filter","map","takeWhile"],function(i,n){var h=n+1,a=h==se||h==re;Z.prototype[i]=function(f){var g=this.clone();return g.__iteratees__.push({iteratee:k(f,3),type:h}),g.__filtered__=g.__filtered__||a,g}}),Xt(["head","last"],function(i,n){var h="take"+(n?"Right":"");Z.prototype[i]=function(){return this[h](1).value()[0]}}),Xt(["initial","tail"],function(i,n){var h="drop"+(n?"":"Right");Z.prototype[i]=function(){return this.__filtered__?new Z(this):this[h](1)}}),Z.prototype.compact=function(){return this.filter(Nt)},Z.prototype.find=function(i){return this.filter(i).head()},Z.prototype.findLast=function(i){return this.reverse().find(i)},Z.prototype.invokeMap=q(function(i,n){return typeof i=="function"?new Z(this):this.map(function(h){return $e(h,i,n)})}),Z.prototype.reject=function(i){return this.filter(as(k(i)))},Z.prototype.slice=function(i,n){i=K(i);var h=this;return h.__filtered__&&(i>0||n<0)?new Z(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),n!==e&&(n=K(n),h=n<0?h.dropRight(-n):h.take(n-i)),h)},Z.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Z.prototype.toArray=function(){return this.take(Bt)},fi(Z.prototype,function(i,n){var h=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),f=p[a?"take"+(n=="last"?"Right":""):n],g=a||/^find/.test(n);f&&(p.prototype[n]=function(){var _=this.__wrapped__,w=a?[1]:arguments,y=_ instanceof Z,E=w[0],I=y||Y(_),F=function(X){var J=f.apply(p,Vi([X],w));return a&&V?J[0]:J};I&&h&&typeof E=="function"&&E.length!=1&&(y=I=!1);var V=this.__chain__,N=!!this.__actions__.length,U=g&&!V,$=y&&!N;if(!g&&I){_=$?_:new Z(this);var W=i.apply(_,w);return W.__actions__.push({func:hs,args:[F],thisArg:e}),new Jt(W,V)}return U&&$?i.apply(this,w):(W=this.thru(F),U?a?W.value()[0]:W.value():W)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(i){var n=An[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",a=/^(?:pop|shift)$/.test(i);p.prototype[i]=function(){var f=arguments;if(a&&!this.__chain__){var g=this.value();return n.apply(Y(g)?g:[],f)}return this[h](function(_){return n.apply(Y(_)?_:[],f)})}}),fi(Z.prototype,function(i,n){var h=p[n];if(h){var a=h.name+"";tt.call(ge,a)||(ge[a]=[]),ge[a].push({name:n,func:h})}}),ge[jn(e,R).name]=[{name:"wrapper",func:e}],Z.prototype.clone=Wf,Z.prototype.reverse=Gf,Z.prototype.value=Hf,p.prototype.at=b0,p.prototype.chain=w0,p.prototype.commit=M0,p.prototype.next=x0,p.prototype.plant=S0,p.prototype.reverse=C0,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=T0,p.prototype.first=p.prototype.head,ke&&(p.prototype[ke]=y0),p},fe=Mf();Gi?((Gi.exports=fe)._=fe,or._=fe):wt._=fe}).call(tn)})(Z1,fn);function J1(l,t=0){var e=Math.pow(10,t),s=l*e*(1+Number.EPSILON);return Math.round(s)/e}function lb(l,t){return fn.minBy(l,e=>Math.abs(new Date(e.timestamp).getTime()-new Date(t).getTime()))}function ob(l,t){const e=l.map(r=>new Date(J1(new Date(r).getTime()/t)*t).toISOString());return[...new Set(e)].sort()}function ub(l,t){let e=[],s=fn.cloneDeep(l).reverse(),r=[];for(;s.length>0;){const o=s.pop();if(t([...r,o]))r=[...r,o];else if(t([o]))e.push(r),r=[o];else{console.log(`Item ${o} did not match condition and was discarded.`);continue}}return e.push(r),e}export{ib as F,eb as H,rb as I,hb as M,nb as a,lb as c,ub as g,fn as l,ob as u};
